var Game=function(t){var e={};function i(o){if(e[o])return e[o].exports;var a=e[o]={i:o,l:!1,exports:{}};return t[o].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=t,i.c=e,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(o,a,function(e){return t[e]}.bind(null,a));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1)}([function(t,e,i){"use strict";var o,a;Object.defineProperty(e,"__esModule",{value:!0}),e.EXPLOSION_RADIUS=e.BUILDING_RADIUS=e.BULLET_RADIUS=e.TANK_RADIUS=e.EXPLOSION_IMAGE=e.BULLET_IMAGE=e.BUILDING_IMAGE=e.TANK_IMAGE=e.IMAGE=e.CANVAS=e.AUDIO=e.ACTIONS=e.ACTION=e.BUILDINGS=e.BUILDING=e.EXPLOSION=e.DIRECTION=e.ENEMY_TANKS=e.TANK=void 0,function(t){t[t.UP=0]="UP",t[t.DOWN=1]="DOWN",t[t.LEFT=2]="LEFT",t[t.RIGHT=3]="RIGHT"}(o||(o={})),e.DIRECTION=o,function(t){t[t.PLAYER_TANK=0]="PLAYER_TANK",t[t.NORMAL_TANK=1]="NORMAL_TANK",t[t.SWIFT_TANK=2]="SWIFT_TANK",t[t.MEDIUM_TANK=3]="MEDIUM_TANK",t[t.HEAVY_TANK=4]="HEAVY_TANK"}(a||(a={})),e.TANK=a;e.TANK_RADIUS=20;e.BULLET_RADIUS=4;e.BUILDING_RADIUS=8;e.EXPLOSION_RADIUS=16;e.TANK_IMAGE=[[[[4,8,52,52],[68,8,52,52]],[[264,4,52,52],[328,4,52,52]],[[136,4,52,52],[204,4,52,52]],[[392,4,52,52],[460,4,52,52]]],[[[524,264,52,60],[588,264,52,60]],[[780,264,52,60],[844,264,52,60]],[[648,272,60,52],[712,272,60,52]],[[908,268,60,52],[972,268,60,52]]],[[[524,328,52,60],[588,328,52,60]],[[780,332,52,60],[844,332,52,60]],[[648,336,60,52],[712,336,60,52]],[[908,332,60,52],[972,332,60,52]]],[[[524,396,52,60],[588,396,52,60]],[[780,396,52,60],[844,396,52,60]],[[648,404,60,52],[712,404,60,52]],[[908,400,60,52],[972,400,60,52]]],[[[524,460,52,60],[588,460,52,60]],[[780,460,52,60],[844,460,52,60]],[[648,464,60,52],[712,464,60,52]],[[904,464,60,52],[968,464,60,52]]]];var n,s=[a.NORMAL_TANK,a.SWIFT_TANK,a.HEAVY_TANK];e.ENEMY_TANKS=s,function(t){t[t.BULLET_EXPLOSION=0]="BULLET_EXPLOSION",t[t.TANK_EXPLOSION=1]="TANK_EXPLOSION"}(n||(n={})),e.EXPLOSION=n;var r;e.EXPLOSION_IMAGE=[[1064,520,44,44],[1180,512,64,64]],function(t){t[t.BRICK=0]="BRICK",t[t.STEEL=1]="STEEL",t[t.JUNGLE=2]="JUNGLE",t[t.WATER=3]="WATER",t[t.ROAD=4]="ROAD",t[t.NONE=5]="NONE"}(r||(r={})),e.BUILDING=r;e.BULLET_IMAGE=[[1320,408,12,16],[1384,408,12,16],[1348,408,16,12],[1412,408,16,12]];e.BUILDING_IMAGE=[[1052,0,32,32],[1052,64,32,32],[1116,128,32,32],[1052,192,32,32]];var c,l=[r.BRICK,r.STEEL,r.JUNGLE];e.BUILDINGS=l,function(t){t[t.MOVE_UP=0]="MOVE_UP",t[t.MOVE_DOWN=1]="MOVE_DOWN",t[t.MOVE_LEFT=2]="MOVE_LEFT",t[t.MOVE_RIGHT=3]="MOVE_RIGHT",t[t.STAY=4]="STAY",t[t.SHOOT=5]="SHOOT",t[t.DO_NOTHING=6]="DO_NOTHING"}(c||(c={})),e.ACTION=c;var h=[c.MOVE_UP,c.MOVE_DOWN,c.MOVE_LEFT,c.MOVE_RIGHT,c.STAY,c.SHOOT,c.DO_NOTHING];e.ACTIONS=h;var d=new function(){this.start=document.getElementById("start"),this.collect=document.getElementById("collect"),this.shoot=document.getElementById("shoot"),this.explosion=document.getElementById("explosion"),this.pause=document.getElementById("pause"),this.pick=document.getElementById("pick"),this.level_up=document.getElementById("level_up"),this.idle=document.getElementById("idle"),this.move=document.getElementById("move"),this.hit=document.getElementById("hit"),this.be_hit=document.getElementById("be_hit"),this.game_over=document.getElementById("game_over")};e.AUDIO=d;var u=document.getElementById("canvas");e.CANVAS=u;var I=document.getElementById("sprites");e.IMAGE=I},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.context=e.GAME=e.main=void 0;var o,a=i(0),n=i(3),s=i(6),r=i(2),c=i(7),l=0,h=!1;e.context=o;var d=!1,u=!1,I=!1,T=!1,N=0,O=0,A={tanks:[],bullets:[],explosions:[],buildings:[]};function E(){var t=new n.Tank({x:o.canvas.width/2,y:o.canvas.height},a.DIRECTION.UP,a.TANK.PLAYER_TANK);A.tanks.unshift(t)}e.GAME=A,e.main=function(){e.context=o=a.CANVAS.getContext("2d"),o.canvas.width=window.innerWidth,o.canvas.height=window.innerHeight,c.buildingsGenerator(),function(){var t=window.localStorage.getItem("state");t||(t="");var e=JSON.parse(t),i=new n.Tank({x:o.canvas.width/2,y:o.canvas.height},a.DIRECTION.UP,a.TANK.PLAYER_TANK);null!=e&&(i.blood=e.blood,i.armor=e.armor,i.speed=e.speed,i.level=e.level,i.bullet.speed=e.bullet.speed,i.bullet.damage=e.bullet.damage);A.tanks.unshift(i)}(),a.AUDIO.start.play().then((function(){})),document.onkeydown=function(t){try{switch(t.code){case"KeyA":d=!0,A.tanks[0].moving=!0,A.tanks[0].direction=a.DIRECTION.LEFT;break;case"KeyD":u=!0,A.tanks[0].moving=!0,A.tanks[0].direction=a.DIRECTION.RIGHT;break;case"KeyW":I=!0,A.tanks[0].moving=!0,A.tanks[0].direction=a.DIRECTION.UP;break;case"KeyS":T=!0,A.tanks[0].moving=!0,A.tanks[0].direction=a.DIRECTION.DOWN;break;case"KeyP":h=!h,a.AUDIO.pause.play().then((function(){}));break;case"Space":A.tanks[0].shoot();break;case"F11":case"KeyR":location.reload();break;case"KeyB":E()}}catch(t){console.log(t.toString())}},document.onmousedown=function(t){0==t.button&&A.tanks[0].shoot()},document.onkeyup=function(t){switch(t.code){case"KeyA":d=!1;break;case"KeyD":u=!1;break;case"KeyW":I=!1;break;case"KeyS":T=!1;break;case"KeyC":A.buildings=[]}T||I||u||d||(A.tanks[0].moving=!1)},document.ontouchstart=function(t){N=t.touches[0].pageX,O=t.touches[0].pageY},document.ontouchend=function(t){var e=t.changedTouches[0].pageX,i=t.changedTouches[0].pageY,o=Math.abs(e-N),n=Math.abs(i-O);A.tanks[0]&&(A.tanks[0].moving=!0,A.tanks[0].shoot()),Math.max(o,n)<30||(A.tanks[0].direction=o>n?e>N?a.DIRECTION.RIGHT:a.DIRECTION.LEFT:i>O?a.DIRECTION.DOWN:a.DIRECTION.UP)},function t(){!function(){var t=A.tanks[0].level;if(h)return;0===l&&Math.random()>.8-t/70&&A.tanks.push(new n.Tank({x:Math.random()*o.canvas.width,y:0},a.DIRECTION.DOWN,r.randomChooseFrom(a.ENEMY_TANKS),r.randomNumber(2*t/3,t+5)));l+=1,l%=60,function(){for(var t=0;t<A.bullets.length;t++)A.bullets[t].alive||A.bullets.splice(t,1);for(t=0;t<A.bullets.length;t++)A.bullets[t].move()}(),function(){for(var t=0;t<A.buildings.length;t++)A.buildings[t].alive||A.buildings.splice(t,1)}(),function(){for(var t=!1,e=0;e<A.tanks.length;e++)A.tanks[e].alive||(A.explosions.push({coordinate:A.tanks[e].coordinate,type:a.EXPLOSION.TANK_EXPLOSION}),A.tanks.splice(e,1),t=0==e);for(A.tanks[0].move(),A.tanks[0].lastShootCount+=1,e=1;e<A.tanks.length;e++)A.tanks[e].move(),A.tanks[e].lastShootCount+=1;if(l%5==0)for(e=1;e<A.tanks.length;e++){var i=A.tanks[0],o=A.tanks[e];s.AI(o,i)}t&&a.AUDIO.game_over.play().then((function(){E()}))}()}(),function(){o.clearRect(0,0,o.canvas.width,o.canvas.height);var t=A.tanks;t=(t=t.concat(A.bullets)).concat(A.buildings);for(var e=0;e<t.length;e++)r.drawEntity(t[e]);for(e=0;e<A.explosions.length;e++){var i=A.explosions[e];r.drawExplosion(i.type,i.coordinate)}(function(){o.font="20px monospace",o.fillStyle="white";var t=A.tanks[0];o.fillText("blood: "+t.blood.toFixed(1)+" armor: "+t.armor.toFixed(2),20,30),o.fillText("speed: "+t.speed.toFixed(1)+" level: "+t.level,20,50),o.fillText("shoot interval: "+t.shootInterval,20,70),o.fillText("bullet damage: "+t.bullet.damage.toFixed(1)+" bullet speed: "+t.bullet.speed.toFixed(1),20,90)})(),A.explosions=[]}(),window.localStorage.setItem("state",JSON.stringify(A.tanks[0])),requestAnimationFrame(t)}()}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.drawExplosion=e.drawEntity=e.randomNumber=e.randomChooseFrom=void 0;var o=i(1),a=i(0),n=i(3),s=i(5),r=i(4);e.randomChooseFrom=function(t){return t[Math.floor(Math.random()*t.length)]},e.randomNumber=function(t,e){return Math.floor(Math.random()*(e-t))+t},e.drawEntity=function(t){var e,i=t.coordinate.x,c=t.coordinate.y,l=16,h=16;t instanceof n.Tank?(t.moving&&(t.imageTurn=!t.imageTurn),e=a.TANK_IMAGE[t.type][t.direction][Number(t.imageTurn)],l=2*a.TANK_RADIUS,h=2*a.TANK_RADIUS):t instanceof s.Building?(e=a.BUILDING_IMAGE[t.type],l=2*a.BUILDING_RADIUS,h=2*a.BUILDING_RADIUS):t instanceof r.Bullet&&(e=a.BULLET_IMAGE[t.direction],l=2*a.BULLET_RADIUS,h=2*a.BULLET_RADIUS),o.context.drawImage(a.IMAGE,e[0],e[1],e[2],e[3],i-l/2,c-h/2,l,h)},e.drawExplosion=function(t,e){var i=a.EXPLOSION_IMAGE[t];o.context.drawImage(a.IMAGE,i[0],i[1],i[2],i[3],e.x-i[2]/2,e.y-i[3]/2,i[2],i[3])}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Tank=void 0;var o=i(0),a=i(1),n=i(4),s=function(){function t(t,e,i,a){switch(void 0===a&&(a=1),this.coordinate=t,this.direction=e,this.lastShootCount=0,this.type=i,this.radius=o.TANK_RADIUS,this.shootInterval=60,this.alive=!0,this.moving=!0,this.imageTurn=!0,this.canTankPass=!1,this.canBulletPass=!1,this.actionList=[],this.bullet={damage:5,speed:10},this.blood=10,this.armor=.5,this.speed=2.5,this.attackInterval=40,this.level=a,this.type){case o.TANK.PLAYER_TANK:this.basic={blood:15,armor:.5,speed:2.5,attackInterval:45,bulletDamage:8,bulletSpeed:15};break;case o.TANK.NORMAL_TANK:this.basic={blood:10,armor:.5,speed:1.8,attackInterval:45,bulletDamage:6,bulletSpeed:7};break;case o.TANK.SWIFT_TANK:this.basic={blood:7,armor:.35,speed:3,attackInterval:30,bulletDamage:4,bulletSpeed:12};break;case o.TANK.HEAVY_TANK:this.basic={blood:20,armor:.7,speed:.7,attackInterval:60,bulletDamage:10,bulletSpeed:3};break;default:this.basic={blood:10,armor:.6,speed:3,attackInterval:20,bulletDamage:5,bulletSpeed:15},console.error("Unexpected tank type: "+this.type)}this.calculateAttributes()}return t.prototype.calculateAttributes=function(){this.blood=Math.min(this.basic.blood+25,this.basic.blood+1),this.speed=Math.min(this.basic.speed+8,this.basic.speed+.1*this.level),this.armor=Math.min(.8,this.basic.armor+.01*this.level),this.bullet.speed=Math.min(this.basic.speed+15,this.basic.bulletSpeed+.1*this.level),this.bullet.damage=Math.min(this.basic.bulletDamage+25,this.basic.bulletDamage+.3*this.level),this.shootInterval=Math.max(this.basic.attackInterval-20,this.basic.attackInterval-this.level)},t.prototype.levelUp=function(){this.level++,this.calculateAttributes()},t.prototype.beAttacked=function(t,e){this.blood-=Math.max(1,t.damage*(1-this.armor)),this.blood<=0&&(this.blood=0,this.alive=!1,o.AUDIO.explosion.play().then((function(){})),e.levelUp())},t.prototype.move=function(){if(this.moving){var e=a.GAME.tanks;e=e.concat(a.GAME.buildings);var i=0,n=0;switch(this.direction){case o.DIRECTION.UP:n=-this.speed;break;case o.DIRECTION.DOWN:n=this.speed;break;case o.DIRECTION.LEFT:i=-this.speed;break;case o.DIRECTION.RIGHT:i=this.speed}this.coordinate.x+=i,this.coordinate.y+=n;for(var s=0;s<e.length;s++)if(!e[s].canTankPass&&Math.abs(this.coordinate.y-e[s].coordinate.y)<this.radius+e[s].radius&&this.coordinate!==e[s].coordinate&&Math.abs(this.coordinate.x-e[s].coordinate.x)<this.radius+e[s].radius){!0,this.coordinate.x-=i,this.coordinate.y-=n;break}this.coordinate=t.bound(this.coordinate,this.radius)}},t.bound=function(t,e){return t.x<e?t.x=e:t.x+e>a.context.canvas.width&&(t.x=a.context.canvas.width-e),t.y<e?t.y=e:t.y+e>a.context.canvas.height&&(t.y=a.context.canvas.height-e),t},t.prototype.shoot=function(){this.lastShootCount>=this.shootInterval&&(a.GAME.bullets.push(new n.Bullet(this.coordinate,this.direction,this.bullet.damage,this.bullet.speed,this)),this.lastShootCount=0,this.type===o.TANK.PLAYER_TANK&&o.AUDIO.shoot.play().then((function(){})))},t.prototype.draw=function(){switch(this.type){case o.TANK.PLAYER_TANK:a.context.drawImage(o.IMAGE,32*this.direction,0,32,32,this.coordinate.x-16,this.coordinate.y-16,32,32);break;case o.TANK.NORMAL_TANK:a.context.drawImage(o.IMAGE,32*this.direction,32,32,32,this.coordinate.x-16,this.coordinate.y-16,32,32);break;case o.TANK.SWIFT_TANK:a.context.drawImage(o.IMAGE,32*(4+this.direction),32,32,32,this.coordinate.x-16,this.coordinate.y-16,32,32);break;case o.TANK.HEAVY_TANK:a.context.drawImage(o.IMAGE,32*(8+this.direction),64,32,32,this.coordinate.x-16,this.coordinate.y-16,32,32)}},t}();e.Tank=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Bullet=void 0;var o=i(0),a=i(1),n=i(3),s=i(2),r=function(){function t(t,e,i,a,n){this.direction=e,this.shooter=n,this.canBulletPass=!1,this.canTankPass=!1;var s=0,r=0;switch(this.direction){case o.DIRECTION.UP:r=-20;break;case o.DIRECTION.DOWN:r=20;break;case o.DIRECTION.LEFT:s=-20;break;case o.DIRECTION.RIGHT:s=20}this.coordinate={x:t.x+s,y:t.y+r},this.damage=i,this.alive=!0,this.speed=a,this.radius=o.BULLET_RADIUS}return t.prototype.move=function(){if(this.alive)switch(this.direction){case o.DIRECTION.UP:this.coordinate.y-this.speed<=0?(this.coordinate.y=0,this.explosion()):this.checkAllObstacles(),this.coordinate.y-=this.speed;break;case o.DIRECTION.DOWN:this.coordinate.y+this.speed>=a.context.canvas.height?(this.coordinate.y=a.context.canvas.height,this.explosion()):this.checkAllObstacles(),this.coordinate.y+=this.speed;break;case o.DIRECTION.LEFT:this.coordinate.x-this.speed<=0?(this.coordinate.x=0,this.explosion()):this.checkAllObstacles(),this.coordinate.x-=this.speed;break;case o.DIRECTION.RIGHT:this.coordinate.x+this.speed>=a.context.canvas.width?(this.coordinate.x=a.context.canvas.width,this.explosion()):this.checkAllObstacles(),this.coordinate.x+=this.speed;break;default:console.error("Unexpected direction")}},t.prototype.explosion=function(){this.alive=!1,a.GAME.explosions.push({coordinate:this.coordinate,type:o.EXPLOSION.BULLET_EXPLOSION})},t.prototype.checkAllObstacles=function(){var e=a.GAME.tanks;e=e.concat(a.GAME.buildings);for(var i=0;i<e.length;i++)if(!e[i].canBulletPass&&e[i]!=this.shooter&&t.isHit(this.coordinate,e[i].coordinate,e[i].radius)){this.explosion(),e[i].beAttacked(this,this.shooter),e[i]instanceof n.Tank&&(this.shooter.type==o.TANK.PLAYER_TANK?o.AUDIO.hit.play().then((function(){})):e[i].type==o.TANK.PLAYER_TANK&&o.AUDIO.be_hit.play().then((function(){})));break}},t.prototype.draw=function(){s.drawEntity(this)},t.prototype.beAttacked=function(t,e){throw new Error("Method not implemented.")},t.isHit=function(t,e,i){return t.x>=e.x-i&&t.x<=e.x+i&&t.y>=e.y-i&&t.y<=e.y+i},t.prototype.levelUp=function(){},t}();e.Bullet=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Building=void 0;var o=i(0),a=i(1),n=function(){function t(t,e){switch(this.coordinate=t,this.alive=!0,this.type=e,this.radius=o.BUILDING_RADIUS,this.type){case o.BUILDING.BRICK:this.destroyLimit=10,this.canTankPass=!1,this.canBulletPass=!1;break;case o.BUILDING.STEEL:this.destroyLimit=20,this.canTankPass=!1,this.canBulletPass=!1;break;case o.BUILDING.JUNGLE:this.destroyLimit=100,this.canTankPass=!0,this.canBulletPass=!0;break;case o.BUILDING.WATER:this.destroyLimit=100,this.canTankPass=!1,this.canBulletPass=!0;break;default:this.destroyLimit=100,this.canTankPass=!0,this.canBulletPass=!0}}return t.prototype.beAttacked=function(t,e){t.damage>=this.destroyLimit&&(this.alive=!1)},t.prototype.draw=function(){this.alive&&a.context.drawImage(o.IMAGE,16*this.type,96,16,16,this.coordinate.x-8,this.coordinate.y-8,16,16)},t.prototype.levelUp=function(){},t}();e.Building=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AI=void 0;var o=i(0),a=i(2);e.AI=function(t,e){switch(t.actionList.pop()){case o.ACTION.MOVE_UP:t.moving=!0,t.direction=o.DIRECTION.UP;break;case o.ACTION.MOVE_DOWN:t.moving=!0,t.direction=o.DIRECTION.DOWN;break;case o.ACTION.MOVE_LEFT:t.moving=!0,t.direction=o.DIRECTION.LEFT;break;case o.ACTION.MOVE_RIGHT:t.moving=!0,t.direction=o.DIRECTION.RIGHT;break;case o.ACTION.STAY:t.moving=!1;break;case o.ACTION.SHOOT:t.shoot();break;case o.ACTION.DO_NOTHING:break;default:t.moving=!0;var i=Math.random();i<.5?(t.actionList.push(a.randomChooseFrom(o.ACTIONS)),t.actionList.concat([o.ACTION.SHOOT,o.ACTION.SHOOT,o.ACTION.SHOOT,o.ACTION.SHOOT])):i<.8?Math.floor(100*i)%2==0?t.coordinate.x<e.coordinate.x?t.actionList.push(o.ACTION.MOVE_RIGHT):t.actionList.push(o.ACTION.MOVE_LEFT):t.coordinate.y<e.coordinate.y?t.actionList.push(o.ACTION.MOVE_DOWN):t.actionList.push(o.ACTION.MOVE_UP):i<.8?t.actionList.concat([o.ACTION.MOVE_UP,o.ACTION.DO_NOTHING,o.ACTION.SHOOT,o.ACTION.MOVE_LEFT,o.ACTION.DO_NOTHING,o.ACTION.SHOOT,o.ACTION.MOVE_DOWN,o.ACTION.DO_NOTHING,o.ACTION.SHOOT,o.ACTION.MOVE_RIGHT,o.ACTION.DO_NOTHING,o.ACTION.SHOOT]):t.actionList.push(o.ACTION.SHOOT)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildingsGenerator=void 0;var o,a,n=i(0),s=i(5),r=i(1),c=i(2),l=[];function h(t,e,i){var o={x:i.x,y:e.y},a={x:e.x,y:i.y};d(t,e,o),d(t,e,a),d(t,a,i),d(t,o,i)}function d(t,e,i){if(!(Math.max(Math.abs(e.x-i.x),Math.abs(e.y-i.y))<=2))if(Math.abs(e.x-i.x)>Math.abs(e.y-i.y)){if(e.x>i.x){var o=i;i=e,e=o}for(var a=e.x;a<=i.x;a++){var n=u(a);r=I(r=e.y+(i.y-e.y)*((a-e.x)/(i.x-e.x))),l[n][r]=t}}else{if(e.y>i.y){o=i;i=e,e=o}for(var s=e.y;s<=i.y;s++){var r=I(s);n=u(n=e.x+(i.x-e.x)*((s-e.y)/(i.y-e.y))),l[n][r]=t}}}function u(t){return(t=Math.floor(t))<0?0:t>=o?o-1:t}function I(t){return(t=Math.floor(t))<0?0:t>=a?a-1:t}e.buildingsGenerator=function(){o=Math.floor(r.context.canvas.width/16),a=Math.floor(r.context.canvas.height/16);for(var t=0;t<o;t++){for(var e=[],i=0;i<a;i++)e.push(n.BUILDING.NONE);l.push(e)}var d,u;for(d=c.randomNumber(8,12),u=c.randomNumber(12,18),h(n.BUILDING.STEEL,{x:d+2,y:a/2+6},{x:o/2,y:a-d}),h(n.BUILDING.BRICK,{x:d,y:d},{x:o/2,y:a/2}),h(n.BUILDING.BRICK,{x:o/2+4,y:u+5},{x:o-u,y:a-u}),t=0;t<o;t++)for(i=0;i<a;i++){var I=l[t][i];I!=n.BUILDING.NONE&&r.GAME.buildings.push(new s.Building({x:16*t,y:16*i},I))}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HYW1lL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL0dhbWUvLi9zcmMvQ29uc3RhbnRzLnRzIiwid2VicGFjazovL0dhbWUvLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vR2FtZS8uL3NyYy9VdGlscy50cyIsIndlYnBhY2s6Ly9HYW1lLy4vc3JjL21vZGVscy9UYW5rLnRzIiwid2VicGFjazovL0dhbWUvLi9zcmMvbW9kZWxzL0J1bGxldC50cyIsIndlYnBhY2s6Ly9HYW1lLy4vc3JjL21vZGVscy9CdWlsZGluZy50cyIsIndlYnBhY2s6Ly9HYW1lLy4vc3JjL0FJLnRzIiwid2VicGFjazovL0dhbWUvLi9zcmMvTWFwR2VuZXJhdG9yLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiRElSRUNUSU9OIiwiVEFOSyIsIlRBTktfUkFESVVTIiwiQlVMTEVUX1JBRElVUyIsIkJVSUxESU5HX1JBRElVUyIsIkVYUExPU0lPTl9SQURJVVMiLCJUQU5LX0lNQUdFIiwiRVhQTE9TSU9OIiwiRU5FTVlfVEFOS1MiLCJOT1JNQUxfVEFOSyIsIlNXSUZUX1RBTksiLCJIRUFWWV9UQU5LIiwiQlVJTERJTkciLCJFWFBMT1NJT05fSU1BR0UiLCJCVUxMRVRfSU1BR0UiLCJCVUlMRElOR19JTUFHRSIsIkFDVElPTiIsIkJVSUxESU5HUyIsIkJSSUNLIiwiU1RFRUwiLCJKVU5HTEUiLCJBQ1RJT05TIiwiTU9WRV9VUCIsIk1PVkVfRE9XTiIsIk1PVkVfTEVGVCIsIk1PVkVfUklHSFQiLCJTVEFZIiwiU0hPT1QiLCJET19OT1RISU5HIiwiQVVESU8iLCJzdGFydCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJjb2xsZWN0Iiwic2hvb3QiLCJleHBsb3Npb24iLCJwYXVzZSIsInBpY2siLCJsZXZlbF91cCIsImlkbGUiLCJtb3ZlIiwiaGl0IiwiYmVfaGl0IiwiZ2FtZV9vdmVyIiwiQ0FOVkFTIiwiSU1BR0UiLCJjb250ZXh0IiwiY291bnQiLCJwYXVzZWQiLCJrZXlBRG93biIsImtleUREb3duIiwia2V5V0Rvd24iLCJrZXlTRG93biIsInRvdWNoUG9pbnRYIiwidG91Y2hQb2ludFkiLCJHQU1FIiwidGFua3MiLCJidWxsZXRzIiwiZXhwbG9zaW9ucyIsImJ1aWxkaW5ncyIsImdlbmVyYXRlUGxheVRhbmsiLCJ0YW5rIiwiVGFuayIsIngiLCJjYW52YXMiLCJ3aWR0aCIsInkiLCJoZWlnaHQiLCJVUCIsIlBMQVlFUl9UQU5LIiwidW5zaGlmdCIsIm1haW4iLCJnZXRDb250ZXh0Iiwid2luZG93IiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiYnVpbGRpbmdzR2VuZXJhdG9yIiwiZGF0YSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzdGF0ZSIsIkpTT04iLCJwYXJzZSIsImJsb29kIiwiYXJtb3IiLCJzcGVlZCIsImxldmVsIiwiYnVsbGV0IiwiZGFtYWdlIiwibG9hZFBsYXllclRhbmsiLCJwbGF5IiwidGhlbiIsIm9ua2V5ZG93biIsImUiLCJjb2RlIiwibW92aW5nIiwiZGlyZWN0aW9uIiwiTEVGVCIsIlJJR0hUIiwiRE9XTiIsImxvY2F0aW9uIiwicmVsb2FkIiwiY29uc29sZSIsImxvZyIsInRvU3RyaW5nIiwib25tb3VzZWRvd24iLCJidXR0b24iLCJvbmtleXVwIiwib250b3VjaHN0YXJ0IiwidG91Y2hlcyIsInBhZ2VYIiwicGFnZVkiLCJvbnRvdWNoZW5kIiwiZW5kVG91Y2hQb2ludFgiLCJjaGFuZ2VkVG91Y2hlcyIsImVuZFRvdWNoUG9pbnRZIiwiZGVsdGFYIiwiTWF0aCIsImFicyIsImRlbHRhWSIsIm1heCIsInRpY2siLCJwbGF5ZXJMZXZlbCIsInJhbmRvbSIsInB1c2giLCJyYW5kb21DaG9vc2VGcm9tIiwicmFuZG9tTnVtYmVyIiwibGVuZ3RoIiwiYWxpdmUiLCJzcGxpY2UiLCJ1cGRhdGVCdWxsZXRzIiwidXBkYXRlQnVpbGRpbmdzIiwiaXNQbGF5ZXJEaWVkIiwiY29vcmRpbmF0ZSIsInR5cGUiLCJUQU5LX0VYUExPU0lPTiIsImxhc3RTaG9vdENvdW50IiwicGxheWVyVGFuayIsImVuZW15VGFuayIsIkFJIiwidXBkYXRlVGFua3MiLCJ1cGRhdGUiLCJjbGVhclJlY3QiLCJvYmplY3RzIiwiY29uY2F0IiwiZHJhd0VudGl0eSIsImRyYXdFeHBsb3Npb24iLCJmb250IiwiZmlsbFN0eWxlIiwicGxheWVyIiwiZmlsbFRleHQiLCJ0b0ZpeGVkIiwic2hvb3RJbnRlcnZhbCIsInNob3dTdGF0dXMiLCJkcmF3Iiwic2V0SXRlbSIsInN0cmluZ2lmeSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImFycmF5IiwiZmxvb3IiLCJlbmQiLCJlbnRpdHkiLCJyZWN0IiwiaW1hZ2VUdXJuIiwiTnVtYmVyIiwiQnVpbGRpbmciLCJCdWxsZXQiLCJkcmF3SW1hZ2UiLCJ0aGlzIiwicmFkaXVzIiwiY2FuVGFua1Bhc3MiLCJjYW5CdWxsZXRQYXNzIiwiYWN0aW9uTGlzdCIsImF0dGFja0ludGVydmFsIiwiYmFzaWMiLCJidWxsZXREYW1hZ2UiLCJidWxsZXRTcGVlZCIsImVycm9yIiwiY2FsY3VsYXRlQXR0cmlidXRlcyIsIm1pbiIsImxldmVsVXAiLCJiZUF0dGFja2VkIiwiYXR0YWNrZXIiLCJvYnN0YWNsZXMiLCJ4RGVsdGEiLCJ5RGVsdGEiLCJib3VuZCIsInNob290ZXIiLCJ4T2Zmc2V0IiwieU9mZnNldCIsImNoZWNrQWxsT2JzdGFjbGVzIiwiQlVMTEVUX0VYUExPU0lPTiIsImlzSGl0IiwicGFyYW0iLCJFcnJvciIsImJ1bGxldENvb3JkaW5hdGUiLCJ0YXJnZXRDb29yZGluYXRlIiwidGFyZ2V0UmFkaXVzIiwiZGVzdHJveUxpbWl0IiwiV0FURVIiLCJhZ2VudCIsInRhcmdldCIsInBvcCIsInJvd051bSIsImNvbE51bSIsIm1hcCIsImdlbmVyYXRlQmxvY2siLCJidWlsZGluZ1R5cGUiLCJzdGFydFBvaW50IiwiZW5kUG9pbnQiLCJ1cFJpZ2h0IiwiYm90dG9tTGVmdCIsImdlbmVyYXRlTGluZSIsInRlbXAiLCJzdGFydFgiLCJzYWZlWCIsInNhZmVZIiwic3RhcnRZIiwicm93IiwiY29sIiwiTk9ORSIsImoiLCJjdXJyZW50QnVpbGRpbmciXSwibWFwcGluZ3MiOiJxQkFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUEwRGYsT0FyREFGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3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QUFNZixFQUFRZSxJQUFPLENBRXJDLElBREEsSUFBSUwsRUFBTyxHQUNGTSxFQUFNLEVBQUdBLEVBQU1mLEVBQVFlLElBQzlCTixFQUFLekYsS0FBSyxFQUFBaEgsU0FBU2dOLE1BRXJCZixFQUFJakYsS0FBS3lGLEdBc0JiLElBQ01yUCxFQUNBNlAsRUFwQkosSUFtQkk3UCxFQUFJLEVBQUE4SixhQUFhLEVBQUcsSUFDcEIrRixFQUFJLEVBQUEvRixhQUFhLEdBQUksSUFFekJnRixFQUNFLEVBQUFsTSxTQUFTTyxNQUNULENBQUU0QyxFQUFHL0YsRUFBSSxFQUFHa0csRUFBRzBJLEVBQVMsRUFBSSxHQUM1QixDQUFFN0ksRUFBRzRJLEVBQVMsRUFBR3pJLEVBQUcwSSxFQUFTNU8sSUFFL0I4TyxFQUNFLEVBQUFsTSxTQUFTTSxNQUNULENBQUU2QyxFQUFHL0YsRUFBR2tHLEVBQUdsRyxHQUNYLENBQUUrRixFQUFHNEksRUFBUyxFQUFHekksRUFBRzBJLEVBQVMsSUFFL0JFLEVBQ0UsRUFBQWxNLFNBQVNNLE1BQ1QsQ0FBRTZDLEVBQUc0SSxFQUFTLEVBQUksRUFBR3pJLEVBQUcySixFQUFJLEdBQzVCLENBQUU5SixFQUFHNEksRUFBU2tCLEVBQUczSixFQUFHMEksRUFBU2lCLElBbkN0QkgsRUFBTSxFQUFHQSxFQUFNZixFQUFRZSxJQUM5QixJQUFTQyxFQUFNLEVBQUdBLEVBQU1mLEVBQVFlLElBQU8sQ0FDckMsSUFBSUcsRUFBa0JqQixFQUFJYSxHQUFLQyxHQUMzQkcsR0FBbUIsRUFBQWxOLFNBQVNnTixNQUM5QixFQUFBckssS0FBS0ksVUFBVWlFLEtBQ2IsSUFBSSxFQUFBeUMsU0FDRixDQUNFdEcsRUFBUyxHQUFOMkosRUFDSHhKLEVBQVMsR0FBTnlKLEdBRUxHIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxKTtcbiIsImVudW0gRElSRUNUSU9OIHtcbiAgVVAsXG4gIERPV04sXG4gIExFRlQsXG4gIFJJR0hULFxufVxuXG5lbnVtIFRBTksge1xuICBQTEFZRVJfVEFOSyxcbiAgTk9STUFMX1RBTksgPSAxLFxuICBTV0lGVF9UQU5LLFxuICBNRURJVU1fVEFOSyxcbiAgSEVBVllfVEFOSyxcbn1cblxuY29uc3QgVEFOS19SQURJVVMgPSAyMDtcbmNvbnN0IEJVTExFVF9SQURJVVMgPSA0O1xuY29uc3QgQlVJTERJTkdfUkFESVVTID0gODtcbmNvbnN0IEVYUExPU0lPTl9SQURJVVMgPSAxNjtcblxuLy8gdHlwZSwgZGlyZWN0aW9uXG5jb25zdCBUQU5LX0lNQUdFID0gW1xuICBbXG4gICAgW1xuICAgICAgWzQsIDgsIDUyLCA1Ml0sXG4gICAgICBbNjgsIDgsIDUyLCA1Ml0sXG4gICAgXSxcbiAgICBbXG4gICAgICBbMjY0LCA0LCA1MiwgNTJdLFxuICAgICAgWzMyOCwgNCwgNTIsIDUyXSxcbiAgICBdLFxuICAgIFtcbiAgICAgIFsxMzYsIDQsIDUyLCA1Ml0sXG4gICAgICBbMjA0LCA0LCA1MiwgNTJdLFxuICAgIF0sXG4gICAgW1xuICAgICAgWzM5MiwgNCwgNTIsIDUyXSxcbiAgICAgIFs0NjAsIDQsIDUyLCA1Ml0sXG4gICAgXSxcbiAgXSxcbiAgW1xuICAgIFtcbiAgICAgIFs1MjQsIDI2NCwgNTIsIDYwXSxcbiAgICAgIFs1ODgsIDI2NCwgNTIsIDYwXSxcbiAgICBdLFxuICAgIFtcbiAgICAgIFs3ODAsIDI2NCwgNTIsIDYwXSxcbiAgICAgIFs4NDQsIDI2NCwgNTIsIDYwXSxcbiAgICBdLFxuICAgIFtcbiAgICAgIFs2NDgsIDI3MiwgNjAsIDUyXSxcbiAgICAgIFs3MTIsIDI3MiwgNjAsIDUyXSxcbiAgICBdLFxuICAgIFtcbiAgICAgIFs5MDgsIDI2OCwgNjAsIDUyXSxcbiAgICAgIFs5NzIsIDI2OCwgNjAsIDUyXSxcbiAgICBdLFxuICBdLFxuICBbXG4gICAgW1xuICAgICAgWzUyNCwgMzI4LCA1MiwgNjBdLFxuICAgICAgWzU4OCwgMzI4LCA1MiwgNjBdLFxuICAgIF0sXG4gICAgW1xuICAgICAgWzc4MCwgMzMyLCA1MiwgNjBdLFxuICAgICAgWzg0NCwgMzMyLCA1MiwgNjBdLFxuICAgIF0sXG4gICAgW1xuICAgICAgWzY0OCwgMzM2LCA2MCwgNTJdLFxuICAgICAgWzcxMiwgMzM2LCA2MCwgNTJdLFxuICAgIF0sXG4gICAgW1xuICAgICAgWzkwOCwgMzMyLCA2MCwgNTJdLFxuICAgICAgWzk3MiwgMzMyLCA2MCwgNTJdLFxuICAgIF0sXG4gIF0sXG4gIFtcbiAgICBbXG4gICAgICBbNTI0LCAzOTYsIDUyLCA2MF0sXG4gICAgICBbNTg4LCAzOTYsIDUyLCA2MF0sXG4gICAgXSxcbiAgICBbXG4gICAgICBbNzgwLCAzOTYsIDUyLCA2MF0sXG4gICAgICBbODQ0LCAzOTYsIDUyLCA2MF0sXG4gICAgXSxcbiAgICBbXG4gICAgICBbNjQ4LCA0MDQsIDYwLCA1Ml0sXG4gICAgICBbNzEyLCA0MDQsIDYwLCA1Ml0sXG4gICAgXSxcbiAgICBbXG4gICAgICBbOTA4LCA0MDAsIDYwLCA1Ml0sXG4gICAgICBbOTcyLCA0MDAsIDYwLCA1Ml0sXG4gICAgXSxcbiAgXSxcbiAgW1xuICAgIFtcbiAgICAgIFs1MjQsIDQ2MCwgNTIsIDYwXSxcbiAgICAgIFs1ODgsIDQ2MCwgNTIsIDYwXSxcbiAgICBdLFxuICAgIFtcbiAgICAgIFs3ODAsIDQ2MCwgNTIsIDYwXSxcbiAgICAgIFs4NDQsIDQ2MCwgNTIsIDYwXSxcbiAgICBdLFxuICAgIFtcbiAgICAgIFs2NDgsIDQ2NCwgNjAsIDUyXSxcbiAgICAgIFs3MTIsIDQ2NCwgNjAsIDUyXSxcbiAgICBdLFxuICAgIFtcbiAgICAgIFs5MDQsIDQ2NCwgNjAsIDUyXSxcbiAgICAgIFs5NjgsIDQ2NCwgNjAsIDUyXSxcbiAgICBdLFxuICBdLFxuXTtcblxuY29uc3QgRU5FTVlfVEFOS1MgPSBbVEFOSy5OT1JNQUxfVEFOSywgVEFOSy5TV0lGVF9UQU5LLCBUQU5LLkhFQVZZX1RBTktdO1xuXG5lbnVtIEVYUExPU0lPTiB7XG4gIEJVTExFVF9FWFBMT1NJT04sXG4gIFRBTktfRVhQTE9TSU9OLFxufVxuXG5jb25zdCBFWFBMT1NJT05fSU1BR0UgPSBbXG4gIFsxMDY0LCA1MjAsIDQ0LCA0NF0sXG4gIFsxMTgwLCA1MTIsIDY0LCA2NF0sXG5dO1xuXG5lbnVtIEJVSUxESU5HIHtcbiAgQlJJQ0ssXG4gIFNURUVMLFxuICBKVU5HTEUsXG4gIFdBVEVSLFxuICBST0FELFxuICBOT05FLFxufVxuY29uc3QgQlVMTEVUX0lNQUdFID0gW1xuICBbMTMyMCwgNDA4LCAxMiwgMTZdLFxuICBbMTM4NCwgNDA4LCAxMiwgMTZdLFxuICBbMTM0OCwgNDA4LCAxNiwgMTJdLFxuICBbMTQxMiwgNDA4LCAxNiwgMTJdLFxuXTtcblxuY29uc3QgQlVJTERJTkdfSU1BR0UgPSBbXG4gIFsxMDUyLCAwLCAzMiwgMzJdLFxuICBbMTA1MiwgNjQsIDMyLCAzMl0sXG4gIFsxMTE2LCAxMjgsIDMyLCAzMl0sXG4gIFsxMDUyLCAxOTIsIDMyLCAzMl0sXG5dO1xuXG5jb25zdCBCVUlMRElOR1MgPSBbQlVJTERJTkcuQlJJQ0ssIEJVSUxESU5HLlNURUVMLCBCVUlMRElORy5KVU5HTEVdO1xuXG5lbnVtIEFDVElPTiB7XG4gIE1PVkVfVVAsXG4gIE1PVkVfRE9XTixcbiAgTU9WRV9MRUZULFxuICBNT1ZFX1JJR0hULFxuICBTVEFZLFxuICBTSE9PVCxcbiAgRE9fTk9USElORyxcbn1cblxuY29uc3QgQUNUSU9OUyA9IFtcbiAgQUNUSU9OLk1PVkVfVVAsXG4gIEFDVElPTi5NT1ZFX0RPV04sXG4gIEFDVElPTi5NT1ZFX0xFRlQsXG4gIEFDVElPTi5NT1ZFX1JJR0hULFxuICBBQ1RJT04uU1RBWSxcbiAgQUNUSU9OLlNIT09ULFxuICBBQ1RJT04uRE9fTk9USElORyxcbl07XG5cbmNsYXNzIEF1ZGlvTWFuYWdlciB7XG4gIHN0YXJ0ID0gPEhUTUxBdWRpb0VsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdGFydFwiKTtcbiAgY29sbGVjdCA9IDxIVE1MQXVkaW9FbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29sbGVjdFwiKTtcbiAgc2hvb3QgPSA8SFRNTEF1ZGlvRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNob290XCIpO1xuICBleHBsb3Npb24gPSA8SFRNTEF1ZGlvRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImV4cGxvc2lvblwiKTtcbiAgcGF1c2UgPSA8SFRNTEF1ZGlvRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBhdXNlXCIpO1xuICBwaWNrID0gPEhUTUxBdWRpb0VsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwaWNrXCIpO1xuICBsZXZlbF91cCA9IDxIVE1MQXVkaW9FbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGV2ZWxfdXBcIik7XG4gIGlkbGUgPSA8SFRNTEF1ZGlvRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImlkbGVcIik7XG4gIG1vdmUgPSA8SFRNTEF1ZGlvRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1vdmVcIik7XG4gIGhpdCA9IDxIVE1MQXVkaW9FbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaGl0XCIpO1xuICBiZV9oaXQgPSA8SFRNTEF1ZGlvRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJlX2hpdFwiKTtcbiAgZ2FtZV9vdmVyID0gPEhUTUxBdWRpb0VsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnYW1lX292ZXJcIik7XG59XG5cbmNvbnN0IEFVRElPID0gbmV3IEF1ZGlvTWFuYWdlcigpO1xuY29uc3QgQ0FOVkFTID0gPEhUTUxDYW52YXNFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpO1xuY29uc3QgSU1BR0UgPSA8SFRNTEltYWdlRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwcml0ZXNcIik7XG5cbmV4cG9ydCB7XG4gIFRBTkssXG4gIEVORU1ZX1RBTktTLFxuICBESVJFQ1RJT04sXG4gIEVYUExPU0lPTixcbiAgQlVJTERJTkcsXG4gIEJVSUxESU5HUyxcbiAgQUNUSU9OLFxuICBBQ1RJT05TLFxuICBBVURJTyxcbiAgQ0FOVkFTLFxuICBJTUFHRSxcbiAgVEFOS19JTUFHRSxcbiAgQlVJTERJTkdfSU1BR0UsXG4gIEJVTExFVF9JTUFHRSxcbiAgRVhQTE9TSU9OX0lNQUdFLFxuICBUQU5LX1JBRElVUyxcbiAgQlVMTEVUX1JBRElVUyxcbiAgQlVJTERJTkdfUkFESVVTLFxuICBFWFBMT1NJT05fUkFESVVTLFxufTtcbiIsImltcG9ydCB7XG4gIEFVRElPLFxuICBDQU5WQVMsXG4gIERJUkVDVElPTixcbiAgRU5FTVlfVEFOS1MsXG4gIEVYUExPU0lPTixcbiAgSU1BR0UsXG4gIFRBTkssXG59IGZyb20gXCIuL0NvbnN0YW50c1wiO1xuXG5pbXBvcnQgeyBUYW5rIH0gZnJvbSBcIi4vbW9kZWxzL1RhbmtcIjtcbmltcG9ydCB7IEJ1bGxldCB9IGZyb20gXCIuL21vZGVscy9CdWxsZXRcIjtcbmltcG9ydCB7IEJ1aWxkaW5nIH0gZnJvbSBcIi4vbW9kZWxzL0J1aWxkaW5nXCI7XG5cbmltcG9ydCB7IEVudGl0eSB9IGZyb20gXCIuL21vZGVscy9HZW5lcmFsXCI7XG5pbXBvcnQgeyBBSSB9IGZyb20gXCIuL0FJXCI7XG5pbXBvcnQge1xuICByYW5kb21DaG9vc2VGcm9tLFxuICBkcmF3RW50aXR5LFxuICBkcmF3RXhwbG9zaW9uLFxuICByYW5kb21OdW1iZXIsXG59IGZyb20gXCIuL1V0aWxzXCI7XG5pbXBvcnQgeyBidWlsZGluZ3NHZW5lcmF0b3IgfSBmcm9tIFwiLi9NYXBHZW5lcmF0b3JcIjtcblxubGV0IGNvdW50ID0gMDtcbmxldCBwYXVzZWQgPSBmYWxzZTtcbmxldCBjb250ZXh0OiBhbnk7XG5cbmxldCBrZXlBRG93bjogYm9vbGVhbiA9IGZhbHNlO1xubGV0IGtleUREb3duOiBib29sZWFuID0gZmFsc2U7XG5sZXQga2V5V0Rvd246IGJvb2xlYW4gPSBmYWxzZTtcbmxldCBrZXlTRG93bjogYm9vbGVhbiA9IGZhbHNlO1xuXG5sZXQgdG91Y2hQb2ludFggPSAwO1xubGV0IHRvdWNoUG9pbnRZID0gMDtcblxuY29uc3QgR0FNRToge1xuICB0YW5rczogVGFua1tdO1xuICBidWxsZXRzOiBCdWxsZXRbXTtcbiAgZXhwbG9zaW9uczogYW55W107XG4gIGJ1aWxkaW5nczogQnVpbGRpbmdbXTtcbn0gPSB7XG4gIHRhbmtzOiBbXSxcbiAgYnVsbGV0czogW10sXG4gIGV4cGxvc2lvbnM6IFtdLFxuICBidWlsZGluZ3M6IFtdLFxufTtcblxuZnVuY3Rpb24gbWFpbigpIHtcbiAgY29udGV4dCA9IENBTlZBUy5nZXRDb250ZXh0KFwiMmRcIik7XG4gIGNvbnRleHQuY2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gIGNvbnRleHQuY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgYnVpbGRpbmdzR2VuZXJhdG9yKCk7XG4gIGxvYWRQbGF5ZXJUYW5rKCk7XG4gIEFVRElPLnN0YXJ0LnBsYXkoKS50aGVuKCgpID0+IHt9KTtcbiAgcmVnaXN0ZXJFdmVudCgpO1xuICBmdW5jdGlvbiB0aWNrKCkge1xuICAgIHVwZGF0ZSgpO1xuICAgIGRyYXcoKTtcbiAgICBzYXZlUGxheWVyVGFuaygpO1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aWNrKTtcbiAgfVxuICB0aWNrKCk7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlUGxheVRhbmsoKSB7XG4gIGxldCB0YW5rID0gbmV3IFRhbmsoXG4gICAgeyB4OiBjb250ZXh0LmNhbnZhcy53aWR0aCAvIDIsIHk6IGNvbnRleHQuY2FudmFzLmhlaWdodCB9LFxuICAgIERJUkVDVElPTi5VUCxcbiAgICBUQU5LLlBMQVlFUl9UQU5LXG4gICk7XG4gIEdBTUUudGFua3MudW5zaGlmdCh0YW5rKTtcbn1cblxuZnVuY3Rpb24gc2F2ZVBsYXllclRhbmsoKSB7XG4gIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInN0YXRlXCIsIEpTT04uc3RyaW5naWZ5KEdBTUUudGFua3NbMF0pKTtcbn1cblxuZnVuY3Rpb24gbG9hZFBsYXllclRhbmsoKSB7XG4gIGxldCBkYXRhID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKFwic3RhdGVcIik7XG4gIGlmICghZGF0YSkgZGF0YSA9IFwiXCI7XG4gIGxldCBzdGF0ZSA9IEpTT04ucGFyc2UoZGF0YSk7XG4gIGxldCB0YW5rID0gbmV3IFRhbmsoXG4gICAgeyB4OiBjb250ZXh0LmNhbnZhcy53aWR0aCAvIDIsIHk6IGNvbnRleHQuY2FudmFzLmhlaWdodCB9LFxuICAgIERJUkVDVElPTi5VUCxcbiAgICBUQU5LLlBMQVlFUl9UQU5LXG4gICk7XG4gIGlmIChzdGF0ZSAhPSBudWxsKSB7XG4gICAgdGFuay5ibG9vZCA9IHN0YXRlLmJsb29kO1xuICAgIHRhbmsuYXJtb3IgPSBzdGF0ZS5hcm1vcjtcbiAgICB0YW5rLnNwZWVkID0gc3RhdGUuc3BlZWQ7XG4gICAgdGFuay5sZXZlbCA9IHN0YXRlLmxldmVsO1xuICAgIHRhbmsuYnVsbGV0LnNwZWVkID0gc3RhdGUuYnVsbGV0LnNwZWVkO1xuICAgIHRhbmsuYnVsbGV0LmRhbWFnZSA9IHN0YXRlLmJ1bGxldC5kYW1hZ2U7XG4gIH1cbiAgR0FNRS50YW5rcy51bnNoaWZ0KHRhbmspO1xufVxuXG5mdW5jdGlvbiB1cGRhdGUoKSB7XG4gIGxldCBwbGF5ZXJMZXZlbCA9IEdBTUUudGFua3NbMF0ubGV2ZWw7XG4gIGlmIChwYXVzZWQpIHJldHVybjtcbiAgaWYgKGNvdW50ID09PSAwKSB7XG4gICAgaWYgKE1hdGgucmFuZG9tKCkgPiAwLjggLSBwbGF5ZXJMZXZlbCAvIDcwKSB7XG4gICAgICBHQU1FLnRhbmtzLnB1c2goXG4gICAgICAgIG5ldyBUYW5rKFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHg6IE1hdGgucmFuZG9tKCkgKiBjb250ZXh0LmNhbnZhcy53aWR0aCxcbiAgICAgICAgICAgIHk6IDAsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBESVJFQ1RJT04uRE9XTixcbiAgICAgICAgICByYW5kb21DaG9vc2VGcm9tKEVORU1ZX1RBTktTKSxcbiAgICAgICAgICByYW5kb21OdW1iZXIoKHBsYXllckxldmVsICogMikgLyAzLCBwbGF5ZXJMZXZlbCArIDUpXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIGNvdW50ICs9IDE7XG4gIGNvdW50ICU9IDYwO1xuICBmdW5jdGlvbiB1cGRhdGVCdWxsZXRzKCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgR0FNRS5idWxsZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoIUdBTUUuYnVsbGV0c1tpXS5hbGl2ZSkge1xuICAgICAgICBHQU1FLmJ1bGxldHMuc3BsaWNlKGksIDEpO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IEdBTUUuYnVsbGV0cy5sZW5ndGg7IGkrKykge1xuICAgICAgR0FNRS5idWxsZXRzW2ldLm1vdmUoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVUYW5rcygpIHtcbiAgICBsZXQgaXNQbGF5ZXJEaWVkID0gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBHQU1FLnRhbmtzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoIUdBTUUudGFua3NbaV0uYWxpdmUpIHtcbiAgICAgICAgR0FNRS5leHBsb3Npb25zLnB1c2goe1xuICAgICAgICAgIGNvb3JkaW5hdGU6IEdBTUUudGFua3NbaV0uY29vcmRpbmF0ZSxcbiAgICAgICAgICB0eXBlOiBFWFBMT1NJT04uVEFOS19FWFBMT1NJT04sXG4gICAgICAgIH0pO1xuICAgICAgICBHQU1FLnRhbmtzLnNwbGljZShpLCAxKTtcbiAgICAgICAgaXNQbGF5ZXJEaWVkID0gaSA9PSAwO1xuICAgICAgfVxuICAgIH1cbiAgICBHQU1FLnRhbmtzWzBdLm1vdmUoKTtcbiAgICBHQU1FLnRhbmtzWzBdLmxhc3RTaG9vdENvdW50ICs9IDE7XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBHQU1FLnRhbmtzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBHQU1FLnRhbmtzW2ldLm1vdmUoKTtcbiAgICAgIEdBTUUudGFua3NbaV0ubGFzdFNob290Q291bnQgKz0gMTtcbiAgICB9XG4gICAgaWYgKGNvdW50ICUgNSA9PT0gMCkge1xuICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBHQU1FLnRhbmtzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHBsYXllclRhbmsgPSBHQU1FLnRhbmtzWzBdO1xuICAgICAgICBjb25zdCBlbmVteVRhbmsgPSBHQU1FLnRhbmtzW2ldO1xuICAgICAgICBBSShlbmVteVRhbmssIHBsYXllclRhbmspO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNQbGF5ZXJEaWVkKSB7XG4gICAgICBBVURJTy5nYW1lX292ZXIucGxheSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICBnZW5lcmF0ZVBsYXlUYW5rKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVCdWlsZGluZ3MoKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBHQU1FLmJ1aWxkaW5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCFHQU1FLmJ1aWxkaW5nc1tpXS5hbGl2ZSkge1xuICAgICAgICBHQU1FLmJ1aWxkaW5ncy5zcGxpY2UoaSwgMSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlQnVsbGV0cygpO1xuICB1cGRhdGVCdWlsZGluZ3MoKTtcbiAgdXBkYXRlVGFua3MoKTtcbn1cblxuZnVuY3Rpb24gZHJhdygpIHtcbiAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgY29udGV4dC5jYW52YXMud2lkdGgsIGNvbnRleHQuY2FudmFzLmhlaWdodCk7XG4gIGxldCBvYmplY3RzOiBFbnRpdHlbXSA9IEdBTUUudGFua3M7XG4gIG9iamVjdHMgPSBvYmplY3RzLmNvbmNhdChHQU1FLmJ1bGxldHMpO1xuICBvYmplY3RzID0gb2JqZWN0cy5jb25jYXQoR0FNRS5idWlsZGluZ3MpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IG9iamVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICBkcmF3RW50aXR5KG9iamVjdHNbaV0pO1xuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgR0FNRS5leHBsb3Npb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgZXhwbG9zaW9uID0gR0FNRS5leHBsb3Npb25zW2ldO1xuICAgIGRyYXdFeHBsb3Npb24oZXhwbG9zaW9uLnR5cGUsIGV4cGxvc2lvbi5jb29yZGluYXRlKTtcbiAgfVxuICBzaG93U3RhdHVzKCk7XG4gIEdBTUUuZXhwbG9zaW9ucyA9IFtdO1xufVxuXG5mdW5jdGlvbiBzaG93U3RhdHVzKCkge1xuICBjb250ZXh0LmZvbnQgPSBcIjIwcHggbW9ub3NwYWNlXCI7XG4gIGNvbnRleHQuZmlsbFN0eWxlID0gXCJ3aGl0ZVwiO1xuICBsZXQgcGxheWVyID0gR0FNRS50YW5rc1swXTtcbiAgY29udGV4dC5maWxsVGV4dChcbiAgICBgYmxvb2Q6ICR7cGxheWVyLmJsb29kLnRvRml4ZWQoMSl9IGFybW9yOiAke3BsYXllci5hcm1vci50b0ZpeGVkKDIpfWAsXG4gICAgMjAsXG4gICAgMzBcbiAgKTtcbiAgY29udGV4dC5maWxsVGV4dChcbiAgICBgc3BlZWQ6ICR7cGxheWVyLnNwZWVkLnRvRml4ZWQoMSl9IGxldmVsOiAke3BsYXllci5sZXZlbH1gLFxuICAgIDIwLFxuICAgIDUwXG4gICk7XG4gIGNvbnRleHQuZmlsbFRleHQoYHNob290IGludGVydmFsOiAke3BsYXllci5zaG9vdEludGVydmFsfWAsIDIwLCA3MCk7XG4gIGNvbnRleHQuZmlsbFRleHQoXG4gICAgYGJ1bGxldCBkYW1hZ2U6ICR7cGxheWVyLmJ1bGxldC5kYW1hZ2UudG9GaXhlZChcbiAgICAgIDFcbiAgICApfSBidWxsZXQgc3BlZWQ6ICR7cGxheWVyLmJ1bGxldC5zcGVlZC50b0ZpeGVkKDEpfWAsXG4gICAgMjAsXG4gICAgOTBcbiAgKTtcbn1cblxuZnVuY3Rpb24gcmVnaXN0ZXJFdmVudCgpIHtcbiAgZG9jdW1lbnQub25rZXlkb3duID0gZnVuY3Rpb24gKGUpIHtcbiAgICB0cnkge1xuICAgICAgc3dpdGNoIChlLmNvZGUpIHtcbiAgICAgICAgY2FzZSBcIktleUFcIjpcbiAgICAgICAgICBrZXlBRG93biA9IHRydWU7XG4gICAgICAgICAgR0FNRS50YW5rc1swXS5tb3ZpbmcgPSB0cnVlO1xuICAgICAgICAgIEdBTUUudGFua3NbMF0uZGlyZWN0aW9uID0gRElSRUNUSU9OLkxFRlQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJLZXlEXCI6XG4gICAgICAgICAga2V5RERvd24gPSB0cnVlO1xuICAgICAgICAgIEdBTUUudGFua3NbMF0ubW92aW5nID0gdHJ1ZTtcbiAgICAgICAgICBHQU1FLnRhbmtzWzBdLmRpcmVjdGlvbiA9IERJUkVDVElPTi5SSUdIVDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIktleVdcIjpcbiAgICAgICAgICBrZXlXRG93biA9IHRydWU7XG4gICAgICAgICAgR0FNRS50YW5rc1swXS5tb3ZpbmcgPSB0cnVlO1xuICAgICAgICAgIEdBTUUudGFua3NbMF0uZGlyZWN0aW9uID0gRElSRUNUSU9OLlVQO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiS2V5U1wiOlxuICAgICAgICAgIGtleVNEb3duID0gdHJ1ZTtcbiAgICAgICAgICBHQU1FLnRhbmtzWzBdLm1vdmluZyA9IHRydWU7XG4gICAgICAgICAgR0FNRS50YW5rc1swXS5kaXJlY3Rpb24gPSBESVJFQ1RJT04uRE9XTjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIktleVBcIjpcbiAgICAgICAgICBwYXVzZWQgPSAhcGF1c2VkO1xuICAgICAgICAgIEFVRElPLnBhdXNlLnBsYXkoKS50aGVuKCgpID0+IHt9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIlNwYWNlXCI6XG4gICAgICAgICAgR0FNRS50YW5rc1swXS5zaG9vdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiRjExXCI6XG4gICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJLZXlSXCI6XG4gICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJLZXlCXCI6XG4gICAgICAgICAgZ2VuZXJhdGVQbGF5VGFuaygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKGUudG9TdHJpbmcoKSk7XG4gICAgfVxuICB9O1xuXG4gIGRvY3VtZW50Lm9ubW91c2Vkb3duID0gZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAoZS5idXR0b24gPT0gMCkge1xuICAgICAgR0FNRS50YW5rc1swXS5zaG9vdCgpO1xuICAgIH1cbiAgfTtcblxuICBkb2N1bWVudC5vbmtleXVwID0gZnVuY3Rpb24gKGUpIHtcbiAgICBzd2l0Y2ggKGUuY29kZSkge1xuICAgICAgY2FzZSBcIktleUFcIjpcbiAgICAgICAga2V5QURvd24gPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiS2V5RFwiOlxuICAgICAgICBrZXlERG93biA9IGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJLZXlXXCI6XG4gICAgICAgIGtleVdEb3duID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIktleVNcIjpcbiAgICAgICAga2V5U0Rvd24gPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiS2V5Q1wiOlxuICAgICAgICBHQU1FLmJ1aWxkaW5ncyA9IFtdO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBpZiAoIWtleVNEb3duICYmICFrZXlXRG93biAmJiAha2V5RERvd24gJiYgIWtleUFEb3duKVxuICAgICAgR0FNRS50YW5rc1swXS5tb3ZpbmcgPSBmYWxzZTtcbiAgfTtcblxuICBkb2N1bWVudC5vbnRvdWNoc3RhcnQgPSBmdW5jdGlvbiAoZSkge1xuICAgIHRvdWNoUG9pbnRYID0gZS50b3VjaGVzWzBdLnBhZ2VYO1xuICAgIHRvdWNoUG9pbnRZID0gZS50b3VjaGVzWzBdLnBhZ2VZO1xuICB9O1xuXG4gIGRvY3VtZW50Lm9udG91Y2hlbmQgPSBmdW5jdGlvbiAoZSkge1xuICAgIGxldCBlbmRUb3VjaFBvaW50WCA9IGUuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVg7XG4gICAgbGV0IGVuZFRvdWNoUG9pbnRZID0gZS5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWTtcbiAgICBsZXQgZGVsdGFYID0gTWF0aC5hYnMoZW5kVG91Y2hQb2ludFggLSB0b3VjaFBvaW50WCk7XG4gICAgbGV0IGRlbHRhWSA9IE1hdGguYWJzKGVuZFRvdWNoUG9pbnRZIC0gdG91Y2hQb2ludFkpO1xuICAgIGlmIChHQU1FLnRhbmtzWzBdKSB7XG4gICAgICBHQU1FLnRhbmtzWzBdLm1vdmluZyA9IHRydWU7XG4gICAgICBHQU1FLnRhbmtzWzBdLnNob290KCk7XG4gICAgfVxuICAgIGlmIChNYXRoLm1heChkZWx0YVgsIGRlbHRhWSkgPCAzMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoZGVsdGFYID4gZGVsdGFZKSB7XG4gICAgICBpZiAoZW5kVG91Y2hQb2ludFggPiB0b3VjaFBvaW50WCkge1xuICAgICAgICBHQU1FLnRhbmtzWzBdLmRpcmVjdGlvbiA9IERJUkVDVElPTi5SSUdIVDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIEdBTUUudGFua3NbMF0uZGlyZWN0aW9uID0gRElSRUNUSU9OLkxFRlQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChlbmRUb3VjaFBvaW50WSA+IHRvdWNoUG9pbnRZKSB7XG4gICAgICAgIEdBTUUudGFua3NbMF0uZGlyZWN0aW9uID0gRElSRUNUSU9OLkRPV047XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBHQU1FLnRhbmtzWzBdLmRpcmVjdGlvbiA9IERJUkVDVElPTi5VUDtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG5cbmV4cG9ydCB7IG1haW4sIEdBTUUsIGNvbnRleHQgfTtcbiIsImltcG9ydCB7IENvb3JkaW5hdGUsIEVudGl0eSB9IGZyb20gXCIuL21vZGVscy9HZW5lcmFsXCI7XG5pbXBvcnQgeyBjb250ZXh0IH0gZnJvbSBcIi4vaW5kZXhcIjtcbmltcG9ydCB7XG4gIEJVSUxESU5HX0lNQUdFLFxuICBCVUlMRElOR19SQURJVVMsXG4gIEJVTExFVF9JTUFHRSxcbiAgQlVMTEVUX1JBRElVUyxcbiAgRVhQTE9TSU9OLFxuICBFWFBMT1NJT05fSU1BR0UsXG4gIEVYUExPU0lPTl9SQURJVVMsXG4gIElNQUdFLFxuICBUQU5LX0lNQUdFLFxuICBUQU5LX1JBRElVUyxcbn0gZnJvbSBcIi4vQ29uc3RhbnRzXCI7XG5pbXBvcnQgeyBUYW5rIH0gZnJvbSBcIi4vbW9kZWxzL1RhbmtcIjtcbmltcG9ydCB7IEJ1aWxkaW5nIH0gZnJvbSBcIi4vbW9kZWxzL0J1aWxkaW5nXCI7XG5pbXBvcnQgeyBCdWxsZXQgfSBmcm9tIFwiLi9tb2RlbHMvQnVsbGV0XCI7XG5cbmZ1bmN0aW9uIHJhbmRvbUNob29zZUZyb20oYXJyYXk6IEFycmF5PGFueT4pIHtcbiAgcmV0dXJuIGFycmF5W01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGFycmF5Lmxlbmd0aCldO1xufVxuXG5mdW5jdGlvbiByYW5kb21EZWNpc2lvbk1ha2VyKHByb2JhYmlsaXR5OiBudW1iZXIpOiBib29sZWFuIHtcbiAgcmV0dXJuIHByb2JhYmlsaXR5ID4gTWF0aC5yYW5kb20oKTtcbn1cblxuZnVuY3Rpb24gcmFuZG9tTnVtYmVyKHN0YXJ0OiBudW1iZXIsIGVuZDogbnVtYmVyKTogbnVtYmVyIHtcbiAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChlbmQgLSBzdGFydCkpICsgc3RhcnQ7XG59XG5cbmZ1bmN0aW9uIGRyYXdFbnRpdHkoZW50aXR5OiBFbnRpdHkpIHtcbiAgbGV0IHggPSBlbnRpdHkuY29vcmRpbmF0ZS54O1xuICBsZXQgeSA9IGVudGl0eS5jb29yZGluYXRlLnk7XG4gIGxldCByZWN0OiBhbnk7XG4gIGxldCB3aWR0aCA9IDE2O1xuICBsZXQgaGVpZ2h0ID0gMTY7XG4gIGlmIChlbnRpdHkgaW5zdGFuY2VvZiBUYW5rKSB7XG4gICAgaWYgKGVudGl0eS5tb3ZpbmcpIGVudGl0eS5pbWFnZVR1cm4gPSAhZW50aXR5LmltYWdlVHVybjtcbiAgICByZWN0ID0gVEFOS19JTUFHRVtlbnRpdHkudHlwZV1bZW50aXR5LmRpcmVjdGlvbl1bTnVtYmVyKGVudGl0eS5pbWFnZVR1cm4pXTtcbiAgICB3aWR0aCA9IDIgKiBUQU5LX1JBRElVUztcbiAgICBoZWlnaHQgPSAyICogVEFOS19SQURJVVM7XG4gIH0gZWxzZSBpZiAoZW50aXR5IGluc3RhbmNlb2YgQnVpbGRpbmcpIHtcbiAgICByZWN0ID0gQlVJTERJTkdfSU1BR0VbZW50aXR5LnR5cGVdO1xuICAgIHdpZHRoID0gMiAqIEJVSUxESU5HX1JBRElVUztcbiAgICBoZWlnaHQgPSAyICogQlVJTERJTkdfUkFESVVTO1xuICB9IGVsc2UgaWYgKGVudGl0eSBpbnN0YW5jZW9mIEJ1bGxldCkge1xuICAgIHJlY3QgPSBCVUxMRVRfSU1BR0VbZW50aXR5LmRpcmVjdGlvbl07XG4gICAgd2lkdGggPSAyICogQlVMTEVUX1JBRElVUztcbiAgICBoZWlnaHQgPSAyICogQlVMTEVUX1JBRElVUztcbiAgfVxuICBjb250ZXh0LmRyYXdJbWFnZShcbiAgICBJTUFHRSxcbiAgICByZWN0WzBdLFxuICAgIHJlY3RbMV0sXG4gICAgcmVjdFsyXSxcbiAgICByZWN0WzNdLFxuICAgIHggLSB3aWR0aCAvIDIsXG4gICAgeSAtIGhlaWdodCAvIDIsXG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0XG4gICk7XG59XG5cbmZ1bmN0aW9uIGRyYXdFeHBsb3Npb24odHlwZTogRVhQTE9TSU9OLCBjb29yZGluYXRlOiBDb29yZGluYXRlKSB7XG4gIGxldCByZWN0ID0gRVhQTE9TSU9OX0lNQUdFW3R5cGVdO1xuICBjb250ZXh0LmRyYXdJbWFnZShcbiAgICBJTUFHRSxcbiAgICByZWN0WzBdLFxuICAgIHJlY3RbMV0sXG4gICAgcmVjdFsyXSxcbiAgICByZWN0WzNdLFxuICAgIGNvb3JkaW5hdGUueCAtIHJlY3RbMl0gLyAyLFxuICAgIGNvb3JkaW5hdGUueSAtIHJlY3RbM10gLyAyLFxuICAgIHJlY3RbMl0sXG4gICAgcmVjdFszXVxuICApO1xufVxuXG5leHBvcnQgeyByYW5kb21DaG9vc2VGcm9tLCByYW5kb21OdW1iZXIsIGRyYXdFbnRpdHksIGRyYXdFeHBsb3Npb24gfTtcbiIsImltcG9ydCB7IEFVRElPLCBESVJFQ1RJT04sIElNQUdFLCBUQU5LLCBUQU5LX1JBRElVUyB9IGZyb20gXCIuLi9Db25zdGFudHNcIjtcblxuaW1wb3J0IHsgY29udGV4dCwgR0FNRSB9IGZyb20gXCIuLi9pbmRleFwiO1xuXG5pbXBvcnQgeyBDb29yZGluYXRlLCBFbnRpdHkgfSBmcm9tIFwiLi9HZW5lcmFsXCI7XG5cbmltcG9ydCB7IEJ1bGxldCB9IGZyb20gXCIuL0J1bGxldFwiO1xuXG5jbGFzcyBUYW5rIGltcGxlbWVudHMgRW50aXR5IHtcbiAgY29vcmRpbmF0ZTogQ29vcmRpbmF0ZTtcbiAgZGlyZWN0aW9uOiBESVJFQ1RJT047XG4gIGxhc3RTaG9vdENvdW50OiBudW1iZXI7XG4gIHR5cGU6IFRBTks7XG4gIHJhZGl1czogbnVtYmVyO1xuICBzaG9vdEludGVydmFsOiBudW1iZXI7XG4gIGFsaXZlOiBib29sZWFuO1xuICBtb3Zpbmc6IGJvb2xlYW47XG4gIGltYWdlVHVybjogYm9vbGVhbjtcbiAgY2FuVGFua1Bhc3M6IGJvb2xlYW47XG4gIGNhbkJ1bGxldFBhc3M6IGJvb2xlYW47XG4gIGFjdGlvbkxpc3Q6IGFueVtdO1xuICBidWxsZXQ6IHsgZGFtYWdlOiBudW1iZXI7IHNwZWVkOiBudW1iZXIgfTtcbiAgYmxvb2Q6IG51bWJlcjtcbiAgYXJtb3I6IG51bWJlcjtcbiAgc3BlZWQ6IG51bWJlcjtcbiAgYXR0YWNrSW50ZXJ2YWw6IG51bWJlcjtcbiAgbGV2ZWw6IG51bWJlcjtcbiAgYmFzaWM6IHtcbiAgICBibG9vZDogbnVtYmVyO1xuICAgIGFybW9yOiBudW1iZXI7XG4gICAgc3BlZWQ6IG51bWJlcjtcbiAgICBhdHRhY2tJbnRlcnZhbDogbnVtYmVyO1xuICAgIGJ1bGxldERhbWFnZTogbnVtYmVyO1xuICAgIGJ1bGxldFNwZWVkOiBudW1iZXI7XG4gIH07XG4gIGNvbnN0cnVjdG9yKFxuICAgIGNvb3JkaW5hdGU6IENvb3JkaW5hdGUsXG4gICAgZGlyZWN0aW9uOiBESVJFQ1RJT04sXG4gICAgdHlwZTogVEFOSyxcbiAgICBsZXZlbCA9IDFcbiAgKSB7XG4gICAgdGhpcy5jb29yZGluYXRlID0gY29vcmRpbmF0ZTtcbiAgICB0aGlzLmRpcmVjdGlvbiA9IGRpcmVjdGlvbjtcbiAgICB0aGlzLmxhc3RTaG9vdENvdW50ID0gMDtcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIHRoaXMucmFkaXVzID0gVEFOS19SQURJVVM7XG4gICAgdGhpcy5zaG9vdEludGVydmFsID0gNjA7XG4gICAgdGhpcy5hbGl2ZSA9IHRydWU7XG4gICAgdGhpcy5tb3ZpbmcgPSB0cnVlO1xuICAgIHRoaXMuaW1hZ2VUdXJuID0gdHJ1ZTtcbiAgICB0aGlzLmNhblRhbmtQYXNzID0gZmFsc2U7XG4gICAgdGhpcy5jYW5CdWxsZXRQYXNzID0gZmFsc2U7XG4gICAgdGhpcy5hY3Rpb25MaXN0ID0gW107XG4gICAgdGhpcy5idWxsZXQgPSB7XG4gICAgICBkYW1hZ2U6IDUsXG4gICAgICBzcGVlZDogMTAsXG4gICAgfTtcbiAgICB0aGlzLmJsb29kID0gMTA7XG4gICAgdGhpcy5hcm1vciA9IDAuNTtcbiAgICB0aGlzLnNwZWVkID0gMi41O1xuICAgIHRoaXMuYXR0YWNrSW50ZXJ2YWwgPSA0MDtcbiAgICB0aGlzLmxldmVsID0gbGV2ZWw7XG4gICAgc3dpdGNoICh0aGlzLnR5cGUpIHtcbiAgICAgIGNhc2UgVEFOSy5QTEFZRVJfVEFOSzpcbiAgICAgICAgdGhpcy5iYXNpYyA9IHtcbiAgICAgICAgICBibG9vZDogMTUsXG4gICAgICAgICAgYXJtb3I6IDAuNSxcbiAgICAgICAgICBzcGVlZDogMi41LFxuICAgICAgICAgIGF0dGFja0ludGVydmFsOiA0NSxcbiAgICAgICAgICBidWxsZXREYW1hZ2U6IDgsXG4gICAgICAgICAgYnVsbGV0U3BlZWQ6IDE1LFxuICAgICAgICB9O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgVEFOSy5OT1JNQUxfVEFOSzpcbiAgICAgICAgdGhpcy5iYXNpYyA9IHtcbiAgICAgICAgICBibG9vZDogMTAsXG4gICAgICAgICAgYXJtb3I6IDAuNSxcbiAgICAgICAgICBzcGVlZDogMS44LFxuICAgICAgICAgIGF0dGFja0ludGVydmFsOiA0NSxcbiAgICAgICAgICBidWxsZXREYW1hZ2U6IDYsXG4gICAgICAgICAgYnVsbGV0U3BlZWQ6IDcsXG4gICAgICAgIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBUQU5LLlNXSUZUX1RBTks6XG4gICAgICAgIHRoaXMuYmFzaWMgPSB7XG4gICAgICAgICAgYmxvb2Q6IDcsXG4gICAgICAgICAgYXJtb3I6IDAuMzUsXG4gICAgICAgICAgc3BlZWQ6IDMsXG4gICAgICAgICAgYXR0YWNrSW50ZXJ2YWw6IDMwLFxuICAgICAgICAgIGJ1bGxldERhbWFnZTogNCxcbiAgICAgICAgICBidWxsZXRTcGVlZDogMTIsXG4gICAgICAgIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBUQU5LLkhFQVZZX1RBTks6XG4gICAgICAgIHRoaXMuYmFzaWMgPSB7XG4gICAgICAgICAgYmxvb2Q6IDIwLFxuICAgICAgICAgIGFybW9yOiAwLjcsXG4gICAgICAgICAgc3BlZWQ6IDAuNyxcbiAgICAgICAgICBhdHRhY2tJbnRlcnZhbDogNjAsXG4gICAgICAgICAgYnVsbGV0RGFtYWdlOiAxMCxcbiAgICAgICAgICBidWxsZXRTcGVlZDogMyxcbiAgICAgICAgfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aGlzLmJhc2ljID0ge1xuICAgICAgICAgIGJsb29kOiAxMCxcbiAgICAgICAgICBhcm1vcjogMC42LFxuICAgICAgICAgIHNwZWVkOiAzLFxuICAgICAgICAgIGF0dGFja0ludGVydmFsOiAyMCxcbiAgICAgICAgICBidWxsZXREYW1hZ2U6IDUsXG4gICAgICAgICAgYnVsbGV0U3BlZWQ6IDE1LFxuICAgICAgICB9O1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiVW5leHBlY3RlZCB0YW5rIHR5cGU6IFwiICsgdGhpcy50eXBlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHRoaXMuY2FsY3VsYXRlQXR0cmlidXRlcygpO1xuICB9XG5cbiAgY2FsY3VsYXRlQXR0cmlidXRlcygpOiB2b2lkIHtcbiAgICB0aGlzLmJsb29kID0gTWF0aC5taW4odGhpcy5iYXNpYy5ibG9vZCArIDI1LCB0aGlzLmJhc2ljLmJsb29kICsgMSk7XG4gICAgdGhpcy5zcGVlZCA9IE1hdGgubWluKFxuICAgICAgdGhpcy5iYXNpYy5zcGVlZCArIDgsXG4gICAgICB0aGlzLmJhc2ljLnNwZWVkICsgdGhpcy5sZXZlbCAqIDAuMVxuICAgICk7XG4gICAgdGhpcy5hcm1vciA9IE1hdGgubWluKDAuOCwgdGhpcy5iYXNpYy5hcm1vciArIHRoaXMubGV2ZWwgKiAwLjAxKTtcbiAgICB0aGlzLmJ1bGxldC5zcGVlZCA9IE1hdGgubWluKFxuICAgICAgdGhpcy5iYXNpYy5zcGVlZCArIDE1LFxuICAgICAgdGhpcy5iYXNpYy5idWxsZXRTcGVlZCArIHRoaXMubGV2ZWwgKiAwLjFcbiAgICApO1xuICAgIHRoaXMuYnVsbGV0LmRhbWFnZSA9IE1hdGgubWluKFxuICAgICAgdGhpcy5iYXNpYy5idWxsZXREYW1hZ2UgKyAyNSxcbiAgICAgIHRoaXMuYmFzaWMuYnVsbGV0RGFtYWdlICsgdGhpcy5sZXZlbCAqIDAuM1xuICAgICk7XG4gICAgdGhpcy5zaG9vdEludGVydmFsID0gTWF0aC5tYXgoXG4gICAgICB0aGlzLmJhc2ljLmF0dGFja0ludGVydmFsIC0gMjAsXG4gICAgICB0aGlzLmJhc2ljLmF0dGFja0ludGVydmFsIC0gdGhpcy5sZXZlbFxuICAgICk7XG4gIH1cblxuICBsZXZlbFVwKCk6IHZvaWQge1xuICAgIHRoaXMubGV2ZWwrKztcbiAgICB0aGlzLmNhbGN1bGF0ZUF0dHJpYnV0ZXMoKTtcbiAgfVxuXG4gIGJlQXR0YWNrZWQoYnVsbGV0OiB7IGRhbWFnZTogbnVtYmVyIH0sIGF0dGFja2VyOiBFbnRpdHkpIHtcbiAgICB0aGlzLmJsb29kIC09IE1hdGgubWF4KDEsIGJ1bGxldC5kYW1hZ2UgKiAoMSAtIHRoaXMuYXJtb3IpKTtcbiAgICBpZiAodGhpcy5ibG9vZCA8PSAwKSB7XG4gICAgICB0aGlzLmJsb29kID0gMDtcbiAgICAgIHRoaXMuYWxpdmUgPSBmYWxzZTtcbiAgICAgIEFVRElPLmV4cGxvc2lvbi5wbGF5KCkudGhlbigoKSA9PiB7fSk7XG4gICAgICBhdHRhY2tlci5sZXZlbFVwKCk7XG4gICAgfVxuICB9XG5cbiAgbW92ZSgpIHtcbiAgICBpZiAodGhpcy5tb3ZpbmcpIHtcbiAgICAgIGxldCBvdmVybGFwcGluZyA9IGZhbHNlO1xuICAgICAgbGV0IG9ic3RhY2xlczogRW50aXR5W10gPSBHQU1FLnRhbmtzO1xuICAgICAgb2JzdGFjbGVzID0gb2JzdGFjbGVzLmNvbmNhdChHQU1FLmJ1aWxkaW5ncyk7XG4gICAgICBsZXQgeERlbHRhID0gMDtcbiAgICAgIGxldCB5RGVsdGEgPSAwO1xuICAgICAgc3dpdGNoICh0aGlzLmRpcmVjdGlvbikge1xuICAgICAgICBjYXNlIERJUkVDVElPTi5VUDpcbiAgICAgICAgICB5RGVsdGEgPSAtdGhpcy5zcGVlZDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBESVJFQ1RJT04uRE9XTjpcbiAgICAgICAgICB5RGVsdGEgPSB0aGlzLnNwZWVkO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIERJUkVDVElPTi5MRUZUOlxuICAgICAgICAgIHhEZWx0YSA9IC10aGlzLnNwZWVkO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIERJUkVDVElPTi5SSUdIVDpcbiAgICAgICAgICB4RGVsdGEgPSB0aGlzLnNwZWVkO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgdGhpcy5jb29yZGluYXRlLnggKz0geERlbHRhO1xuICAgICAgdGhpcy5jb29yZGluYXRlLnkgKz0geURlbHRhO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYnN0YWNsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKG9ic3RhY2xlc1tpXS5jYW5UYW5rUGFzcykge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChcbiAgICAgICAgICBNYXRoLmFicyh0aGlzLmNvb3JkaW5hdGUueSAtIG9ic3RhY2xlc1tpXS5jb29yZGluYXRlLnkpIDxcbiAgICAgICAgICAgIHRoaXMucmFkaXVzICsgb2JzdGFjbGVzW2ldLnJhZGl1cyAmJlxuICAgICAgICAgIHRoaXMuY29vcmRpbmF0ZSAhPT0gb2JzdGFjbGVzW2ldLmNvb3JkaW5hdGUgJiZcbiAgICAgICAgICBNYXRoLmFicyh0aGlzLmNvb3JkaW5hdGUueCAtIG9ic3RhY2xlc1tpXS5jb29yZGluYXRlLngpIDxcbiAgICAgICAgICAgIHRoaXMucmFkaXVzICsgb2JzdGFjbGVzW2ldLnJhZGl1c1xuICAgICAgICApIHtcbiAgICAgICAgICBvdmVybGFwcGluZyA9IHRydWU7XG4gICAgICAgICAgdGhpcy5jb29yZGluYXRlLnggLT0geERlbHRhO1xuICAgICAgICAgIHRoaXMuY29vcmRpbmF0ZS55IC09IHlEZWx0YTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLmNvb3JkaW5hdGUgPSBUYW5rLmJvdW5kKHRoaXMuY29vcmRpbmF0ZSwgdGhpcy5yYWRpdXMpOyAvLyBNYWtlIHRoZSB0YW5rIHVuYWJsZSB0byBjcm9zcyB0aGUgYm9yZGVyXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGJvdW5kKGNvb3JkaW5hdGU6IENvb3JkaW5hdGUsIHJhZGl1czogbnVtYmVyKSB7XG4gICAgaWYgKGNvb3JkaW5hdGUueCA8IHJhZGl1cykge1xuICAgICAgY29vcmRpbmF0ZS54ID0gcmFkaXVzO1xuICAgIH0gZWxzZSBpZiAoY29vcmRpbmF0ZS54ICsgcmFkaXVzID4gY29udGV4dC5jYW52YXMud2lkdGgpIHtcbiAgICAgIGNvb3JkaW5hdGUueCA9IGNvbnRleHQuY2FudmFzLndpZHRoIC0gcmFkaXVzO1xuICAgIH1cbiAgICBpZiAoY29vcmRpbmF0ZS55IDwgcmFkaXVzKSB7XG4gICAgICBjb29yZGluYXRlLnkgPSByYWRpdXM7XG4gICAgfSBlbHNlIGlmIChjb29yZGluYXRlLnkgKyByYWRpdXMgPiBjb250ZXh0LmNhbnZhcy5oZWlnaHQpIHtcbiAgICAgIGNvb3JkaW5hdGUueSA9IGNvbnRleHQuY2FudmFzLmhlaWdodCAtIHJhZGl1cztcbiAgICB9XG5cbiAgICByZXR1cm4gY29vcmRpbmF0ZTtcbiAgfVxuXG4gIHNob290KCkge1xuICAgIGlmICh0aGlzLmxhc3RTaG9vdENvdW50ID49IHRoaXMuc2hvb3RJbnRlcnZhbCkge1xuICAgICAgR0FNRS5idWxsZXRzLnB1c2goXG4gICAgICAgIG5ldyBCdWxsZXQoXG4gICAgICAgICAgdGhpcy5jb29yZGluYXRlLFxuICAgICAgICAgIHRoaXMuZGlyZWN0aW9uLFxuICAgICAgICAgIHRoaXMuYnVsbGV0LmRhbWFnZSxcbiAgICAgICAgICB0aGlzLmJ1bGxldC5zcGVlZCxcbiAgICAgICAgICB0aGlzXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgICB0aGlzLmxhc3RTaG9vdENvdW50ID0gMDtcbiAgICAgIGlmICh0aGlzLnR5cGUgPT09IFRBTksuUExBWUVSX1RBTkspIHtcbiAgICAgICAgQVVESU8uc2hvb3QucGxheSgpLnRoZW4oKCkgPT4ge30pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGRyYXcoKSB7XG4gICAgc3dpdGNoICh0aGlzLnR5cGUpIHtcbiAgICAgIGNhc2UgVEFOSy5QTEFZRVJfVEFOSzpcbiAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoXG4gICAgICAgICAgSU1BR0UsXG4gICAgICAgICAgMzIgKiB0aGlzLmRpcmVjdGlvbixcbiAgICAgICAgICAwLFxuICAgICAgICAgIDMyLFxuICAgICAgICAgIDMyLFxuICAgICAgICAgIHRoaXMuY29vcmRpbmF0ZS54IC0gMTYsXG4gICAgICAgICAgdGhpcy5jb29yZGluYXRlLnkgLSAxNixcbiAgICAgICAgICAzMixcbiAgICAgICAgICAzMlxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgVEFOSy5OT1JNQUxfVEFOSzpcbiAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoXG4gICAgICAgICAgSU1BR0UsXG4gICAgICAgICAgMzIgKiB0aGlzLmRpcmVjdGlvbixcbiAgICAgICAgICAzMixcbiAgICAgICAgICAzMixcbiAgICAgICAgICAzMixcbiAgICAgICAgICB0aGlzLmNvb3JkaW5hdGUueCAtIDE2LFxuICAgICAgICAgIHRoaXMuY29vcmRpbmF0ZS55IC0gMTYsXG4gICAgICAgICAgMzIsXG4gICAgICAgICAgMzJcbiAgICAgICAgKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFRBTksuU1dJRlRfVEFOSzpcbiAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoXG4gICAgICAgICAgSU1BR0UsXG4gICAgICAgICAgMzIgKiAoNCArIHRoaXMuZGlyZWN0aW9uKSxcbiAgICAgICAgICAzMixcbiAgICAgICAgICAzMixcbiAgICAgICAgICAzMixcbiAgICAgICAgICB0aGlzLmNvb3JkaW5hdGUueCAtIDE2LFxuICAgICAgICAgIHRoaXMuY29vcmRpbmF0ZS55IC0gMTYsXG4gICAgICAgICAgMzIsXG4gICAgICAgICAgMzJcbiAgICAgICAgKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFRBTksuSEVBVllfVEFOSzpcbiAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoXG4gICAgICAgICAgSU1BR0UsXG4gICAgICAgICAgMzIgKiAoOCArIHRoaXMuZGlyZWN0aW9uKSxcbiAgICAgICAgICAzMiAqIDIsXG4gICAgICAgICAgMzIsXG4gICAgICAgICAgMzIsXG4gICAgICAgICAgdGhpcy5jb29yZGluYXRlLnggLSAxNixcbiAgICAgICAgICB0aGlzLmNvb3JkaW5hdGUueSAtIDE2LFxuICAgICAgICAgIDMyLFxuICAgICAgICAgIDMyXG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7IFRhbmsgfTtcbiIsImltcG9ydCB7XG4gIEFVRElPLFxuICBCVUxMRVRfUkFESVVTLFxuICBESVJFQ1RJT04sXG4gIEVYUExPU0lPTixcbiAgSU1BR0UsXG4gIFRBTkssXG59IGZyb20gXCIuLi9Db25zdGFudHNcIjtcblxuaW1wb3J0IHsgY29udGV4dCwgR0FNRSB9IGZyb20gXCIuLi9pbmRleFwiO1xuXG5pbXBvcnQgeyBUYW5rIH0gZnJvbSBcIi4vVGFua1wiO1xuXG5pbXBvcnQgeyBDb29yZGluYXRlLCBFbnRpdHkgfSBmcm9tIFwiLi9HZW5lcmFsXCI7XG5pbXBvcnQgeyBkcmF3RW50aXR5IH0gZnJvbSBcIi4uL1V0aWxzXCI7XG5cbmNsYXNzIEJ1bGxldCBpbXBsZW1lbnRzIEVudGl0eSB7XG4gIGNhblRhbmtQYXNzOiBib29sZWFuO1xuICBjYW5CdWxsZXRQYXNzOiBib29sZWFuO1xuICBzaG9vdGVyOiBUYW5rO1xuICBkaXJlY3Rpb246IERJUkVDVElPTjtcbiAgY29vcmRpbmF0ZTogQ29vcmRpbmF0ZTtcbiAgZGFtYWdlOiBudW1iZXI7XG4gIGFsaXZlOiBib29sZWFuO1xuICBzcGVlZDogbnVtYmVyO1xuICByYWRpdXM6IG51bWJlcjtcbiAgdHlwZTogYW55O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGNvb3JkaW5hdGU6IENvb3JkaW5hdGUsXG4gICAgZGlyZWN0aW9uOiBESVJFQ1RJT04sXG4gICAgZGFtYWdlOiBudW1iZXIsXG4gICAgc3BlZWQ6IG51bWJlcixcbiAgICBzaG9vdGVyOiBUYW5rXG4gICkge1xuICAgIHRoaXMuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuICAgIHRoaXMuc2hvb3RlciA9IHNob290ZXI7XG4gICAgdGhpcy5jYW5CdWxsZXRQYXNzID0gZmFsc2U7XG4gICAgdGhpcy5jYW5UYW5rUGFzcyA9IGZhbHNlO1xuICAgIGxldCB4T2Zmc2V0ID0gMDtcbiAgICBsZXQgeU9mZnNldCA9IDA7XG4gICAgc3dpdGNoICh0aGlzLmRpcmVjdGlvbikge1xuICAgICAgY2FzZSBESVJFQ1RJT04uVVA6XG4gICAgICAgIHlPZmZzZXQgPSAtMjA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBESVJFQ1RJT04uRE9XTjpcbiAgICAgICAgeU9mZnNldCA9IDIwO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgRElSRUNUSU9OLkxFRlQ6XG4gICAgICAgIHhPZmZzZXQgPSAtMjA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBESVJFQ1RJT04uUklHSFQ6XG4gICAgICAgIHhPZmZzZXQgPSAyMDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgdGhpcy5jb29yZGluYXRlID0ge1xuICAgICAgeDogY29vcmRpbmF0ZS54ICsgeE9mZnNldCxcbiAgICAgIHk6IGNvb3JkaW5hdGUueSArIHlPZmZzZXQsXG4gICAgfTtcbiAgICB0aGlzLmRhbWFnZSA9IGRhbWFnZTtcbiAgICB0aGlzLmFsaXZlID0gdHJ1ZTtcbiAgICB0aGlzLnNwZWVkID0gc3BlZWQ7XG4gICAgdGhpcy5yYWRpdXMgPSBCVUxMRVRfUkFESVVTO1xuICB9XG5cbiAgbW92ZSgpIHtcbiAgICBpZiAodGhpcy5hbGl2ZSkge1xuICAgICAgc3dpdGNoICh0aGlzLmRpcmVjdGlvbikge1xuICAgICAgICBjYXNlIERJUkVDVElPTi5VUDpcbiAgICAgICAgICBpZiAodGhpcy5jb29yZGluYXRlLnkgLSB0aGlzLnNwZWVkIDw9IDApIHtcbiAgICAgICAgICAgIHRoaXMuY29vcmRpbmF0ZS55ID0gMDtcbiAgICAgICAgICAgIHRoaXMuZXhwbG9zaW9uKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tBbGxPYnN0YWNsZXMoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5jb29yZGluYXRlLnkgLT0gdGhpcy5zcGVlZDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBESVJFQ1RJT04uRE9XTjpcbiAgICAgICAgICBpZiAodGhpcy5jb29yZGluYXRlLnkgKyB0aGlzLnNwZWVkID49IGNvbnRleHQuY2FudmFzLmhlaWdodCkge1xuICAgICAgICAgICAgdGhpcy5jb29yZGluYXRlLnkgPSBjb250ZXh0LmNhbnZhcy5oZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLmV4cGxvc2lvbigpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrQWxsT2JzdGFjbGVzKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuY29vcmRpbmF0ZS55ICs9IHRoaXMuc3BlZWQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgRElSRUNUSU9OLkxFRlQ6XG4gICAgICAgICAgaWYgKHRoaXMuY29vcmRpbmF0ZS54IC0gdGhpcy5zcGVlZCA8PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmNvb3JkaW5hdGUueCA9IDA7XG4gICAgICAgICAgICB0aGlzLmV4cGxvc2lvbigpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrQWxsT2JzdGFjbGVzKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuY29vcmRpbmF0ZS54IC09IHRoaXMuc3BlZWQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgRElSRUNUSU9OLlJJR0hUOlxuICAgICAgICAgIGlmICh0aGlzLmNvb3JkaW5hdGUueCArIHRoaXMuc3BlZWQgPj0gY29udGV4dC5jYW52YXMud2lkdGgpIHtcbiAgICAgICAgICAgIHRoaXMuY29vcmRpbmF0ZS54ID0gY29udGV4dC5jYW52YXMud2lkdGg7XG4gICAgICAgICAgICB0aGlzLmV4cGxvc2lvbigpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrQWxsT2JzdGFjbGVzKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuY29vcmRpbmF0ZS54ICs9IHRoaXMuc3BlZWQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIlVuZXhwZWN0ZWQgZGlyZWN0aW9uXCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGV4cGxvc2lvbigpIHtcbiAgICB0aGlzLmFsaXZlID0gZmFsc2U7XG4gICAgR0FNRS5leHBsb3Npb25zLnB1c2goe1xuICAgICAgY29vcmRpbmF0ZTogdGhpcy5jb29yZGluYXRlLFxuICAgICAgdHlwZTogRVhQTE9TSU9OLkJVTExFVF9FWFBMT1NJT04sXG4gICAgfSk7XG4gIH1cblxuICBjaGVja0FsbE9ic3RhY2xlcygpIHtcbiAgICBsZXQgb2JzdGFjbGVzOiBFbnRpdHlbXSA9IEdBTUUudGFua3M7XG4gICAgb2JzdGFjbGVzID0gb2JzdGFjbGVzLmNvbmNhdChHQU1FLmJ1aWxkaW5ncyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYnN0YWNsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChvYnN0YWNsZXNbaV0uY2FuQnVsbGV0UGFzcyB8fCBvYnN0YWNsZXNbaV0gPT0gdGhpcy5zaG9vdGVyKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICBCdWxsZXQuaXNIaXQoXG4gICAgICAgICAgdGhpcy5jb29yZGluYXRlLFxuICAgICAgICAgIG9ic3RhY2xlc1tpXS5jb29yZGluYXRlLFxuICAgICAgICAgIG9ic3RhY2xlc1tpXS5yYWRpdXNcbiAgICAgICAgKVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuZXhwbG9zaW9uKCk7XG4gICAgICAgIG9ic3RhY2xlc1tpXS5iZUF0dGFja2VkKHRoaXMsIHRoaXMuc2hvb3Rlcik7XG4gICAgICAgIGlmIChvYnN0YWNsZXNbaV0gaW5zdGFuY2VvZiBUYW5rKSB7XG4gICAgICAgICAgaWYgKHRoaXMuc2hvb3Rlci50eXBlID09IFRBTksuUExBWUVSX1RBTkspIHtcbiAgICAgICAgICAgIEFVRElPLmhpdC5wbGF5KCkudGhlbigoKSA9PiB7fSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChvYnN0YWNsZXNbaV0udHlwZSA9PSBUQU5LLlBMQVlFUl9UQU5LKSB7XG4gICAgICAgICAgICBBVURJTy5iZV9oaXQucGxheSgpLnRoZW4oKCkgPT4ge30pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBkcmF3KCkge1xuICAgIGRyYXdFbnRpdHkodGhpcyk7XG4gIH1cblxuICBiZUF0dGFja2VkKHBhcmFtOiBCdWxsZXQsIGF0dGFja2VyOiBFbnRpdHkpOiB2b2lkIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgfVxuXG4gIHN0YXRpYyBpc0hpdChcbiAgICBidWxsZXRDb29yZGluYXRlOiBDb29yZGluYXRlLFxuICAgIHRhcmdldENvb3JkaW5hdGU6IENvb3JkaW5hdGUsXG4gICAgdGFyZ2V0UmFkaXVzOiBudW1iZXJcbiAgKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIGJ1bGxldENvb3JkaW5hdGUueCA+PSB0YXJnZXRDb29yZGluYXRlLnggLSB0YXJnZXRSYWRpdXMgJiZcbiAgICAgIGJ1bGxldENvb3JkaW5hdGUueCA8PSB0YXJnZXRDb29yZGluYXRlLnggKyB0YXJnZXRSYWRpdXMgJiZcbiAgICAgIGJ1bGxldENvb3JkaW5hdGUueSA+PSB0YXJnZXRDb29yZGluYXRlLnkgLSB0YXJnZXRSYWRpdXMgJiZcbiAgICAgIGJ1bGxldENvb3JkaW5hdGUueSA8PSB0YXJnZXRDb29yZGluYXRlLnkgKyB0YXJnZXRSYWRpdXNcbiAgICApO1xuICB9XG5cbiAgbGV2ZWxVcCgpOiB2b2lkIHt9XG59XG5cbmV4cG9ydCB7IEJ1bGxldCB9O1xuIiwiaW1wb3J0IHsgQlVJTERJTkcsIEJVSUxESU5HX1JBRElVUywgSU1BR0UgfSBmcm9tIFwiLi4vQ29uc3RhbnRzXCI7XG5cbmltcG9ydCB7IGNvbnRleHQgfSBmcm9tIFwiLi4vaW5kZXhcIjtcblxuaW1wb3J0IHsgQ29vcmRpbmF0ZSwgRW50aXR5IH0gZnJvbSBcIi4vR2VuZXJhbFwiO1xuXG5pbXBvcnQgeyBCdWxsZXQgfSBmcm9tIFwiLi9CdWxsZXRcIjtcblxuY2xhc3MgQnVpbGRpbmcgaW1wbGVtZW50cyBFbnRpdHkge1xuICBjb29yZGluYXRlOiBDb29yZGluYXRlO1xuICBhbGl2ZTogYm9vbGVhbjtcbiAgcmFkaXVzOiBudW1iZXI7XG4gIHR5cGU6IEJVSUxESU5HO1xuICBkZXN0cm95TGltaXQ6IG51bWJlcjtcbiAgY2FuVGFua1Bhc3M6IGJvb2xlYW47XG4gIGNhbkJ1bGxldFBhc3M6IGJvb2xlYW47XG5cbiAgY29uc3RydWN0b3IoY29vcmRpbmF0ZTogQ29vcmRpbmF0ZSwgdHlwZTogQlVJTERJTkcpIHtcbiAgICB0aGlzLmNvb3JkaW5hdGUgPSBjb29yZGluYXRlO1xuICAgIHRoaXMuYWxpdmUgPSB0cnVlO1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgdGhpcy5yYWRpdXMgPSBCVUlMRElOR19SQURJVVM7XG4gICAgc3dpdGNoICh0aGlzLnR5cGUpIHtcbiAgICAgIGNhc2UgQlVJTERJTkcuQlJJQ0s6XG4gICAgICAgIHRoaXMuZGVzdHJveUxpbWl0ID0gMTA7XG4gICAgICAgIHRoaXMuY2FuVGFua1Bhc3MgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jYW5CdWxsZXRQYXNzID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBCVUlMRElORy5TVEVFTDpcbiAgICAgICAgdGhpcy5kZXN0cm95TGltaXQgPSAyMDtcbiAgICAgICAgdGhpcy5jYW5UYW5rUGFzcyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNhbkJ1bGxldFBhc3MgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEJVSUxESU5HLkpVTkdMRTpcbiAgICAgICAgdGhpcy5kZXN0cm95TGltaXQgPSAxMDA7XG4gICAgICAgIHRoaXMuY2FuVGFua1Bhc3MgPSB0cnVlO1xuICAgICAgICB0aGlzLmNhbkJ1bGxldFBhc3MgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQlVJTERJTkcuV0FURVI6XG4gICAgICAgIHRoaXMuZGVzdHJveUxpbWl0ID0gMTAwO1xuICAgICAgICB0aGlzLmNhblRhbmtQYXNzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY2FuQnVsbGV0UGFzcyA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhpcy5kZXN0cm95TGltaXQgPSAxMDA7XG4gICAgICAgIHRoaXMuY2FuVGFua1Bhc3MgPSB0cnVlO1xuICAgICAgICB0aGlzLmNhbkJ1bGxldFBhc3MgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBiZUF0dGFja2VkKGJ1bGxldDogQnVsbGV0LCBhdHRhY2tlcjogRW50aXR5KSB7XG4gICAgaWYgKGJ1bGxldC5kYW1hZ2UgPj0gdGhpcy5kZXN0cm95TGltaXQpIHtcbiAgICAgIHRoaXMuYWxpdmUgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBkcmF3KCkge1xuICAgIGlmICh0aGlzLmFsaXZlKSB7XG4gICAgICBjb250ZXh0LmRyYXdJbWFnZShcbiAgICAgICAgSU1BR0UsXG4gICAgICAgIDE2ICogdGhpcy50eXBlLFxuICAgICAgICA5NixcbiAgICAgICAgMTYsXG4gICAgICAgIDE2LFxuICAgICAgICB0aGlzLmNvb3JkaW5hdGUueCAtIDgsXG4gICAgICAgIHRoaXMuY29vcmRpbmF0ZS55IC0gOCxcbiAgICAgICAgMTYsXG4gICAgICAgIDE2XG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGxldmVsVXAoKTogdm9pZCB7fVxufVxuXG5leHBvcnQgeyBCdWlsZGluZyB9O1xuIiwiaW1wb3J0IHsgVGFuayB9IGZyb20gXCIuL21vZGVscy9UYW5rXCI7XG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi9tb2RlbHMvR2VuZXJhbFwiO1xuaW1wb3J0IHsgQUNUSU9OLCBBQ1RJT05TLCBESVJFQ1RJT04gfSBmcm9tIFwiLi9Db25zdGFudHNcIjtcbmltcG9ydCB7IHJhbmRvbUNob29zZUZyb20gfSBmcm9tIFwiLi9VdGlsc1wiO1xuXG5mdW5jdGlvbiBBSShhZ2VudDogVGFuaywgdGFyZ2V0OiBFbnRpdHkpIHtcbiAgc3dpdGNoIChhZ2VudC5hY3Rpb25MaXN0LnBvcCgpKSB7XG4gICAgY2FzZSBBQ1RJT04uTU9WRV9VUDpcbiAgICAgIGFnZW50Lm1vdmluZyA9IHRydWU7XG4gICAgICBhZ2VudC5kaXJlY3Rpb24gPSBESVJFQ1RJT04uVVA7XG4gICAgICBicmVhaztcbiAgICBjYXNlIEFDVElPTi5NT1ZFX0RPV046XG4gICAgICBhZ2VudC5tb3ZpbmcgPSB0cnVlO1xuICAgICAgYWdlbnQuZGlyZWN0aW9uID0gRElSRUNUSU9OLkRPV047XG4gICAgICBicmVhaztcbiAgICBjYXNlIEFDVElPTi5NT1ZFX0xFRlQ6XG4gICAgICBhZ2VudC5tb3ZpbmcgPSB0cnVlO1xuICAgICAgYWdlbnQuZGlyZWN0aW9uID0gRElSRUNUSU9OLkxFRlQ7XG4gICAgICBicmVhaztcbiAgICBjYXNlIEFDVElPTi5NT1ZFX1JJR0hUOlxuICAgICAgYWdlbnQubW92aW5nID0gdHJ1ZTtcbiAgICAgIGFnZW50LmRpcmVjdGlvbiA9IERJUkVDVElPTi5SSUdIVDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQUNUSU9OLlNUQVk6XG4gICAgICBhZ2VudC5tb3ZpbmcgPSBmYWxzZTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQUNUSU9OLlNIT09UOlxuICAgICAgYWdlbnQuc2hvb3QoKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQUNUSU9OLkRPX05PVEhJTkc6XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgYWdlbnQubW92aW5nID0gdHJ1ZTtcbiAgICAgIGNvbnN0IHJhbmRvbSA9IE1hdGgucmFuZG9tKCk7XG4gICAgICBpZiAocmFuZG9tIDwgMC41KSB7XG4gICAgICAgIGFnZW50LmFjdGlvbkxpc3QucHVzaChyYW5kb21DaG9vc2VGcm9tKEFDVElPTlMpKTtcbiAgICAgICAgYWdlbnQuYWN0aW9uTGlzdC5jb25jYXQoW1xuICAgICAgICAgIEFDVElPTi5TSE9PVCxcbiAgICAgICAgICBBQ1RJT04uU0hPT1QsXG4gICAgICAgICAgQUNUSU9OLlNIT09ULFxuICAgICAgICAgIEFDVElPTi5TSE9PVCxcbiAgICAgICAgXSk7XG4gICAgICB9IGVsc2UgaWYgKHJhbmRvbSA8IDAuOCkge1xuICAgICAgICBpZiAoTWF0aC5mbG9vcihyYW5kb20gKiAxMDApICUgMiA9PT0gMCkge1xuICAgICAgICAgIGlmIChhZ2VudC5jb29yZGluYXRlLnggPCB0YXJnZXQuY29vcmRpbmF0ZS54KSB7XG4gICAgICAgICAgICBhZ2VudC5hY3Rpb25MaXN0LnB1c2goQUNUSU9OLk1PVkVfUklHSFQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhZ2VudC5hY3Rpb25MaXN0LnB1c2goQUNUSU9OLk1PVkVfTEVGVCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChhZ2VudC5jb29yZGluYXRlLnkgPCB0YXJnZXQuY29vcmRpbmF0ZS55KSB7XG4gICAgICAgICAgICBhZ2VudC5hY3Rpb25MaXN0LnB1c2goQUNUSU9OLk1PVkVfRE9XTik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFnZW50LmFjdGlvbkxpc3QucHVzaChBQ1RJT04uTU9WRV9VUCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHJhbmRvbSA8IDAuOCkge1xuICAgICAgICBhZ2VudC5hY3Rpb25MaXN0LmNvbmNhdChbXG4gICAgICAgICAgQUNUSU9OLk1PVkVfVVAsXG4gICAgICAgICAgQUNUSU9OLkRPX05PVEhJTkcsXG4gICAgICAgICAgQUNUSU9OLlNIT09ULFxuICAgICAgICAgIEFDVElPTi5NT1ZFX0xFRlQsXG4gICAgICAgICAgQUNUSU9OLkRPX05PVEhJTkcsXG4gICAgICAgICAgQUNUSU9OLlNIT09ULFxuICAgICAgICAgIEFDVElPTi5NT1ZFX0RPV04sXG4gICAgICAgICAgQUNUSU9OLkRPX05PVEhJTkcsXG4gICAgICAgICAgQUNUSU9OLlNIT09ULFxuICAgICAgICAgIEFDVElPTi5NT1ZFX1JJR0hULFxuICAgICAgICAgIEFDVElPTi5ET19OT1RISU5HLFxuICAgICAgICAgIEFDVElPTi5TSE9PVCxcbiAgICAgICAgXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhZ2VudC5hY3Rpb25MaXN0LnB1c2goQUNUSU9OLlNIT09UKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICB9XG59XG5cbmV4cG9ydCB7IEFJIH07XG4iLCJpbXBvcnQgeyBCVUlMRElORyB9IGZyb20gXCIuL0NvbnN0YW50c1wiO1xuaW1wb3J0IHsgQnVpbGRpbmcgfSBmcm9tIFwiLi9tb2RlbHMvQnVpbGRpbmdcIjtcbmltcG9ydCB7IGNvbnRleHQsIEdBTUUgfSBmcm9tIFwiLi9pbmRleFwiO1xuaW1wb3J0IHsgQ29vcmRpbmF0ZSB9IGZyb20gXCIuL21vZGVscy9HZW5lcmFsXCI7XG5pbXBvcnQgeyByYW5kb21OdW1iZXIgfSBmcm9tIFwiLi9VdGlsc1wiO1xuXG5jb25zdCBtYXA6IEJVSUxESU5HW11bXSA9IFtdO1xubGV0IHJvd051bTogbnVtYmVyO1xubGV0IGNvbE51bTogbnVtYmVyO1xuXG5mdW5jdGlvbiBidWlsZGluZ3NHZW5lcmF0b3IoKSB7XG4gIHJvd051bSA9IE1hdGguZmxvb3IoY29udGV4dC5jYW52YXMud2lkdGggLyAxNik7XG4gIGNvbE51bSA9IE1hdGguZmxvb3IoY29udGV4dC5jYW52YXMuaGVpZ2h0IC8gMTYpO1xuICAvLyBpbml0aWFsaXplIG1hcFxuICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCByb3dOdW07IHJvdysrKSB7XG4gICAgbGV0IHRlbXAgPSBbXTtcbiAgICBmb3IgKGxldCBjb2wgPSAwOyBjb2wgPCBjb2xOdW07IGNvbCsrKSB7XG4gICAgICB0ZW1wLnB1c2goQlVJTERJTkcuTk9ORSk7XG4gICAgfVxuICAgIG1hcC5wdXNoKHRlbXApO1xuICB9XG4gIGdlbmVyYXRlTWFwKCk7XG4gIC8vIGZpbGwgbWFwIHdpdGggZ2VuZXJhdGVkIGJ1aWxkaW5nc1xuICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCByb3dOdW07IHJvdysrKSB7XG4gICAgZm9yIChsZXQgY29sID0gMDsgY29sIDwgY29sTnVtOyBjb2wrKykge1xuICAgICAgbGV0IGN1cnJlbnRCdWlsZGluZyA9IG1hcFtyb3ddW2NvbF07XG4gICAgICBpZiAoY3VycmVudEJ1aWxkaW5nICE9IEJVSUxESU5HLk5PTkUpIHtcbiAgICAgICAgR0FNRS5idWlsZGluZ3MucHVzaChcbiAgICAgICAgICBuZXcgQnVpbGRpbmcoXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHg6IHJvdyAqIDE2LFxuICAgICAgICAgICAgICB5OiBjb2wgKiAxNixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjdXJyZW50QnVpbGRpbmdcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlTWFwKCkge1xuICBsZXQgaSA9IHJhbmRvbU51bWJlcig4LCAxMik7XG4gIGxldCBqID0gcmFuZG9tTnVtYmVyKDEyLCAxOCk7XG5cbiAgZ2VuZXJhdGVCbG9jayhcbiAgICBCVUlMRElORy5TVEVFTCxcbiAgICB7IHg6IGkgKyAyLCB5OiBjb2xOdW0gLyAyICsgNiB9LFxuICAgIHsgeDogcm93TnVtIC8gMiwgeTogY29sTnVtIC0gaSB9XG4gICk7XG4gIGdlbmVyYXRlQmxvY2soXG4gICAgQlVJTERJTkcuQlJJQ0ssXG4gICAgeyB4OiBpLCB5OiBpIH0sXG4gICAgeyB4OiByb3dOdW0gLyAyLCB5OiBjb2xOdW0gLyAyIH1cbiAgKTtcbiAgZ2VuZXJhdGVCbG9jayhcbiAgICBCVUlMRElORy5CUklDSyxcbiAgICB7IHg6IHJvd051bSAvIDIgKyA0LCB5OiBqICsgNSB9LFxuICAgIHsgeDogcm93TnVtIC0gaiwgeTogY29sTnVtIC0gaiB9XG4gICk7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlQmxvY2soXG4gIGJ1aWxkaW5nVHlwZTogQlVJTERJTkcsXG4gIHN0YXJ0UG9pbnQ6IENvb3JkaW5hdGUsXG4gIGVuZFBvaW50OiBDb29yZGluYXRlXG4pIHtcbiAgbGV0IHVwUmlnaHQ6IENvb3JkaW5hdGUgPSB7IHg6IGVuZFBvaW50LngsIHk6IHN0YXJ0UG9pbnQueSB9O1xuICBsZXQgYm90dG9tTGVmdDogQ29vcmRpbmF0ZSA9IHsgeDogc3RhcnRQb2ludC54LCB5OiBlbmRQb2ludC55IH07XG4gIGdlbmVyYXRlTGluZShidWlsZGluZ1R5cGUsIHN0YXJ0UG9pbnQsIHVwUmlnaHQpO1xuICBnZW5lcmF0ZUxpbmUoYnVpbGRpbmdUeXBlLCBzdGFydFBvaW50LCBib3R0b21MZWZ0KTtcbiAgZ2VuZXJhdGVMaW5lKGJ1aWxkaW5nVHlwZSwgYm90dG9tTGVmdCwgZW5kUG9pbnQpO1xuICBnZW5lcmF0ZUxpbmUoYnVpbGRpbmdUeXBlLCB1cFJpZ2h0LCBlbmRQb2ludCk7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlTGluZShcbiAgYnVpbGRpbmdUeXBlOiBCVUlMRElORyxcbiAgc3RhcnRQb2ludDogQ29vcmRpbmF0ZSxcbiAgZW5kUG9pbnQ6IENvb3JkaW5hdGVcbikge1xuICBpZiAoXG4gICAgTWF0aC5tYXgoXG4gICAgICBNYXRoLmFicyhzdGFydFBvaW50LnggLSBlbmRQb2ludC54KSxcbiAgICAgIE1hdGguYWJzKHN0YXJ0UG9pbnQueSAtIGVuZFBvaW50LnkpXG4gICAgKSA8PSAyXG4gIClcbiAgICByZXR1cm47XG4gIGlmIChcbiAgICBNYXRoLmFicyhzdGFydFBvaW50LnggLSBlbmRQb2ludC54KSA+IE1hdGguYWJzKHN0YXJ0UG9pbnQueSAtIGVuZFBvaW50LnkpXG4gICkge1xuICAgIGlmIChzdGFydFBvaW50LnggPiBlbmRQb2ludC54KSB7XG4gICAgICBsZXQgdGVtcCA9IGVuZFBvaW50O1xuICAgICAgZW5kUG9pbnQgPSBzdGFydFBvaW50O1xuICAgICAgc3RhcnRQb2ludCA9IHRlbXA7XG4gICAgfVxuICAgIGZvciAobGV0IHN0YXJ0WCA9IHN0YXJ0UG9pbnQueDsgc3RhcnRYIDw9IGVuZFBvaW50Lng7IHN0YXJ0WCsrKSB7XG4gICAgICBsZXQgeCA9IHNhZmVYKHN0YXJ0WCk7XG4gICAgICBsZXQgeSA9XG4gICAgICAgIHN0YXJ0UG9pbnQueSArXG4gICAgICAgIChlbmRQb2ludC55IC0gc3RhcnRQb2ludC55KSAqXG4gICAgICAgICAgKChzdGFydFggLSBzdGFydFBvaW50LngpIC8gKGVuZFBvaW50LnggLSBzdGFydFBvaW50LngpKTtcbiAgICAgIHkgPSBzYWZlWSh5KTtcbiAgICAgIG1hcFt4XVt5XSA9IGJ1aWxkaW5nVHlwZTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKHN0YXJ0UG9pbnQueSA+IGVuZFBvaW50LnkpIHtcbiAgICAgIGxldCB0ZW1wID0gZW5kUG9pbnQ7XG4gICAgICBlbmRQb2ludCA9IHN0YXJ0UG9pbnQ7XG4gICAgICBzdGFydFBvaW50ID0gdGVtcDtcbiAgICB9XG4gICAgZm9yIChsZXQgc3RhcnRZID0gc3RhcnRQb2ludC55OyBzdGFydFkgPD0gZW5kUG9pbnQueTsgc3RhcnRZKyspIHtcbiAgICAgIGxldCB5ID0gc2FmZVkoc3RhcnRZKTtcbiAgICAgIGxldCB4ID1cbiAgICAgICAgc3RhcnRQb2ludC54ICtcbiAgICAgICAgKGVuZFBvaW50LnggLSBzdGFydFBvaW50LngpICpcbiAgICAgICAgICAoKHN0YXJ0WSAtIHN0YXJ0UG9pbnQueSkgLyAoZW5kUG9pbnQueSAtIHN0YXJ0UG9pbnQueSkpO1xuICAgICAgeCA9IHNhZmVYKHgpO1xuICAgICAgbWFwW3hdW3ldID0gYnVpbGRpbmdUeXBlO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBzYWZlWCh4OiBudW1iZXIpOiBudW1iZXIge1xuICB4ID0gTWF0aC5mbG9vcih4KTtcbiAgaWYgKHggPCAwKSByZXR1cm4gMDtcbiAgaWYgKHggPj0gcm93TnVtKSByZXR1cm4gcm93TnVtIC0gMTtcbiAgcmV0dXJuIHg7XG59XG5cbmZ1bmN0aW9uIHNhZmVZKHk6IG51bWJlcik6IG51bWJlciB7XG4gIHkgPSBNYXRoLmZsb29yKHkpO1xuICBpZiAoeSA8IDApIHJldHVybiAwO1xuICBpZiAoeSA+PSBjb2xOdW0pIHJldHVybiBjb2xOdW0gLSAxO1xuICByZXR1cm4geTtcbn1cblxuZXhwb3J0IHsgYnVpbGRpbmdzR2VuZXJhdG9yIH07XG4iXSwic291cmNlUm9vdCI6IiJ9