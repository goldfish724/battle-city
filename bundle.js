var Game=function(t){var e={};function i(o){if(e[o])return e[o].exports;var a=e[o]={i:o,l:!1,exports:{}};return t[o].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=t,i.c=e,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(o,a,function(e){return t[e]}.bind(null,a));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXT=e.GAME=e.main=void 0;var o,a=i(1),s=i(2),n=i(4),r=0,c=!1;e.CONTEXT=o;var h={tanks:[],bullets:[],explosions:[],buildings:[]};function l(){var t=new s.Tank({x:o.canvas.width/2,y:o.canvas.height},a.DIRECTION.UP,a.TANK.PLAYER_TANK);h.tanks.unshift(t)}function d(t,e){switch(t.actionList.pop()){case a.ACTION.MOVE_UP:t.moving=!0,t.direction=a.DIRECTION.UP;break;case a.ACTION.MOVE_DOWN:t.moving=!0,t.direction=a.DIRECTION.DOWN;break;case a.ACTION.MOVE_LEFT:t.moving=!0,t.direction=a.DIRECTION.LEFT;break;case a.ACTION.MOVE_RIGHT:t.moving=!0,t.direction=a.DIRECTION.RIGHT;break;case a.ACTION.STAY:t.moving=!1;break;case a.ACTION.SHOOT:t.shoot();break;case a.ACTION.DO_NOTHING:break;default:t.moving=!0;var i=Math.random();i<.5?(t.actionList.push(N(a.ACTIONS)),t.actionList.concat([a.ACTION.SHOOT,a.ACTION.SHOOT,a.ACTION.SHOOT,a.ACTION.SHOOT])):i<.8?Math.floor(100*i)%2==0?t.coordinate.x<e.coordinate.x?t.actionList.push(a.ACTION.MOVE_RIGHT):t.actionList.push(a.ACTION.MOVE_LEFT):t.coordinate.y<e.coordinate.y?t.actionList.push(a.ACTION.MOVE_DOWN):t.actionList.push(a.ACTION.MOVE_UP):i<.8?t.actionList.concat([a.ACTION.MOVE_UP,a.ACTION.DO_NOTHING,a.ACTION.SHOOT,a.ACTION.MOVE_LEFT,a.ACTION.DO_NOTHING,a.ACTION.SHOOT,a.ACTION.MOVE_DOWN,a.ACTION.DO_NOTHING,a.ACTION.SHOOT,a.ACTION.MOVE_RIGHT,a.ACTION.DO_NOTHING,a.ACTION.SHOOT]):t.actionList.push(a.ACTION.SHOOT)}}e.GAME=h,e.main=function(){e.CONTEXT=o=a.CANVAS.getContext("2d"),o.canvas.width=window.innerWidth,o.canvas.height=window.innerHeight,function(){for(var t=Math.floor(o.canvas.width/16),e=Math.floor(o.canvas.height/16),i=0;i<15+Math.floor(10*Math.random());i++){var s=N(a.BUILDINGS),r=Math.floor(Math.random()*t),c=Math.floor(Math.random()*e),l=2,d=2;Math.floor(10*Math.random())%2==0?l=Math.floor(Math.random()*(t-r)):d=Math.floor(Math.random()*(e-c));for(var u=r;u<r+l;u++)for(var T=c;T<c+d;T++)h.buildings.push(new n.Building({x:16*u,y:16*T},s))}}(),function(){var t=JSON.parse(window.localStorage.getItem("state")),e=new s.Tank({x:o.canvas.width/2,y:o.canvas.height},a.DIRECTION.UP,a.TANK.PLAYER_TANK);null!=t&&(e.blood=t.blood,e.armor=t.armor,e.speed=t.speed,e.level=t.level,e.bullet.speed=t.bullet.speed,e.bullet.damage=t.bullet.damage);h.tanks.unshift(e)}(),a.AUDIO.start.play().then((function(){})),function t(){!function(){if(c)return;0===r&&Math.random()>.7&&h.tanks.push(new s.Tank({x:Math.random()*o.canvas.width,y:0},a.DIRECTION.DOWN,N(a.ENEMY_TANKS)));r+=1,r%=60,function(){for(var t=0;t<h.bullets.length;t++)h.bullets[t].alive||h.bullets.splice(t,1);for(t=0;t<h.bullets.length;t++)h.bullets[t].move()}(),function(){for(var t=0;t<h.buildings.length;t++)h.buildings[t].alive||h.buildings.splice(t,1)}(),function(){for(var t=!1,e=0;e<h.tanks.length;e++)h.tanks[e].alive||(h.explosions.push({coordinate:h.tanks[e].coordinate,type:a.EXPLOSION.TANK_EXPLOSION}),h.tanks.splice(e,1),t=0==e);h.tanks[0].move(),h.tanks[0].lastShootCount+=1;for(e=1;e<h.tanks.length;e++)h.tanks[e].move(),h.tanks[e].lastShootCount+=1;if(r%5==0)for(e=1;e<h.tanks.length;e++){var i=h.tanks[0];d(h.tanks[e],i)}t&&a.AUDIO.game_over.play().then((function(){l()}))}()}(),function(){o.clearRect(0,0,o.canvas.width,o.canvas.height);var t=h.tanks;t=(t=t.concat(h.bullets)).concat(h.buildings);for(var e=0;e<t.length;e++)t[e].draw();for(e=0;e<h.explosions.length;e++){var i=h.explosions[e];i.type===a.EXPLOSION.TANK_EXPLOSION?o.drawImage(a.IMAGE,320,0,32,32,i.coordinate.x-16,i.coordinate.y-16,32,32):i.type===a.EXPLOSION.BULLET_EXPLOSION&&o.drawImage(a.IMAGE,352,0,32,32,i.coordinate.x-16,i.coordinate.y-16,32,32)}(function(){o.font="20px monospace",o.fillStyle="white";var t=h.tanks[0];o.fillText("blood: "+t.blood.toFixed(1)+" armor: "+t.armor.toFixed(2),20,30),o.fillText("speed: "+t.speed.toFixed(1)+" level: "+t.level,20,50),o.fillText("shoot interval: "+t.shootInterval,20,70),o.fillText("bullet damage: "+t.bullet.damage.toFixed(1)+" bullet speed: "+t.bullet.speed.toFixed(1),20,90)})(),h.explosions=[]}(),window.localStorage.setItem("state",JSON.stringify(h.tanks[0])),requestAnimationFrame(t)}()};var u=!1,T=!1,O=!1,I=!1;function N(t){return t[Math.floor(Math.random()*t.length)]}document.onkeydown=function(t){try{switch(t.code){case"KeyA":u=!0,h.tanks[0].moving=!0,h.tanks[0].direction=a.DIRECTION.LEFT;break;case"KeyD":T=!0,h.tanks[0].moving=!0,h.tanks[0].direction=a.DIRECTION.RIGHT;break;case"KeyW":O=!0,h.tanks[0].moving=!0,h.tanks[0].direction=a.DIRECTION.UP;break;case"KeyS":I=!0,h.tanks[0].moving=!0,h.tanks[0].direction=a.DIRECTION.DOWN;break;case"KeyP":c=!c,a.AUDIO.pause.play().then((function(){}));break;case"Space":h.tanks[0].shoot();break;case"F11":case"KeyR":location.reload();break;case"KeyB":l()}}catch(t){console.log(t.toString())}},document.onmousedown=function(t){0==t.button&&h.tanks[0].shoot()},document.onkeyup=function(t){switch(t.code){case"KeyA":u=!1;break;case"KeyD":T=!1;break;case"KeyW":O=!1;break;case"KeyS":I=!1;break;case"KeyC":h.buildings=[]}I||O||T||u||(h.tanks[0].moving=!1)};var E=0,p=0;document.ontouchstart=function(t){console.log("start: ",t.touches[0].pageX,t.touches[0].pageY),E=t.touches[0].pageX,p=t.touches[0].pageY,h.tanks[0]&&(h.tanks[0].moving=!0,h.tanks[0].shoot())},document.ontouchend=function(t){console.log("end: ",t);var e=t.changedTouches[0].pageX,i=t.changedTouches[0].pageY;Math.abs(e-E)>Math.abs(i-p)?h.tanks[0].direction=e>E?a.DIRECTION.RIGHT:a.DIRECTION.LEFT:h.tanks[0].direction=i>p?a.DIRECTION.DOWN:a.DIRECTION.UP}},function(t,e,i){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0}),e.IMAGE=e.CANVAS=e.AUDIO=e.ACTIONS=e.ACTION=e.BUILDINGS=e.BUILDING=e.EXPLOSION=e.DIRECTION=e.ENEMY_TANKS=e.TANK=void 0,function(t){t[t.PLAYER_TANK=0]="PLAYER_TANK",t[t.NORMAL_TANK=1]="NORMAL_TANK",t[t.SWIFT_TANK=2]="SWIFT_TANK",t[t.HEAVY_TANK=3]="HEAVY_TANK"}(o||(o={})),e.TANK=o;var a,s,n,r=[o.NORMAL_TANK,o.SWIFT_TANK,o.HEAVY_TANK];e.ENEMY_TANKS=r,function(t){t[t.UP=0]="UP",t[t.DOWN=1]="DOWN",t[t.LEFT=2]="LEFT",t[t.RIGHT=3]="RIGHT"}(a||(a={})),e.DIRECTION=a,function(t){t[t.TANK_EXPLOSION=0]="TANK_EXPLOSION",t[t.BULLET_EXPLOSION=1]="BULLET_EXPLOSION"}(s||(s={})),e.EXPLOSION=s,function(t){t[t.BRICK=0]="BRICK",t[t.CEMENT=1]="CEMENT",t[t.TREE=2]="TREE",t[t.WATER=3]="WATER",t[t.ROAD=4]="ROAD"}(n||(n={})),e.BUILDING=n;var c,h=[n.BRICK,n.CEMENT,n.TREE,n.WATER];e.BUILDINGS=h,function(t){t[t.MOVE_UP=0]="MOVE_UP",t[t.MOVE_DOWN=1]="MOVE_DOWN",t[t.MOVE_LEFT=2]="MOVE_LEFT",t[t.MOVE_RIGHT=3]="MOVE_RIGHT",t[t.STAY=4]="STAY",t[t.SHOOT=5]="SHOOT",t[t.DO_NOTHING=6]="DO_NOTHING"}(c||(c={})),e.ACTION=c;var l=[c.MOVE_UP,c.MOVE_DOWN,c.MOVE_LEFT,c.MOVE_RIGHT,c.STAY,c.SHOOT,c.DO_NOTHING];e.ACTIONS=l;var d=new function(){this.start=document.getElementById("start"),this.collect=document.getElementById("collect"),this.shoot=document.getElementById("shoot"),this.explosion=document.getElementById("explosion"),this.pause=document.getElementById("pause"),this.pick=document.getElementById("pick"),this.level_up=document.getElementById("level_up"),this.idle=document.getElementById("idle"),this.move=document.getElementById("move"),this.hit=document.getElementById("hit"),this.game_over=document.getElementById("game_over")};e.AUDIO=d;var u=document.getElementById("canvas");e.CANVAS=u;var T=document.getElementById("sprites");e.IMAGE=T},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Tank=void 0;var o=i(1),a=i(0),s=i(3),n=function(){function t(t,e,i){switch(this.coordinate=t,this.direction=e,this.lastShootCount=0,this.type=i,this.radius=16,this.shootInterval=60,this.alive=!0,this.moving=!0,this.canTankPass=!1,this.canBulletPass=!1,this.actionList=[],this.bullet={damage:5,speed:10},this.blood=10,this.armor=.5,this.speed=2.5,this.attackInterval=40,this.level=1,this.type){case o.TANK.PLAYER_TANK:this.blood=10,this.armor=.6,this.speed=3,this.attackInterval=20,this.bullet.damage=5,this.bullet.speed=15;break;case o.TANK.NORMAL_TANK:this.blood=10,this.armor=.5,this.speed=2.5,this.attackInterval=40,this.bullet.damage=4,this.bullet.speed=10;break;case o.TANK.SWIFT_TANK:this.blood=5,this.armor=.3,this.speed=3.5,this.attackInterval=20,this.bullet.damage=3,this.bullet.speed=15;break;case o.TANK.HEAVY_TANK:this.blood=20,this.armor=.7,this.speed=.7,this.attackInterval=60,this.bullet.damage=10,this.bullet.speed=4;break;default:console.error("Unexpected tank type: "+this.type)}}return t.prototype.levelUp=function(){this.level++,this.blood=Math.min(30,this.blood+1),this.speed=Math.min(10,this.speed+.1),this.armor=Math.min(.8,this.armor+.04),this.bullet.speed=Math.min(30,this.bullet.speed+.5),this.bullet.damage=Math.min(10,this.bullet.damage+.5),this.shootInterval=Math.max(10,this.shootInterval-2)},t.prototype.beAttacked=function(t,e){this.blood-=Math.max(1,t.damage*(1-this.armor)),this.blood<=0&&(this.blood=0,this.alive=!1,o.AUDIO.explosion.play().then((function(){})),e.levelUp())},t.prototype.move=function(){if(this.moving){var e=a.GAME.tanks;e=e.concat(a.GAME.buildings);var i=0,s=0;switch(this.direction){case o.DIRECTION.UP:s=-this.speed;break;case o.DIRECTION.DOWN:s=this.speed;break;case o.DIRECTION.LEFT:i=-this.speed;break;case o.DIRECTION.RIGHT:i=this.speed}this.coordinate.x+=i,this.coordinate.y+=s;for(var n=0;n<e.length;n++)if(!e[n].canTankPass&&Math.abs(this.coordinate.y-e[n].coordinate.y)<this.radius+e[n].radius&&this.coordinate!==e[n].coordinate&&Math.abs(this.coordinate.x-e[n].coordinate.x)<this.radius+e[n].radius){!0,this.coordinate.x-=i,this.coordinate.y-=s;break}this.coordinate=t.bound(this.coordinate,this.radius)}},t.bound=function(t,e){return t.x<e?t.x=e:t.x+e>a.CONTEXT.canvas.width&&(t.x=a.CONTEXT.canvas.width-e),t.y<e?t.y=e:t.y+e>a.CONTEXT.canvas.height&&(t.y=a.CONTEXT.canvas.height-e),t},t.prototype.shoot=function(){this.lastShootCount>=this.shootInterval&&(a.GAME.bullets.push(new s.Bullet(this.coordinate,this.direction,this.bullet.damage,this.bullet.speed,this)),this.lastShootCount=0,this.type===o.TANK.PLAYER_TANK&&o.AUDIO.shoot.play().then((function(){})))},t.prototype.draw=function(){switch(this.type){case o.TANK.PLAYER_TANK:a.CONTEXT.drawImage(o.IMAGE,32*this.direction,0,32,32,this.coordinate.x-16,this.coordinate.y-16,32,32);break;case o.TANK.NORMAL_TANK:a.CONTEXT.drawImage(o.IMAGE,32*this.direction,32,32,32,this.coordinate.x-16,this.coordinate.y-16,32,32);break;case o.TANK.SWIFT_TANK:a.CONTEXT.drawImage(o.IMAGE,32*(4+this.direction),32,32,32,this.coordinate.x-16,this.coordinate.y-16,32,32);break;case o.TANK.HEAVY_TANK:a.CONTEXT.drawImage(o.IMAGE,32*(8+this.direction),64,32,32,this.coordinate.x-16,this.coordinate.y-16,32,32)}},t}();e.Tank=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Bullet=void 0;var o=i(1),a=i(0),s=i(2),n=function(){function t(t,e,i,a,s){this.direction=e,this.shooter=s;var n=0,r=0;switch(this.direction){case o.DIRECTION.UP:r=-20;break;case o.DIRECTION.DOWN:r=20;break;case o.DIRECTION.LEFT:n=-20;break;case o.DIRECTION.RIGHT:n=20}this.coordinate={x:t.x+n,y:t.y+r},this.damage=i,this.alive=!0,this.speed=a,this.radius=1}return t.prototype.beAttacked=function(t,e){throw new Error("Method not implemented.")},t.prototype.move=function(){if(this.alive)switch(this.direction){case o.DIRECTION.UP:this.coordinate.y-this.speed<=0?(this.coordinate.y=0,this.explosion()):this.checkAllObstacles(),this.coordinate.y-=this.speed;break;case o.DIRECTION.DOWN:this.coordinate.y+this.speed>=a.CONTEXT.canvas.height?(this.coordinate.y=a.CONTEXT.canvas.height,this.explosion()):this.checkAllObstacles(),this.coordinate.y+=this.speed;break;case o.DIRECTION.LEFT:this.coordinate.x-this.speed<=0?(this.coordinate.x=0,this.explosion()):this.checkAllObstacles(),this.coordinate.x-=this.speed;break;case o.DIRECTION.RIGHT:this.coordinate.x+this.speed>=a.CONTEXT.canvas.width?(this.coordinate.x=a.CONTEXT.canvas.width,this.explosion()):this.checkAllObstacles(),this.coordinate.x+=this.speed;break;default:console.error("Unexpected direction")}},t.prototype.explosion=function(){this.alive=!1,a.GAME.explosions.push({coordinate:this.coordinate,type:o.EXPLOSION.BULLET_EXPLOSION})},t.prototype.checkAllObstacles=function(){var e=a.GAME.tanks;e=e.concat(a.GAME.buildings);for(var i=0;i<e.length;i++)if(!e[i].canBulletPass&&t.isHit(this.coordinate,e[i].coordinate,e[i].radius)){this.explosion(),e[i].beAttacked(this,this.shooter),this.shooter.type==o.TANK.PLAYER_TANK&&e[i]instanceof s.Tank&&o.AUDIO.hit.play().then((function(){}));break}},t.prototype.draw=function(){a.CONTEXT.drawImage(o.IMAGE,6*this.direction+80,96,6,6,this.coordinate.x-3,this.coordinate.y-3,6,6)},t.isHit=function(t,e,i){return t.x>=e.x-i&&t.x<=e.x+i&&t.y>=e.y-i&&t.y<=e.y+i},t.prototype.levelUp=function(){},t}();e.Bullet=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Building=void 0;var o=i(1),a=i(0),s=function(){function t(t,e){switch(this.coordinate=t,this.alive=!0,this.type=e,this.radius=8,this.type){case o.BUILDING.BRICK:this.destroyLimit=10,this.canTankPass=!1,this.canBulletPass=!1;break;case o.BUILDING.CEMENT:this.destroyLimit=20,this.canTankPass=!1,this.canBulletPass=!1;break;case o.BUILDING.TREE:this.destroyLimit=100,this.canTankPass=!0,this.canBulletPass=!0;break;case o.BUILDING.WATER:this.destroyLimit=100,this.canTankPass=!1,this.canBulletPass=!0;break;default:this.destroyLimit=100,this.canTankPass=!0,this.canBulletPass=!0}}return t.prototype.beAttacked=function(t,e){t.damage>=this.destroyLimit&&(this.alive=!1)},t.prototype.draw=function(){this.alive&&a.CONTEXT.drawImage(o.IMAGE,16*this.type,96,16,16,this.coordinate.x-8,this.coordinate.y-8,16,16)},t.prototype.levelUp=function(){},t}();e.Building=s}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HYW1lL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL0dhbWUvLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vR2FtZS8uL3NyYy9Db25zdGFudHMudHMiLCJ3ZWJwYWNrOi8vR2FtZS8uL3NyYy9tb2RlbHMvVGFuay50cyIsIndlYnBhY2s6Ly9HYW1lLy4vc3JjL21vZGVscy9CdWxsZXQudHMiLCJ3ZWJwYWNrOi8vR2FtZS8uL3NyYy9tb2RlbHMvQnVpbGRpbmcudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJDT05URVhUIiwiR0FNRSIsIm1haW4iLCJDb25zdGFudHNfMSIsIlRhbmtfMSIsIkJ1aWxkaW5nXzEiLCJjb3VudCIsInBhdXNlZCIsInRhbmtzIiwiYnVsbGV0cyIsImV4cGxvc2lvbnMiLCJidWlsZGluZ3MiLCJnZW5lcmF0ZVBsYXlUYW5rIiwidGFuayIsIlRhbmsiLCJ4IiwiY2FudmFzIiwid2lkdGgiLCJ5IiwiaGVpZ2h0IiwiRElSRUNUSU9OIiwiVVAiLCJUQU5LIiwiUExBWUVSX1RBTksiLCJ1bnNoaWZ0IiwiQUkiLCJhZ2VudCIsInRhcmdldCIsImFjdGlvbkxpc3QiLCJwb3AiLCJBQ1RJT04iLCJNT1ZFX1VQIiwibW92aW5nIiwiZGlyZWN0aW9uIiwiTU9WRV9ET1dOIiwiRE9XTiIsIk1PVkVfTEVGVCIsIkxFRlQiLCJNT1ZFX1JJR0hUIiwiUklHSFQiLCJTVEFZIiwiU0hPT1QiLCJzaG9vdCIsIkRPX05PVEhJTkciLCJyYW5kb20iLCJNYXRoIiwicHVzaCIsInJhbmRvbUNob29zZUZyb20iLCJBQ1RJT05TIiwiY29uY2F0IiwiZmxvb3IiLCJjb29yZGluYXRlIiwiQ0FOVkFTIiwiZ2V0Q29udGV4dCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsInhSYW5nZSIsInlSYW5nZSIsImJ1aWxkaW5nVHlwZSIsIkJVSUxESU5HUyIsImlfMSIsImoiLCJCdWlsZGluZyIsImJ1aWxkaW5nc0dlbmVyYXRvciIsInN0YXRlIiwiSlNPTiIsInBhcnNlIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImJsb29kIiwiYXJtb3IiLCJzcGVlZCIsImxldmVsIiwiYnVsbGV0IiwiZGFtYWdlIiwibG9hZFBsYXllclRhbmsiLCJBVURJTyIsInN0YXJ0IiwicGxheSIsInRoZW4iLCJ0aWNrIiwiRU5FTVlfVEFOS1MiLCJsZW5ndGgiLCJhbGl2ZSIsInNwbGljZSIsIm1vdmUiLCJ1cGRhdGVCdWxsZXRzIiwidXBkYXRlQnVpbGRpbmdzIiwiaXNQbGF5ZXJEaWVkIiwidHlwZSIsIkVYUExPU0lPTiIsIlRBTktfRVhQTE9TSU9OIiwibGFzdFNob290Q291bnQiLCJwbGF5ZXJUYW5rIiwiZ2FtZV9vdmVyIiwidXBkYXRlVGFua3MiLCJ1cGRhdGUiLCJjbGVhclJlY3QiLCJvYmplY3RzIiwiZHJhdyIsImV4cGxvc2lvbiIsImRyYXdJbWFnZSIsIklNQUdFIiwiQlVMTEVUX0VYUExPU0lPTiIsImZvbnQiLCJmaWxsU3R5bGUiLCJwbGF5ZXIiLCJmaWxsVGV4dCIsInRvRml4ZWQiLCJzaG9vdEludGVydmFsIiwic2hvd1N0YXR1cyIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJrZXlBRG93biIsImtleUREb3duIiwia2V5V0Rvd24iLCJrZXlTRG93biIsImFycmF5IiwiZG9jdW1lbnQiLCJvbmtleWRvd24iLCJlIiwiY29kZSIsInBhdXNlIiwibG9jYXRpb24iLCJyZWxvYWQiLCJjb25zb2xlIiwibG9nIiwidG9TdHJpbmciLCJvbm1vdXNlZG93biIsImJ1dHRvbiIsIm9ua2V5dXAiLCJ0b3VjaFBvaW50WCIsInRvdWNoUG9pbnRZIiwib250b3VjaHN0YXJ0IiwidG91Y2hlcyIsInBhZ2VYIiwicGFnZVkiLCJvbnRvdWNoZW5kIiwiZW5kVG91Y2hQb2ludFgiLCJjaGFuZ2VkVG91Y2hlcyIsImVuZFRvdWNoUG9pbnRZIiwiYWJzIiwiQlVJTERJTkciLCJOT1JNQUxfVEFOSyIsIlNXSUZUX1RBTksiLCJIRUFWWV9UQU5LIiwiQlJJQ0siLCJDRU1FTlQiLCJUUkVFIiwiV0FURVIiLCJ0aGlzIiwiZ2V0RWxlbWVudEJ5SWQiLCJjb2xsZWN0IiwicGljayIsImxldmVsX3VwIiwiaWRsZSIsImhpdCIsImluZGV4XzEiLCJCdWxsZXRfMSIsInJhZGl1cyIsImNhblRhbmtQYXNzIiwiY2FuQnVsbGV0UGFzcyIsImF0dGFja0ludGVydmFsIiwiZXJyb3IiLCJsZXZlbFVwIiwibWluIiwibWF4IiwiYmVBdHRhY2tlZCIsImF0dGFja2VyIiwib2JzdGFjbGVzIiwieERlbHRhIiwieURlbHRhIiwiYm91bmQiLCJCdWxsZXQiLCJzaG9vdGVyIiwieE9mZnNldCIsInlPZmZzZXQiLCJwYXJhbSIsIkVycm9yIiwiY2hlY2tBbGxPYnN0YWNsZXMiLCJpc0hpdCIsImJ1bGxldENvb3JkaW5hdGUiLCJ0YXJnZXRDb29yZGluYXRlIiwidGFyZ2V0UmFkaXVzIiwiZGVzdHJveUxpbWl0Il0sIm1hcHBpbmdzIjoicUJBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBMERmLE9BckRBRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxLQVF2RHJCLEVBQW9Cc0IsRUFBSSxTQUFTRCxFQUFPRSxHQUV2QyxHQURVLEVBQVBBLElBQVVGLEVBQVFyQixFQUFvQnFCLElBQy9CLEVBQVBFLEVBQVUsT0FBT0YsRUFDcEIsR0FBVyxFQUFQRSxHQUE4QixpQkFBVkYsR0FBc0JBLEdBQVNBLEVBQU1HLFdBQVksT0FBT0gsRUFDaEYsSUFBSUksRUFBS1gsT0FBT1ksT0FBTyxNQUd2QixHQUZBMUIsRUFBb0JrQixFQUFFTyxHQUN0QlgsT0FBT0MsZUFBZVUsRUFBSSxVQUFXLENBQUVULFlBQVksRUFBTUssTUFBT0EsSUFDdEQsRUFBUEUsR0FBNEIsaUJBQVRGLEVBQW1CLElBQUksSUFBSU0sS0FBT04sRUFBT3JCLEVBQW9CVSxFQUFFZSxFQUFJRSxFQUFLLFNBQVNBLEdBQU8sT0FBT04sRUFBTU0sSUFBUUMsS0FBSyxLQUFNRCxJQUM5SSxPQUFPRixHQUlSekIsRUFBb0I2QixFQUFJLFNBQVMxQixHQUNoQyxJQUFJUyxFQUFTVCxHQUFVQSxFQUFPcUIsV0FDN0IsV0FBd0IsT0FBT3JCLEVBQWdCLFNBQy9DLFdBQThCLE9BQU9BLEdBRXRDLE9BREFILEVBQW9CVSxFQUFFRSxFQUFRLElBQUtBLEdBQzVCQSxHQUlSWixFQUFvQmEsRUFBSSxTQUFTaUIsRUFBUUMsR0FBWSxPQUFPakIsT0FBT2tCLFVBQVVDLGVBQWUxQixLQUFLdUIsRUFBUUMsSUFHekcvQixFQUFvQmtDLEVBQUksR0FJakJsQyxFQUFvQkEsRUFBb0JtQyxFQUFJLEcsK0JDakZyRHJCLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxJQUN0RG5CLEVBQVFrQyxRQUFVbEMsRUFBUW1DLEtBQU9uQyxFQUFRb0MsVUFBTyxFQUNoRCxJQUtJRixFQUxBRyxFQUFjLEVBQVEsR0FDdEJDLEVBQVMsRUFBUSxHQUNqQkMsRUFBYSxFQUFRLEdBQ3JCQyxFQUFRLEVBQ1JDLEdBQVMsRUFFYnpDLEVBQVFrQyxRQUFVQSxFQUNsQixJQUFJQyxFQUFPLENBQ1BPLE1BQU8sR0FDUEMsUUFBUyxHQUNUQyxXQUFZLEdBQ1pDLFVBQVcsSUFtQmYsU0FBU0MsSUFDTCxJQUFJQyxFQUFPLElBQUlULEVBQU9VLEtBQUssQ0FBRUMsRUFBR2YsRUFBUWdCLE9BQU9DLE1BQVEsRUFBR0MsRUFBR2xCLEVBQVFnQixPQUFPRyxRQUFVaEIsRUFBWWlCLFVBQVVDLEdBQUlsQixFQUFZbUIsS0FBS0MsYUFDakl0QixFQUFLTyxNQUFNZ0IsUUFBUVgsR0E0RXZCLFNBQVNZLEVBQUdDLEVBQU9DLEdBQ2YsT0FBUUQsRUFBTUUsV0FBV0MsT0FDckIsS0FBSzFCLEVBQVkyQixPQUFPQyxRQUNwQkwsRUFBTU0sUUFBUyxFQUNmTixFQUFNTyxVQUFZOUIsRUFBWWlCLFVBQVVDLEdBQ3hDLE1BQ0osS0FBS2xCLEVBQVkyQixPQUFPSSxVQUNwQlIsRUFBTU0sUUFBUyxFQUNmTixFQUFNTyxVQUFZOUIsRUFBWWlCLFVBQVVlLEtBQ3hDLE1BQ0osS0FBS2hDLEVBQVkyQixPQUFPTSxVQUNwQlYsRUFBTU0sUUFBUyxFQUNmTixFQUFNTyxVQUFZOUIsRUFBWWlCLFVBQVVpQixLQUN4QyxNQUNKLEtBQUtsQyxFQUFZMkIsT0FBT1EsV0FDcEJaLEVBQU1NLFFBQVMsRUFDZk4sRUFBTU8sVUFBWTlCLEVBQVlpQixVQUFVbUIsTUFDeEMsTUFDSixLQUFLcEMsRUFBWTJCLE9BQU9VLEtBQ3BCZCxFQUFNTSxRQUFTLEVBQ2YsTUFDSixLQUFLN0IsRUFBWTJCLE9BQU9XLE1BQ3BCZixFQUFNZ0IsUUFDTixNQUNKLEtBQUt2QyxFQUFZMkIsT0FBT2EsV0FDcEIsTUFDSixRQUNJakIsRUFBTU0sUUFBUyxFQUNmLElBQUlZLEVBQVNDLEtBQUtELFNBQ2RBLEVBQVMsSUFDVGxCLEVBQU1FLFdBQVdrQixLQUFLQyxFQUFpQjVDLEVBQVk2QyxVQUNuRHRCLEVBQU1FLFdBQVdxQixPQUFPLENBQ3BCOUMsRUFBWTJCLE9BQU9XLE1BQ25CdEMsRUFBWTJCLE9BQU9XLE1BQ25CdEMsRUFBWTJCLE9BQU9XLE1BQ25CdEMsRUFBWTJCLE9BQU9XLFNBR2xCRyxFQUFTLEdBQ1ZDLEtBQUtLLE1BQWUsSUFBVE4sR0FBZ0IsR0FBTSxFQUM3QmxCLEVBQU15QixXQUFXcEMsRUFBSVksRUFBT3dCLFdBQVdwQyxFQUN2Q1csRUFBTUUsV0FBV2tCLEtBQUszQyxFQUFZMkIsT0FBT1EsWUFHekNaLEVBQU1FLFdBQVdrQixLQUFLM0MsRUFBWTJCLE9BQU9NLFdBSXpDVixFQUFNeUIsV0FBV2pDLEVBQUlTLEVBQU93QixXQUFXakMsRUFDdkNRLEVBQU1FLFdBQVdrQixLQUFLM0MsRUFBWTJCLE9BQU9JLFdBR3pDUixFQUFNRSxXQUFXa0IsS0FBSzNDLEVBQVkyQixPQUFPQyxTQUk1Q2EsRUFBUyxHQUNkbEIsRUFBTUUsV0FBV3FCLE9BQU8sQ0FDcEI5QyxFQUFZMkIsT0FBT0MsUUFDbkI1QixFQUFZMkIsT0FBT2EsV0FDbkJ4QyxFQUFZMkIsT0FBT1csTUFDbkJ0QyxFQUFZMkIsT0FBT00sVUFDbkJqQyxFQUFZMkIsT0FBT2EsV0FDbkJ4QyxFQUFZMkIsT0FBT1csTUFDbkJ0QyxFQUFZMkIsT0FBT0ksVUFDbkIvQixFQUFZMkIsT0FBT2EsV0FDbkJ4QyxFQUFZMkIsT0FBT1csTUFDbkJ0QyxFQUFZMkIsT0FBT1EsV0FDbkJuQyxFQUFZMkIsT0FBT2EsV0FDbkJ4QyxFQUFZMkIsT0FBT1csUUFJdkJmLEVBQU1FLFdBQVdrQixLQUFLM0MsRUFBWTJCLE9BQU9XLFFBeEt6RDNFLEVBQVFtQyxLQUFPQSxFQWdCZm5DLEVBQVFvQyxLQWZSLFdBQ0lwQyxFQUFRa0MsUUFBVUEsRUFBVUcsRUFBWWlELE9BQU9DLFdBQVcsTUFDMURyRCxFQUFRZ0IsT0FBT0MsTUFBUXFDLE9BQU9DLFdBQzlCdkQsRUFBUWdCLE9BQU9HLE9BQVNtQyxPQUFPRSxZQStSbkMsV0FHSSxJQUZBLElBQUlDLEVBQVNaLEtBQUtLLE1BQU1sRCxFQUFRZ0IsT0FBT0MsTUFBUSxJQUMzQ3lDLEVBQVNiLEtBQUtLLE1BQU1sRCxFQUFRZ0IsT0FBT0csT0FBUyxJQUN2Q25ELEVBQUksRUFBR0EsRUFBSSxHQUFLNkUsS0FBS0ssTUFBc0IsR0FBaEJMLEtBQUtELFVBQWdCNUUsSUFBSyxDQUMxRCxJQUFJMkYsRUFBZVosRUFBaUI1QyxFQUFZeUQsV0FDNUM3QyxFQUFJOEIsS0FBS0ssTUFBTUwsS0FBS0QsU0FBV2EsR0FDL0J2QyxFQUFJMkIsS0FBS0ssTUFBTUwsS0FBS0QsU0FBV2MsR0FDL0J6QyxFQUFRLEVBQ1JFLEVBQVMsRUFDVDBCLEtBQUtLLE1BQXNCLEdBQWhCTCxLQUFLRCxVQUFpQixHQUFNLEVBQ3ZDM0IsRUFBUTRCLEtBQUtLLE1BQU1MLEtBQUtELFVBQVlhLEVBQVMxQyxJQUc3Q0ksRUFBUzBCLEtBQUtLLE1BQU1MLEtBQUtELFVBQVljLEVBQVN4QyxJQUVsRCxJQUFLLElBQUkyQyxFQUFNOUMsRUFBRzhDLEVBQU05QyxFQUFJRSxFQUFPNEMsSUFDL0IsSUFBSyxJQUFJQyxFQUFJNUMsRUFBRzRDLEVBQUk1QyxFQUFJQyxFQUFRMkMsSUFDNUI3RCxFQUFLVSxVQUFVbUMsS0FBSyxJQUFJekMsRUFBVzBELFNBQVMsQ0FDeENoRCxFQUFTLEdBQU44QyxFQUNIM0MsRUFBTyxHQUFKNEMsR0FDSkgsS0FsVGZLLEdBbUJKLFdBQ0ksSUFBSUMsRUFBUUMsS0FBS0MsTUFBTWIsT0FBT2MsYUFBYUMsUUFBUSxVQUMvQ3hELEVBQU8sSUFBSVQsRUFBT1UsS0FBSyxDQUFFQyxFQUFHZixFQUFRZ0IsT0FBT0MsTUFBUSxFQUFHQyxFQUFHbEIsRUFBUWdCLE9BQU9HLFFBQVVoQixFQUFZaUIsVUFBVUMsR0FBSWxCLEVBQVltQixLQUFLQyxhQUNwSCxNQUFUMEMsSUFDQXBELEVBQUt5RCxNQUFRTCxFQUFNSyxNQUNuQnpELEVBQUswRCxNQUFRTixFQUFNTSxNQUNuQjFELEVBQUsyRCxNQUFRUCxFQUFNTyxNQUNuQjNELEVBQUs0RCxNQUFRUixFQUFNUSxNQUNuQjVELEVBQUs2RCxPQUFPRixNQUFRUCxFQUFNUyxPQUFPRixNQUNqQzNELEVBQUs2RCxPQUFPQyxPQUFTVixFQUFNUyxPQUFPQyxRQUV0QzFFLEVBQUtPLE1BQU1nQixRQUFRWCxHQTdCbkIrRCxHQUNBekUsRUFBWTBFLE1BQU1DLE1BQU1DLE9BQU9DLE1BQUssZUFDcEMsU0FBU0MsS0E2QmIsV0FDSSxHQUFJMUUsRUFDQSxPQUNVLElBQVZELEdBQ0l1QyxLQUFLRCxTQUFXLElBQ2hCM0MsRUFBS08sTUFBTXNDLEtBQUssSUFBSTFDLEVBQU9VLEtBQUssQ0FDNUJDLEVBQUc4QixLQUFLRCxTQUFXNUMsRUFBUWdCLE9BQU9DLE1BQ2xDQyxFQUFHLEdBQ0pmLEVBQVlpQixVQUFVZSxLQUFNWSxFQUFpQjVDLEVBQVkrRSxlQUdwRTVFLEdBQVMsRUFDVEEsR0FBUyxHQUtiLFdBQ0ksSUFBSyxJQUFJdEMsRUFBSSxFQUFHQSxFQUFJaUMsRUFBS1EsUUFBUTBFLE9BQVFuSCxJQUNoQ2lDLEVBQUtRLFFBQVF6QyxHQUFHb0gsT0FDakJuRixFQUFLUSxRQUFRNEUsT0FBT3JILEVBQUcsR0FHL0IsSUFBU0EsRUFBSSxFQUFHQSxFQUFJaUMsRUFBS1EsUUFBUTBFLE9BQVFuSCxJQUNyQ2lDLEVBQUtRLFFBQVF6QyxHQUFHc0gsT0FYcEJDLEdBMkhKLFdBQ0ksSUFBSyxJQUFJdkgsRUFBSSxFQUFHQSxFQUFJaUMsRUFBS1UsVUFBVXdFLE9BQVFuSCxJQUNsQ2lDLEVBQUtVLFVBQVUzQyxHQUFHb0gsT0FDbkJuRixFQUFLVSxVQUFVMEUsT0FBT3JILEVBQUcsR0E3SGpDd0gsR0FhSixXQUVJLElBREEsSUFBSUMsR0FBZSxFQUNWekgsRUFBSSxFQUFHQSxFQUFJaUMsRUFBS08sTUFBTTJFLE9BQVFuSCxJQUM5QmlDLEVBQUtPLE1BQU14QyxHQUFHb0gsUUFDZm5GLEVBQUtTLFdBQVdvQyxLQUFLLENBQ2pCSyxXQUFZbEQsRUFBS08sTUFBTXhDLEdBQUdtRixXQUMxQnVDLEtBQU12RixFQUFZd0YsVUFBVUMsaUJBRWhDM0YsRUFBS08sTUFBTTZFLE9BQU9ySCxFQUFHLEdBQ3JCeUgsRUFBb0IsR0FBTHpILEdBR3ZCaUMsRUFBS08sTUFBTSxHQUFHOEUsT0FDZHJGLEVBQUtPLE1BQU0sR0FBR3FGLGdCQUFrQixFQUNoQyxJQUFTN0gsRUFBSSxFQUFHQSxFQUFJaUMsRUFBS08sTUFBTTJFLE9BQVFuSCxJQUNuQ2lDLEVBQUtPLE1BQU14QyxHQUFHc0gsT0FDZHJGLEVBQUtPLE1BQU14QyxHQUFHNkgsZ0JBQWtCLEVBRXBDLEdBQUl2RixFQUFRLEdBQU0sRUFDZCxJQUFTdEMsRUFBSSxFQUFHQSxFQUFJaUMsRUFBS08sTUFBTTJFLE9BQVFuSCxJQUFLLENBQ3hDLElBQUk4SCxFQUFhN0YsRUFBS08sTUFBTSxHQUU1QmlCLEVBRGdCeEIsRUFBS08sTUFBTXhDLEdBQ2I4SCxHQUdsQkwsR0FDQXRGLEVBQVkwRSxNQUFNa0IsVUFBVWhCLE9BQU9DLE1BQUssV0FDcENwRSxPQXZDUm9GLEdBM0NJQyxHQTJLUixXQUNJakcsRUFBUWtHLFVBQVUsRUFBRyxFQUFHbEcsRUFBUWdCLE9BQU9DLE1BQU9qQixFQUFRZ0IsT0FBT0csUUFDN0QsSUFBSWdGLEVBQVVsRyxFQUFLTyxNQUVuQjJGLEdBREFBLEVBQVVBLEVBQVFsRCxPQUFPaEQsRUFBS1EsVUFDWndDLE9BQU9oRCxFQUFLVSxXQUM5QixJQUFLLElBQUkzQyxFQUFJLEVBQUdBLEVBQUltSSxFQUFRaEIsT0FBUW5ILElBQ2hDbUksRUFBUW5JLEdBQUdvSSxPQUVmLElBQVNwSSxFQUFJLEVBQUdBLEVBQUlpQyxFQUFLUyxXQUFXeUUsT0FBUW5ILElBQUssQ0FDN0MsSUFBSXFJLEVBQVlwRyxFQUFLUyxXQUFXMUMsR0FDNUJxSSxFQUFVWCxPQUFTdkYsRUFBWXdGLFVBQVVDLGVBQ3pDNUYsRUFBUXNHLFVBQVVuRyxFQUFZb0csTUFBTyxJQUFLLEVBQUcsR0FBSSxHQUFJRixFQUFVbEQsV0FBV3BDLEVBQUksR0FBSXNGLEVBQVVsRCxXQUFXakMsRUFBSSxHQUFJLEdBQUksSUFFOUdtRixFQUFVWCxPQUFTdkYsRUFBWXdGLFVBQVVhLGtCQUM5Q3hHLEVBQVFzRyxVQUFVbkcsRUFBWW9HLE1BQU8sSUFBSyxFQUFHLEdBQUksR0FBSUYsRUFBVWxELFdBQVdwQyxFQUFJLEdBQUlzRixFQUFVbEQsV0FBV2pDLEVBQUksR0FBSSxHQUFJLEtBTS9ILFdBQ0lsQixFQUFReUcsS0FBTyxpQkFDZnpHLEVBQVEwRyxVQUFZLFFBQ3BCLElBQUlDLEVBQVMxRyxFQUFLTyxNQUFNLEdBQ3hCUixFQUFRNEcsU0FBUyxVQUFZRCxFQUFPckMsTUFBTXVDLFFBQVEsR0FBSyxXQUFhRixFQUFPcEMsTUFBTXNDLFFBQVEsR0FBSSxHQUFJLElBQ2pHN0csRUFBUTRHLFNBQVMsVUFBWUQsRUFBT25DLE1BQU1xQyxRQUFRLEdBQUssV0FBYUYsRUFBT2xDLE1BQU8sR0FBSSxJQUN0RnpFLEVBQVE0RyxTQUFTLG1CQUFxQkQsRUFBT0csY0FBZSxHQUFJLElBQ2hFOUcsRUFBUTRHLFNBQVMsa0JBQW9CRCxFQUFPakMsT0FBT0MsT0FBT2tDLFFBQVEsR0FBSyxrQkFBb0JGLEVBQU9qQyxPQUFPRixNQUFNcUMsUUFBUSxHQUFJLEdBQUksS0FWL0hFLEdBQ0E5RyxFQUFLUyxXQUFhLEdBNUxkMEYsR0FZSjlDLE9BQU9jLGFBQWE0QyxRQUFRLFFBQVM5QyxLQUFLK0MsVUFBVWhILEVBQUtPLE1BQU0sS0FWM0QwRyxzQkFBc0JqQyxHQUUxQkEsSUFtTUosSUFBSWtDLEdBQVcsRUFDWEMsR0FBVyxFQUNYQyxHQUFXLEVBQ1hDLEdBQVcsRUE0RWYsU0FBU3ZFLEVBQWlCd0UsR0FDdEIsT0FBT0EsRUFBTTFFLEtBQUtLLE1BQU1MLEtBQUtELFNBQVcyRSxFQUFNcEMsU0E1RWxEcUMsU0FBU0MsVUFBWSxTQUFVQyxHQUMzQixJQUNJLE9BQVFBLEVBQUVDLE1BQ04sSUFBSyxPQUNEUixHQUFXLEVBQ1hsSCxFQUFLTyxNQUFNLEdBQUd3QixRQUFTLEVBQ3ZCL0IsRUFBS08sTUFBTSxHQUFHeUIsVUFBWTlCLEVBQVlpQixVQUFVaUIsS0FDaEQsTUFDSixJQUFLLE9BQ0QrRSxHQUFXLEVBQ1huSCxFQUFLTyxNQUFNLEdBQUd3QixRQUFTLEVBQ3ZCL0IsRUFBS08sTUFBTSxHQUFHeUIsVUFBWTlCLEVBQVlpQixVQUFVbUIsTUFDaEQsTUFDSixJQUFLLE9BQ0Q4RSxHQUFXLEVBQ1hwSCxFQUFLTyxNQUFNLEdBQUd3QixRQUFTLEVBQ3ZCL0IsRUFBS08sTUFBTSxHQUFHeUIsVUFBWTlCLEVBQVlpQixVQUFVQyxHQUNoRCxNQUNKLElBQUssT0FDRGlHLEdBQVcsRUFDWHJILEVBQUtPLE1BQU0sR0FBR3dCLFFBQVMsRUFDdkIvQixFQUFLTyxNQUFNLEdBQUd5QixVQUFZOUIsRUFBWWlCLFVBQVVlLEtBQ2hELE1BQ0osSUFBSyxPQUNENUIsR0FBVUEsRUFDVkosRUFBWTBFLE1BQU0rQyxNQUFNN0MsT0FBT0MsTUFBSyxlQUNwQyxNQUNKLElBQUssUUFDRC9FLEVBQUtPLE1BQU0sR0FBR2tDLFFBQ2QsTUFDSixJQUFLLE1BR0wsSUFBSyxPQUNEbUYsU0FBU0MsU0FDVCxNQUNKLElBQUssT0FDRGxILEtBTVosTUFBTzhHLEdBQ0hLLFFBQVFDLElBQUlOLEVBQUVPLGNBR3RCVCxTQUFTVSxZQUFjLFNBQVVSLEdBQ2IsR0FBWkEsRUFBRVMsUUFDRmxJLEVBQUtPLE1BQU0sR0FBR2tDLFNBR3RCOEUsU0FBU1ksUUFBVSxTQUFVVixHQUN6QixPQUFRQSxFQUFFQyxNQUNOLElBQUssT0FDRFIsR0FBVyxFQUNYLE1BQ0osSUFBSyxPQUNEQyxHQUFXLEVBQ1gsTUFDSixJQUFLLE9BQ0RDLEdBQVcsRUFDWCxNQUNKLElBQUssT0FDREMsR0FBVyxFQUNYLE1BQ0osSUFBSyxPQUNEckgsRUFBS1UsVUFBWSxHQUtwQjJHLEdBQWFELEdBQWFELEdBQWFELElBQ3hDbEgsRUFBS08sTUFBTSxHQUFHd0IsUUFBUyxJQThCL0IsSUFBSXFHLEVBQWMsRUFDZEMsRUFBYyxFQUNsQmQsU0FBU2UsYUFBZSxTQUFVYixHQUM5QkssUUFBUUMsSUFBSSxVQUFXTixFQUFFYyxRQUFRLEdBQUdDLE1BQU9mLEVBQUVjLFFBQVEsR0FBR0UsT0FDeERMLEVBQWNYLEVBQUVjLFFBQVEsR0FBR0MsTUFDM0JILEVBQWNaLEVBQUVjLFFBQVEsR0FBR0UsTUFDdkJ6SSxFQUFLTyxNQUFNLEtBQ1hQLEVBQUtPLE1BQU0sR0FBR3dCLFFBQVMsRUFDdkIvQixFQUFLTyxNQUFNLEdBQUdrQyxVQUd0QjhFLFNBQVNtQixXQUFhLFNBQVVqQixHQUM1QkssUUFBUUMsSUFBSSxRQUFTTixHQUNyQixJQUFJa0IsRUFBaUJsQixFQUFFbUIsZUFBZSxHQUFHSixNQUNyQ0ssRUFBaUJwQixFQUFFbUIsZUFBZSxHQUFHSCxNQUNyQzdGLEtBQUtrRyxJQUFJSCxFQUFpQlAsR0FDMUJ4RixLQUFLa0csSUFBSUQsRUFBaUJSLEdBRXRCckksRUFBS08sTUFBTSxHQUFHeUIsVUFEZDJHLEVBQWlCUCxFQUNTbEksRUFBWWlCLFVBQVVtQixNQUd0QnBDLEVBQVlpQixVQUFVaUIsS0FLaERwQyxFQUFLTyxNQUFNLEdBQUd5QixVQURkNkcsRUFBaUJSLEVBQ1NuSSxFQUFZaUIsVUFBVWUsS0FHdEJoQyxFQUFZaUIsVUFBVUMsSyw2QkN0VzVELElBQUlDLEVBRko1QyxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sSUFDdERuQixFQUFReUksTUFBUXpJLEVBQVFzRixPQUFTdEYsRUFBUStHLE1BQVEvRyxFQUFRa0YsUUFBVWxGLEVBQVFnRSxPQUFTaEUsRUFBUThGLFVBQVk5RixFQUFRa0wsU0FBV2xMLEVBQVE2SCxVQUFZN0gsRUFBUXNELFVBQVl0RCxFQUFRb0gsWUFBY3BILEVBQVF3RCxVQUFPLEVBRXhNLFNBQVdBLEdBQ1BBLEVBQUtBLEVBQWtCLFlBQUksR0FBSyxjQUNoQ0EsRUFBS0EsRUFBa0IsWUFBSSxHQUFLLGNBQ2hDQSxFQUFLQSxFQUFpQixXQUFJLEdBQUssYUFDL0JBLEVBQUtBLEVBQWlCLFdBQUksR0FBSyxhQUpuQyxDQUtHQSxJQUFTQSxFQUFPLEtBQ25CeEQsRUFBUXdELEtBQU9BLEVBQ2YsSUFFSUYsRUFRQXVFLEVBTUFxRCxFQWhCQTlELEVBQWMsQ0FBQzVELEVBQUsySCxZQUFhM0gsRUFBSzRILFdBQVk1SCxFQUFLNkgsWUFDM0RyTCxFQUFRb0gsWUFBY0EsRUFFdEIsU0FBVzlELEdBQ1BBLEVBQVVBLEVBQWMsR0FBSSxHQUFLLEtBQ2pDQSxFQUFVQSxFQUFnQixLQUFJLEdBQUssT0FDbkNBLEVBQVVBLEVBQWdCLEtBQUksR0FBSyxPQUNuQ0EsRUFBVUEsRUFBaUIsTUFBSSxHQUFLLFFBSnhDLENBS0dBLElBQWNBLEVBQVksS0FDN0J0RCxFQUFRc0QsVUFBWUEsRUFFcEIsU0FBV3VFLEdBQ1BBLEVBQVVBLEVBQTBCLGVBQUksR0FBSyxpQkFDN0NBLEVBQVVBLEVBQTRCLGlCQUFJLEdBQUssbUJBRm5ELENBR0dBLElBQWNBLEVBQVksS0FDN0I3SCxFQUFRNkgsVUFBWUEsRUFFcEIsU0FBV3FELEdBQ1BBLEVBQVNBLEVBQWdCLE1BQUksR0FBSyxRQUNsQ0EsRUFBU0EsRUFBaUIsT0FBSSxHQUFLLFNBQ25DQSxFQUFTQSxFQUFlLEtBQUksR0FBSyxPQUNqQ0EsRUFBU0EsRUFBZ0IsTUFBSSxHQUFLLFFBQ2xDQSxFQUFTQSxFQUFlLEtBQUksR0FBSyxPQUxyQyxDQU1HQSxJQUFhQSxFQUFXLEtBQzNCbEwsRUFBUWtMLFNBQVdBLEVBQ25CLElBT0lsSCxFQVBBOEIsRUFBWSxDQUNab0YsRUFBU0ksTUFDVEosRUFBU0ssT0FDVEwsRUFBU00sS0FDVE4sRUFBU08sT0FFYnpMLEVBQVE4RixVQUFZQSxFQUVwQixTQUFXOUIsR0FDUEEsRUFBT0EsRUFBZ0IsUUFBSSxHQUFLLFVBQ2hDQSxFQUFPQSxFQUFrQixVQUFJLEdBQUssWUFDbENBLEVBQU9BLEVBQWtCLFVBQUksR0FBSyxZQUNsQ0EsRUFBT0EsRUFBbUIsV0FBSSxHQUFLLGFBQ25DQSxFQUFPQSxFQUFhLEtBQUksR0FBSyxPQUM3QkEsRUFBT0EsRUFBYyxNQUFJLEdBQUssUUFDOUJBLEVBQU9BLEVBQW1CLFdBQUksR0FBSyxhQVB2QyxDQVFHQSxJQUFXQSxFQUFTLEtBQ3ZCaEUsRUFBUWdFLE9BQVNBLEVBQ2pCLElBQUlrQixFQUFVLENBQ1ZsQixFQUFPQyxRQUNQRCxFQUFPSSxVQUNQSixFQUFPTSxVQUNQTixFQUFPUSxXQUNQUixFQUFPVSxLQUNQVixFQUFPVyxNQUNQWCxFQUFPYSxZQUVYN0UsRUFBUWtGLFFBQVVBLEVBQ2xCLElBZ0JJNkIsRUFBUSxJQWZSLFdBQ0kyRSxLQUFLMUUsTUFBUTBDLFNBQVNpQyxlQUFlLFNBQ3JDRCxLQUFLRSxRQUFVbEMsU0FBU2lDLGVBQWUsV0FDdkNELEtBQUs5RyxNQUFROEUsU0FBU2lDLGVBQWUsU0FDckNELEtBQUtuRCxVQUFZbUIsU0FBU2lDLGVBQWUsYUFDekNELEtBQUs1QixNQUFRSixTQUFTaUMsZUFBZSxTQUNyQ0QsS0FBS0csS0FBT25DLFNBQVNpQyxlQUFlLFFBQ3BDRCxLQUFLSSxTQUFXcEMsU0FBU2lDLGVBQWUsWUFDeENELEtBQUtLLEtBQU9yQyxTQUFTaUMsZUFBZSxRQUNwQ0QsS0FBS2xFLEtBQU9rQyxTQUFTaUMsZUFBZSxRQUNwQ0QsS0FBS00sSUFBTXRDLFNBQVNpQyxlQUFlLE9BQ25DRCxLQUFLekQsVUFBWXlCLFNBQVNpQyxlQUFlLGNBS2pEM0wsRUFBUStHLE1BQVFBLEVBQ2hCLElBQUl6QixFQUFTb0UsU0FBU2lDLGVBQWUsVUFDckMzTCxFQUFRc0YsT0FBU0EsRUFDakIsSUFBSW1ELEVBQVFpQixTQUFTaUMsZUFBZSxXQUNwQzNMLEVBQVF5SSxNQUFRQSxHLDZCQ3BGaEI3SCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sSUFDdERuQixFQUFRZ0QsVUFBTyxFQUNmLElBQUlYLEVBQWMsRUFBUSxHQUN0QjRKLEVBQVUsRUFBUSxHQUNsQkMsRUFBVyxFQUFRLEdBQ25CbEosRUFBc0IsV0FDdEIsU0FBU0EsRUFBS3FDLEVBQVlsQixFQUFXeUQsR0FxQmpDLE9BcEJBOEQsS0FBS3JHLFdBQWFBLEVBQ2xCcUcsS0FBS3ZILFVBQVlBLEVBQ2pCdUgsS0FBSzNELGVBQWlCLEVBQ3RCMkQsS0FBSzlELEtBQU9BLEVBQ1o4RCxLQUFLUyxPQUFTLEdBQ2RULEtBQUsxQyxjQUFnQixHQUNyQjBDLEtBQUtwRSxPQUFRLEVBQ2JvRSxLQUFLeEgsUUFBUyxFQUNkd0gsS0FBS1UsYUFBYyxFQUNuQlYsS0FBS1csZUFBZ0IsRUFDckJYLEtBQUs1SCxXQUFhLEdBQ2xCNEgsS0FBSzlFLE9BQVMsQ0FDVkMsT0FBUSxFQUNSSCxNQUFPLElBRVhnRixLQUFLbEYsTUFBUSxHQUNia0YsS0FBS2pGLE1BQVEsR0FDYmlGLEtBQUtoRixNQUFRLElBQ2JnRixLQUFLWSxlQUFpQixHQUN0QlosS0FBSy9FLE1BQVEsRUFDTCtFLEtBQUs5RCxNQUNULEtBQUt2RixFQUFZbUIsS0FBS0MsWUFDbEJpSSxLQUFLbEYsTUFBUSxHQUNia0YsS0FBS2pGLE1BQVEsR0FDYmlGLEtBQUtoRixNQUFRLEVBQ2JnRixLQUFLWSxlQUFpQixHQUN0QlosS0FBSzlFLE9BQU9DLE9BQVMsRUFDckI2RSxLQUFLOUUsT0FBT0YsTUFBUSxHQUNwQixNQUNKLEtBQUtyRSxFQUFZbUIsS0FBSzJILFlBQ2xCTyxLQUFLbEYsTUFBUSxHQUNia0YsS0FBS2pGLE1BQVEsR0FDYmlGLEtBQUtoRixNQUFRLElBQ2JnRixLQUFLWSxlQUFpQixHQUN0QlosS0FBSzlFLE9BQU9DLE9BQVMsRUFDckI2RSxLQUFLOUUsT0FBT0YsTUFBUSxHQUNwQixNQUNKLEtBQUtyRSxFQUFZbUIsS0FBSzRILFdBQ2xCTSxLQUFLbEYsTUFBUSxFQUNia0YsS0FBS2pGLE1BQVEsR0FDYmlGLEtBQUtoRixNQUFRLElBQ2JnRixLQUFLWSxlQUFpQixHQUN0QlosS0FBSzlFLE9BQU9DLE9BQVMsRUFDckI2RSxLQUFLOUUsT0FBT0YsTUFBUSxHQUNwQixNQUNKLEtBQUtyRSxFQUFZbUIsS0FBSzZILFdBQ2xCSyxLQUFLbEYsTUFBUSxHQUNia0YsS0FBS2pGLE1BQVEsR0FDYmlGLEtBQUtoRixNQUFRLEdBQ2JnRixLQUFLWSxlQUFpQixHQUN0QlosS0FBSzlFLE9BQU9DLE9BQVMsR0FDckI2RSxLQUFLOUUsT0FBT0YsTUFBUSxFQUNwQixNQUNKLFFBQ0l1RCxRQUFRc0MsTUFBTSx5QkFBMkJiLEtBQUs5RCxPQTJHMUQsT0F2R0E1RSxFQUFLbEIsVUFBVTBLLFFBQVUsV0FDckJkLEtBQUsvRSxRQUNMK0UsS0FBS2xGLE1BQVF6QixLQUFLMEgsSUFBSSxHQUFJZixLQUFLbEYsTUFBUSxHQUN2Q2tGLEtBQUtoRixNQUFRM0IsS0FBSzBILElBQUksR0FBSWYsS0FBS2hGLE1BQVEsSUFDdkNnRixLQUFLakYsTUFBUTFCLEtBQUswSCxJQUFJLEdBQUtmLEtBQUtqRixNQUFRLEtBQ3hDaUYsS0FBSzlFLE9BQU9GLE1BQVEzQixLQUFLMEgsSUFBSSxHQUFJZixLQUFLOUUsT0FBT0YsTUFBUSxJQUNyRGdGLEtBQUs5RSxPQUFPQyxPQUFTOUIsS0FBSzBILElBQUksR0FBSWYsS0FBSzlFLE9BQU9DLE9BQVMsSUFDdkQ2RSxLQUFLMUMsY0FBZ0JqRSxLQUFLMkgsSUFBSSxHQUFJaEIsS0FBSzFDLGNBQWdCLElBRTNEaEcsRUFBS2xCLFVBQVU2SyxXQUFhLFNBQVUvRixFQUFRZ0csR0FDMUNsQixLQUFLbEYsT0FBU3pCLEtBQUsySCxJQUFJLEVBQUc5RixFQUFPQyxRQUFVLEVBQUk2RSxLQUFLakYsUUFDaERpRixLQUFLbEYsT0FBUyxJQUNka0YsS0FBS2xGLE1BQVEsRUFDYmtGLEtBQUtwRSxPQUFRLEVBQ2JqRixFQUFZMEUsTUFBTXdCLFVBQVV0QixPQUFPQyxNQUFLLGVBQ3hDMEYsRUFBU0osWUFHakJ4SixFQUFLbEIsVUFBVTBGLEtBQU8sV0FDbEIsR0FBSWtFLEtBQUt4SCxPQUFRLENBQ2IsSUFDSTJJLEVBQVlaLEVBQVE5SixLQUFLTyxNQUM3Qm1LLEVBQVlBLEVBQVUxSCxPQUFPOEcsRUFBUTlKLEtBQUtVLFdBQzFDLElBQUlpSyxFQUFTLEVBQ1RDLEVBQVMsRUFDYixPQUFRckIsS0FBS3ZILFdBQ1QsS0FBSzlCLEVBQVlpQixVQUFVQyxHQUN2QndKLEdBQVVyQixLQUFLaEYsTUFDZixNQUNKLEtBQUtyRSxFQUFZaUIsVUFBVWUsS0FDdkIwSSxFQUFTckIsS0FBS2hGLE1BQ2QsTUFDSixLQUFLckUsRUFBWWlCLFVBQVVpQixLQUN2QnVJLEdBQVVwQixLQUFLaEYsTUFDZixNQUNKLEtBQUtyRSxFQUFZaUIsVUFBVW1CLE1BQ3ZCcUksRUFBU3BCLEtBQUtoRixNQUt0QmdGLEtBQUtyRyxXQUFXcEMsR0FBSzZKLEVBQ3JCcEIsS0FBS3JHLFdBQVdqQyxHQUFLMkosRUFDckIsSUFBSyxJQUFJN00sRUFBSSxFQUFHQSxFQUFJMk0sRUFBVXhGLE9BQVFuSCxJQUNsQyxJQUFJMk0sRUFBVTNNLEdBQUdrTSxhQUdickgsS0FBS2tHLElBQUlTLEtBQUtyRyxXQUFXakMsRUFBSXlKLEVBQVUzTSxHQUFHbUYsV0FBV2pDLEdBQ3JEc0ksS0FBS1MsT0FBU1UsRUFBVTNNLEdBQUdpTSxRQUMzQlQsS0FBS3JHLGFBQWV3SCxFQUFVM00sR0FBR21GLFlBQ2pDTixLQUFLa0csSUFBSVMsS0FBS3JHLFdBQVdwQyxFQUFJNEosRUFBVTNNLEdBQUdtRixXQUFXcEMsR0FDakR5SSxLQUFLUyxPQUFTVSxFQUFVM00sR0FBR2lNLE9BQVEsRUFDekIsRUFDZFQsS0FBS3JHLFdBQVdwQyxHQUFLNkosRUFDckJwQixLQUFLckcsV0FBV2pDLEdBQUsySixFQUNyQixNQUdSckIsS0FBS3JHLFdBQWFyQyxFQUFLZ0ssTUFBTXRCLEtBQUtyRyxXQUFZcUcsS0FBS1MsVUFHM0RuSixFQUFLZ0ssTUFBUSxTQUFVM0gsRUFBWThHLEdBYS9CLE9BWkk5RyxFQUFXcEMsRUFBSWtKLEVBQ2Y5RyxFQUFXcEMsRUFBSWtKLEVBRVY5RyxFQUFXcEMsRUFBSWtKLEVBQVNGLEVBQVEvSixRQUFRZ0IsT0FBT0MsUUFDcERrQyxFQUFXcEMsRUFBSWdKLEVBQVEvSixRQUFRZ0IsT0FBT0MsTUFBUWdKLEdBRTlDOUcsRUFBV2pDLEVBQUkrSSxFQUNmOUcsRUFBV2pDLEVBQUkrSSxFQUVWOUcsRUFBV2pDLEVBQUkrSSxFQUFTRixFQUFRL0osUUFBUWdCLE9BQU9HLFNBQ3BEZ0MsRUFBV2pDLEVBQUk2SSxFQUFRL0osUUFBUWdCLE9BQU9HLE9BQVM4SSxHQUU1QzlHLEdBRVhyQyxFQUFLbEIsVUFBVThDLE1BQVEsV0FDZjhHLEtBQUszRCxnQkFBa0IyRCxLQUFLMUMsZ0JBQzVCaUQsRUFBUTlKLEtBQUtRLFFBQVFxQyxLQUFLLElBQUlrSCxFQUFTZSxPQUFPdkIsS0FBS3JHLFdBQVlxRyxLQUFLdkgsVUFBV3VILEtBQUs5RSxPQUFPQyxPQUFRNkUsS0FBSzlFLE9BQU9GLE1BQU9nRixPQUN0SEEsS0FBSzNELGVBQWlCLEVBQ2xCMkQsS0FBSzlELE9BQVN2RixFQUFZbUIsS0FBS0MsYUFDL0JwQixFQUFZMEUsTUFBTW5DLE1BQU1xQyxPQUFPQyxNQUFLLGlCQUloRGxFLEVBQUtsQixVQUFVd0csS0FBTyxXQUNsQixPQUFRb0QsS0FBSzlELE1BQ1QsS0FBS3ZGLEVBQVltQixLQUFLQyxZQUNsQndJLEVBQVEvSixRQUFRc0csVUFBVW5HLEVBQVlvRyxNQUFPLEdBQUtpRCxLQUFLdkgsVUFBVyxFQUFHLEdBQUksR0FBSXVILEtBQUtyRyxXQUFXcEMsRUFBSSxHQUFJeUksS0FBS3JHLFdBQVdqQyxFQUFJLEdBQUksR0FBSSxJQUNqSSxNQUNKLEtBQUtmLEVBQVltQixLQUFLMkgsWUFDbEJjLEVBQVEvSixRQUFRc0csVUFBVW5HLEVBQVlvRyxNQUFPLEdBQUtpRCxLQUFLdkgsVUFBVyxHQUFJLEdBQUksR0FBSXVILEtBQUtyRyxXQUFXcEMsRUFBSSxHQUFJeUksS0FBS3JHLFdBQVdqQyxFQUFJLEdBQUksR0FBSSxJQUNsSSxNQUNKLEtBQUtmLEVBQVltQixLQUFLNEgsV0FDbEJhLEVBQVEvSixRQUFRc0csVUFBVW5HLEVBQVlvRyxNQUFPLElBQU0sRUFBSWlELEtBQUt2SCxXQUFZLEdBQUksR0FBSSxHQUFJdUgsS0FBS3JHLFdBQVdwQyxFQUFJLEdBQUl5SSxLQUFLckcsV0FBV2pDLEVBQUksR0FBSSxHQUFJLElBQ3hJLE1BQ0osS0FBS2YsRUFBWW1CLEtBQUs2SCxXQUNsQlksRUFBUS9KLFFBQVFzRyxVQUFVbkcsRUFBWW9HLE1BQU8sSUFBTSxFQUFJaUQsS0FBS3ZILFdBQVksR0FBUSxHQUFJLEdBQUl1SCxLQUFLckcsV0FBV3BDLEVBQUksR0FBSXlJLEtBQUtyRyxXQUFXakMsRUFBSSxHQUFJLEdBQUksTUFNakpKLEVBbktjLEdBcUt6QmhELEVBQVFnRCxLQUFPQSxHLDZCQzFLZnBDLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxJQUN0RG5CLEVBQVFpTixZQUFTLEVBQ2pCLElBQUk1SyxFQUFjLEVBQVEsR0FDdEI0SixFQUFVLEVBQVEsR0FDbEIzSixFQUFTLEVBQVEsR0FDakIySyxFQUF3QixXQUN4QixTQUFTQSxFQUFPNUgsRUFBWWxCLEVBQVcwQyxFQUFRSCxFQUFPd0csR0FDbER4QixLQUFLdkgsVUFBWUEsRUFDakJ1SCxLQUFLd0IsUUFBVUEsRUFDZixJQUFJQyxFQUFVLEVBQ1ZDLEVBQVUsRUFDZCxPQUFRMUIsS0FBS3ZILFdBQ1QsS0FBSzlCLEVBQVlpQixVQUFVQyxHQUN2QjZKLEdBQVcsR0FDWCxNQUNKLEtBQUsvSyxFQUFZaUIsVUFBVWUsS0FDdkIrSSxFQUFVLEdBQ1YsTUFDSixLQUFLL0ssRUFBWWlCLFVBQVVpQixLQUN2QjRJLEdBQVcsR0FDWCxNQUNKLEtBQUs5SyxFQUFZaUIsVUFBVW1CLE1BQ3ZCMEksRUFBVSxHQUtsQnpCLEtBQUtyRyxXQUFhLENBQ2RwQyxFQUFHb0MsRUFBV3BDLEVBQUlrSyxFQUNsQi9KLEVBQUdpQyxFQUFXakMsRUFBSWdLLEdBRXRCMUIsS0FBSzdFLE9BQVNBLEVBQ2Q2RSxLQUFLcEUsT0FBUSxFQUNib0UsS0FBS2hGLE1BQVFBLEVBQ2JnRixLQUFLUyxPQUFTLEVBeUZsQixPQXZGQWMsRUFBT25MLFVBQVU2SyxXQUFhLFNBQVVVLEVBQU9ULEdBQzNDLE1BQU0sSUFBSVUsTUFBTSw0QkFFcEJMLEVBQU9uTCxVQUFVMEYsS0FBTyxXQUNwQixHQUFJa0UsS0FBS3BFLE1BQ0wsT0FBUW9FLEtBQUt2SCxXQUNULEtBQUs5QixFQUFZaUIsVUFBVUMsR0FDbkJtSSxLQUFLckcsV0FBV2pDLEVBQUlzSSxLQUFLaEYsT0FBUyxHQUNsQ2dGLEtBQUtyRyxXQUFXakMsRUFBSSxFQUNwQnNJLEtBQUtuRCxhQUdMbUQsS0FBSzZCLG9CQUVUN0IsS0FBS3JHLFdBQVdqQyxHQUFLc0ksS0FBS2hGLE1BQzFCLE1BQ0osS0FBS3JFLEVBQVlpQixVQUFVZSxLQUNuQnFILEtBQUtyRyxXQUFXakMsRUFBSXNJLEtBQUtoRixPQUFTdUYsRUFBUS9KLFFBQVFnQixPQUFPRyxRQUN6RHFJLEtBQUtyRyxXQUFXakMsRUFBSTZJLEVBQVEvSixRQUFRZ0IsT0FBT0csT0FDM0NxSSxLQUFLbkQsYUFHTG1ELEtBQUs2QixvQkFFVDdCLEtBQUtyRyxXQUFXakMsR0FBS3NJLEtBQUtoRixNQUMxQixNQUNKLEtBQUtyRSxFQUFZaUIsVUFBVWlCLEtBQ25CbUgsS0FBS3JHLFdBQVdwQyxFQUFJeUksS0FBS2hGLE9BQVMsR0FDbENnRixLQUFLckcsV0FBV3BDLEVBQUksRUFDcEJ5SSxLQUFLbkQsYUFHTG1ELEtBQUs2QixvQkFFVDdCLEtBQUtyRyxXQUFXcEMsR0FBS3lJLEtBQUtoRixNQUMxQixNQUNKLEtBQUtyRSxFQUFZaUIsVUFBVW1CLE1BQ25CaUgsS0FBS3JHLFdBQVdwQyxFQUFJeUksS0FBS2hGLE9BQVN1RixFQUFRL0osUUFBUWdCLE9BQU9DLE9BQ3pEdUksS0FBS3JHLFdBQVdwQyxFQUFJZ0osRUFBUS9KLFFBQVFnQixPQUFPQyxNQUMzQ3VJLEtBQUtuRCxhQUdMbUQsS0FBSzZCLG9CQUVUN0IsS0FBS3JHLFdBQVdwQyxHQUFLeUksS0FBS2hGLE1BQzFCLE1BQ0osUUFDSXVELFFBQVFzQyxNQUFNLDBCQUs5QlUsRUFBT25MLFVBQVV5RyxVQUFZLFdBQ3pCbUQsS0FBS3BFLE9BQVEsRUFDYjJFLEVBQVE5SixLQUFLUyxXQUFXb0MsS0FBSyxDQUN6QkssV0FBWXFHLEtBQUtyRyxXQUNqQnVDLEtBQU12RixFQUFZd0YsVUFBVWEsb0JBR3BDdUUsRUFBT25MLFVBQVV5TCxrQkFBb0IsV0FDakMsSUFBSVYsRUFBWVosRUFBUTlKLEtBQUtPLE1BQzdCbUssRUFBWUEsRUFBVTFILE9BQU84RyxFQUFROUosS0FBS1UsV0FDMUMsSUFBSyxJQUFJM0MsRUFBSSxFQUFHQSxFQUFJMk0sRUFBVXhGLE9BQVFuSCxJQUNsQyxJQUFJMk0sRUFBVTNNLEdBQUdtTSxlQUdiWSxFQUFPTyxNQUFNOUIsS0FBS3JHLFdBQVl3SCxFQUFVM00sR0FBR21GLFdBQVl3SCxFQUFVM00sR0FBR2lNLFFBQVMsQ0FDN0VULEtBQUtuRCxZQUNMc0UsRUFBVTNNLEdBQUd5TSxXQUFXakIsS0FBTUEsS0FBS3dCLFNBQy9CeEIsS0FBS3dCLFFBQVF0RixNQUFRdkYsRUFBWW1CLEtBQUtDLGFBQ3RDb0osRUFBVTNNLGFBQWNvQyxFQUFPVSxNQUMvQlgsRUFBWTBFLE1BQU1pRixJQUFJL0UsT0FBT0MsTUFBSyxlQUV0QyxRQUlaK0YsRUFBT25MLFVBQVV3RyxLQUFPLFdBQ3BCMkQsRUFBUS9KLFFBQVFzRyxVQUFVbkcsRUFBWW9HLE1BQU8sRUFBSWlELEtBQUt2SCxVQUFZLEdBQUksR0FBSSxFQUFHLEVBQUd1SCxLQUFLckcsV0FBV3BDLEVBQUksRUFBR3lJLEtBQUtyRyxXQUFXakMsRUFBSSxFQUFHLEVBQUcsSUFFckk2SixFQUFPTyxNQUFRLFNBQVVDLEVBQWtCQyxFQUFrQkMsR0FDekQsT0FBUUYsRUFBaUJ4SyxHQUFLeUssRUFBaUJ6SyxFQUFJMEssR0FDL0NGLEVBQWlCeEssR0FBS3lLLEVBQWlCekssRUFBSTBLLEdBQzNDRixFQUFpQnJLLEdBQUtzSyxFQUFpQnRLLEVBQUl1SyxHQUMzQ0YsRUFBaUJySyxHQUFLc0ssRUFBaUJ0SyxFQUFJdUssR0FFbkRWLEVBQU9uTCxVQUFVMEssUUFBVSxhQUNwQlMsRUF0SGdCLEdBd0gzQmpOLEVBQVFpTixPQUFTQSxHLDZCQzdIakJyTSxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sSUFDdERuQixFQUFRaUcsY0FBVyxFQUNuQixJQUFJNUQsRUFBYyxFQUFRLEdBQ3RCNEosRUFBVSxFQUFRLEdBQ2xCaEcsRUFBMEIsV0FDMUIsU0FBU0EsRUFBU1osRUFBWXVDLEdBSzFCLE9BSkE4RCxLQUFLckcsV0FBYUEsRUFDbEJxRyxLQUFLcEUsT0FBUSxFQUNib0UsS0FBSzlELEtBQU9BLEVBQ1o4RCxLQUFLUyxPQUFTLEVBQ05ULEtBQUs5RCxNQUNULEtBQUt2RixFQUFZNkksU0FBU0ksTUFDdEJJLEtBQUtrQyxhQUFlLEdBQ3BCbEMsS0FBS1UsYUFBYyxFQUNuQlYsS0FBS1csZUFBZ0IsRUFDckIsTUFDSixLQUFLaEssRUFBWTZJLFNBQVNLLE9BQ3RCRyxLQUFLa0MsYUFBZSxHQUNwQmxDLEtBQUtVLGFBQWMsRUFDbkJWLEtBQUtXLGVBQWdCLEVBQ3JCLE1BQ0osS0FBS2hLLEVBQVk2SSxTQUFTTSxLQUN0QkUsS0FBS2tDLGFBQWUsSUFDcEJsQyxLQUFLVSxhQUFjLEVBQ25CVixLQUFLVyxlQUFnQixFQUNyQixNQUNKLEtBQUtoSyxFQUFZNkksU0FBU08sTUFDdEJDLEtBQUtrQyxhQUFlLElBQ3BCbEMsS0FBS1UsYUFBYyxFQUNuQlYsS0FBS1csZUFBZ0IsRUFDckIsTUFDSixRQUNJWCxLQUFLa0MsYUFBZSxJQUNwQmxDLEtBQUtVLGFBQWMsRUFDbkJWLEtBQUtXLGVBQWdCLEdBZWpDLE9BWEFwRyxFQUFTbkUsVUFBVTZLLFdBQWEsU0FBVS9GLEVBQVFnRyxHQUMxQ2hHLEVBQU9DLFFBQVU2RSxLQUFLa0MsZUFDdEJsQyxLQUFLcEUsT0FBUSxJQUdyQnJCLEVBQVNuRSxVQUFVd0csS0FBTyxXQUNsQm9ELEtBQUtwRSxPQUNMMkUsRUFBUS9KLFFBQVFzRyxVQUFVbkcsRUFBWW9HLE1BQU8sR0FBS2lELEtBQUs5RCxLQUFNLEdBQUksR0FBSSxHQUFJOEQsS0FBS3JHLFdBQVdwQyxFQUFJLEVBQUd5SSxLQUFLckcsV0FBV2pDLEVBQUksRUFBRyxHQUFJLEtBR25JNkMsRUFBU25FLFVBQVUwSyxRQUFVLGFBQ3RCdkcsRUE3Q2tCLEdBK0M3QmpHLEVBQVFpRyxTQUFXQSIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQ09OVEVYVCA9IGV4cG9ydHMuR0FNRSA9IGV4cG9ydHMubWFpbiA9IHZvaWQgMDtcbnZhciBDb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL0NvbnN0YW50c1wiKTtcbnZhciBUYW5rXzEgPSByZXF1aXJlKFwiLi9tb2RlbHMvVGFua1wiKTtcbnZhciBCdWlsZGluZ18xID0gcmVxdWlyZShcIi4vbW9kZWxzL0J1aWxkaW5nXCIpO1xudmFyIGNvdW50ID0gMDtcbnZhciBwYXVzZWQgPSBmYWxzZTtcbnZhciBDT05URVhUO1xuZXhwb3J0cy5DT05URVhUID0gQ09OVEVYVDtcbnZhciBHQU1FID0ge1xuICAgIHRhbmtzOiBbXSxcbiAgICBidWxsZXRzOiBbXSxcbiAgICBleHBsb3Npb25zOiBbXSxcbiAgICBidWlsZGluZ3M6IFtdLFxufTtcbmV4cG9ydHMuR0FNRSA9IEdBTUU7XG5mdW5jdGlvbiBtYWluKCkge1xuICAgIGV4cG9ydHMuQ09OVEVYVCA9IENPTlRFWFQgPSBDb25zdGFudHNfMS5DQU5WQVMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgIENPTlRFWFQuY2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgQ09OVEVYVC5jYW52YXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgIGJ1aWxkaW5nc0dlbmVyYXRvcigpO1xuICAgIGxvYWRQbGF5ZXJUYW5rKCk7XG4gICAgQ29uc3RhbnRzXzEuQVVESU8uc3RhcnQucGxheSgpLnRoZW4oZnVuY3Rpb24gKCkgeyB9KTtcbiAgICBmdW5jdGlvbiB0aWNrKCkge1xuICAgICAgICB1cGRhdGUoKTtcbiAgICAgICAgZHJhdygpO1xuICAgICAgICBzYXZlUGxheWVyVGFuaygpO1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGljayk7XG4gICAgfVxuICAgIHRpY2soKTtcbn1cbmV4cG9ydHMubWFpbiA9IG1haW47XG5mdW5jdGlvbiBnZW5lcmF0ZVBsYXlUYW5rKCkge1xuICAgIHZhciB0YW5rID0gbmV3IFRhbmtfMS5UYW5rKHsgeDogQ09OVEVYVC5jYW52YXMud2lkdGggLyAyLCB5OiBDT05URVhULmNhbnZhcy5oZWlnaHQgfSwgQ29uc3RhbnRzXzEuRElSRUNUSU9OLlVQLCBDb25zdGFudHNfMS5UQU5LLlBMQVlFUl9UQU5LKTtcbiAgICBHQU1FLnRhbmtzLnVuc2hpZnQodGFuayk7XG59XG5mdW5jdGlvbiBzYXZlUGxheWVyVGFuaygpIHtcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJzdGF0ZVwiLCBKU09OLnN0cmluZ2lmeShHQU1FLnRhbmtzWzBdKSk7XG59XG5mdW5jdGlvbiBsb2FkUGxheWVyVGFuaygpIHtcbiAgICB2YXIgc3RhdGUgPSBKU09OLnBhcnNlKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInN0YXRlXCIpKTtcbiAgICB2YXIgdGFuayA9IG5ldyBUYW5rXzEuVGFuayh7IHg6IENPTlRFWFQuY2FudmFzLndpZHRoIC8gMiwgeTogQ09OVEVYVC5jYW52YXMuaGVpZ2h0IH0sIENvbnN0YW50c18xLkRJUkVDVElPTi5VUCwgQ29uc3RhbnRzXzEuVEFOSy5QTEFZRVJfVEFOSyk7XG4gICAgaWYgKHN0YXRlICE9IG51bGwpIHtcbiAgICAgICAgdGFuay5ibG9vZCA9IHN0YXRlLmJsb29kO1xuICAgICAgICB0YW5rLmFybW9yID0gc3RhdGUuYXJtb3I7XG4gICAgICAgIHRhbmsuc3BlZWQgPSBzdGF0ZS5zcGVlZDtcbiAgICAgICAgdGFuay5sZXZlbCA9IHN0YXRlLmxldmVsO1xuICAgICAgICB0YW5rLmJ1bGxldC5zcGVlZCA9IHN0YXRlLmJ1bGxldC5zcGVlZDtcbiAgICAgICAgdGFuay5idWxsZXQuZGFtYWdlID0gc3RhdGUuYnVsbGV0LmRhbWFnZTtcbiAgICB9XG4gICAgR0FNRS50YW5rcy51bnNoaWZ0KHRhbmspO1xufVxuZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgIGlmIChwYXVzZWQpXG4gICAgICAgIHJldHVybjtcbiAgICBpZiAoY291bnQgPT09IDApIHtcbiAgICAgICAgaWYgKE1hdGgucmFuZG9tKCkgPiAwLjcpIHtcbiAgICAgICAgICAgIEdBTUUudGFua3MucHVzaChuZXcgVGFua18xLlRhbmsoe1xuICAgICAgICAgICAgICAgIHg6IE1hdGgucmFuZG9tKCkgKiBDT05URVhULmNhbnZhcy53aWR0aCxcbiAgICAgICAgICAgICAgICB5OiAwLFxuICAgICAgICAgICAgfSwgQ29uc3RhbnRzXzEuRElSRUNUSU9OLkRPV04sIHJhbmRvbUNob29zZUZyb20oQ29uc3RhbnRzXzEuRU5FTVlfVEFOS1MpKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY291bnQgKz0gMTtcbiAgICBjb3VudCAlPSA2MDtcbiAgICB1cGRhdGVCdWxsZXRzKCk7XG4gICAgdXBkYXRlQnVpbGRpbmdzKCk7XG4gICAgdXBkYXRlVGFua3MoKTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZUJ1bGxldHMoKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBHQU1FLmJ1bGxldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCFHQU1FLmJ1bGxldHNbaV0uYWxpdmUpIHtcbiAgICAgICAgICAgIEdBTUUuYnVsbGV0cy5zcGxpY2UoaSwgMSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBHQU1FLmJ1bGxldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgR0FNRS5idWxsZXRzW2ldLm1vdmUoKTtcbiAgICB9XG59XG5mdW5jdGlvbiB1cGRhdGVUYW5rcygpIHtcbiAgICB2YXIgaXNQbGF5ZXJEaWVkID0gZmFsc2U7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBHQU1FLnRhbmtzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghR0FNRS50YW5rc1tpXS5hbGl2ZSkge1xuICAgICAgICAgICAgR0FNRS5leHBsb3Npb25zLnB1c2goe1xuICAgICAgICAgICAgICAgIGNvb3JkaW5hdGU6IEdBTUUudGFua3NbaV0uY29vcmRpbmF0ZSxcbiAgICAgICAgICAgICAgICB0eXBlOiBDb25zdGFudHNfMS5FWFBMT1NJT04uVEFOS19FWFBMT1NJT04sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIEdBTUUudGFua3Muc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgaXNQbGF5ZXJEaWVkID0gaSA9PSAwO1xuICAgICAgICB9XG4gICAgfVxuICAgIEdBTUUudGFua3NbMF0ubW92ZSgpO1xuICAgIEdBTUUudGFua3NbMF0ubGFzdFNob290Q291bnQgKz0gMTtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IEdBTUUudGFua3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgR0FNRS50YW5rc1tpXS5tb3ZlKCk7XG4gICAgICAgIEdBTUUudGFua3NbaV0ubGFzdFNob290Q291bnQgKz0gMTtcbiAgICB9XG4gICAgaWYgKGNvdW50ICUgNSA9PT0gMCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IEdBTUUudGFua3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwbGF5ZXJUYW5rID0gR0FNRS50YW5rc1swXTtcbiAgICAgICAgICAgIHZhciBlbmVteVRhbmsgPSBHQU1FLnRhbmtzW2ldO1xuICAgICAgICAgICAgQUkoZW5lbXlUYW5rLCBwbGF5ZXJUYW5rKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNQbGF5ZXJEaWVkKSB7XG4gICAgICAgIENvbnN0YW50c18xLkFVRElPLmdhbWVfb3Zlci5wbGF5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBnZW5lcmF0ZVBsYXlUYW5rKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIEFJKGFnZW50LCB0YXJnZXQpIHtcbiAgICBzd2l0Y2ggKGFnZW50LmFjdGlvbkxpc3QucG9wKCkpIHtcbiAgICAgICAgY2FzZSBDb25zdGFudHNfMS5BQ1RJT04uTU9WRV9VUDpcbiAgICAgICAgICAgIGFnZW50Lm1vdmluZyA9IHRydWU7XG4gICAgICAgICAgICBhZ2VudC5kaXJlY3Rpb24gPSBDb25zdGFudHNfMS5ESVJFQ1RJT04uVVA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBDb25zdGFudHNfMS5BQ1RJT04uTU9WRV9ET1dOOlxuICAgICAgICAgICAgYWdlbnQubW92aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIGFnZW50LmRpcmVjdGlvbiA9IENvbnN0YW50c18xLkRJUkVDVElPTi5ET1dOO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQ29uc3RhbnRzXzEuQUNUSU9OLk1PVkVfTEVGVDpcbiAgICAgICAgICAgIGFnZW50Lm1vdmluZyA9IHRydWU7XG4gICAgICAgICAgICBhZ2VudC5kaXJlY3Rpb24gPSBDb25zdGFudHNfMS5ESVJFQ1RJT04uTEVGVDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIENvbnN0YW50c18xLkFDVElPTi5NT1ZFX1JJR0hUOlxuICAgICAgICAgICAgYWdlbnQubW92aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIGFnZW50LmRpcmVjdGlvbiA9IENvbnN0YW50c18xLkRJUkVDVElPTi5SSUdIVDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIENvbnN0YW50c18xLkFDVElPTi5TVEFZOlxuICAgICAgICAgICAgYWdlbnQubW92aW5nID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBDb25zdGFudHNfMS5BQ1RJT04uU0hPT1Q6XG4gICAgICAgICAgICBhZ2VudC5zaG9vdCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQ29uc3RhbnRzXzEuQUNUSU9OLkRPX05PVEhJTkc6XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGFnZW50Lm1vdmluZyA9IHRydWU7XG4gICAgICAgICAgICB2YXIgcmFuZG9tID0gTWF0aC5yYW5kb20oKTtcbiAgICAgICAgICAgIGlmIChyYW5kb20gPCAwLjUpIHtcbiAgICAgICAgICAgICAgICBhZ2VudC5hY3Rpb25MaXN0LnB1c2gocmFuZG9tQ2hvb3NlRnJvbShDb25zdGFudHNfMS5BQ1RJT05TKSk7XG4gICAgICAgICAgICAgICAgYWdlbnQuYWN0aW9uTGlzdC5jb25jYXQoW1xuICAgICAgICAgICAgICAgICAgICBDb25zdGFudHNfMS5BQ1RJT04uU0hPT1QsXG4gICAgICAgICAgICAgICAgICAgIENvbnN0YW50c18xLkFDVElPTi5TSE9PVCxcbiAgICAgICAgICAgICAgICAgICAgQ29uc3RhbnRzXzEuQUNUSU9OLlNIT09ULFxuICAgICAgICAgICAgICAgICAgICBDb25zdGFudHNfMS5BQ1RJT04uU0hPT1QsXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChyYW5kb20gPCAwLjgpIHtcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5mbG9vcihyYW5kb20gKiAxMDApICUgMiA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWdlbnQuY29vcmRpbmF0ZS54IDwgdGFyZ2V0LmNvb3JkaW5hdGUueCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWdlbnQuYWN0aW9uTGlzdC5wdXNoKENvbnN0YW50c18xLkFDVElPTi5NT1ZFX1JJR0hUKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFnZW50LmFjdGlvbkxpc3QucHVzaChDb25zdGFudHNfMS5BQ1RJT04uTU9WRV9MRUZUKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFnZW50LmNvb3JkaW5hdGUueSA8IHRhcmdldC5jb29yZGluYXRlLnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFnZW50LmFjdGlvbkxpc3QucHVzaChDb25zdGFudHNfMS5BQ1RJT04uTU9WRV9ET1dOKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFnZW50LmFjdGlvbkxpc3QucHVzaChDb25zdGFudHNfMS5BQ1RJT04uTU9WRV9VUCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChyYW5kb20gPCAwLjgpIHtcbiAgICAgICAgICAgICAgICBhZ2VudC5hY3Rpb25MaXN0LmNvbmNhdChbXG4gICAgICAgICAgICAgICAgICAgIENvbnN0YW50c18xLkFDVElPTi5NT1ZFX1VQLFxuICAgICAgICAgICAgICAgICAgICBDb25zdGFudHNfMS5BQ1RJT04uRE9fTk9USElORyxcbiAgICAgICAgICAgICAgICAgICAgQ29uc3RhbnRzXzEuQUNUSU9OLlNIT09ULFxuICAgICAgICAgICAgICAgICAgICBDb25zdGFudHNfMS5BQ1RJT04uTU9WRV9MRUZULFxuICAgICAgICAgICAgICAgICAgICBDb25zdGFudHNfMS5BQ1RJT04uRE9fTk9USElORyxcbiAgICAgICAgICAgICAgICAgICAgQ29uc3RhbnRzXzEuQUNUSU9OLlNIT09ULFxuICAgICAgICAgICAgICAgICAgICBDb25zdGFudHNfMS5BQ1RJT04uTU9WRV9ET1dOLFxuICAgICAgICAgICAgICAgICAgICBDb25zdGFudHNfMS5BQ1RJT04uRE9fTk9USElORyxcbiAgICAgICAgICAgICAgICAgICAgQ29uc3RhbnRzXzEuQUNUSU9OLlNIT09ULFxuICAgICAgICAgICAgICAgICAgICBDb25zdGFudHNfMS5BQ1RJT04uTU9WRV9SSUdIVCxcbiAgICAgICAgICAgICAgICAgICAgQ29uc3RhbnRzXzEuQUNUSU9OLkRPX05PVEhJTkcsXG4gICAgICAgICAgICAgICAgICAgIENvbnN0YW50c18xLkFDVElPTi5TSE9PVCxcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGFnZW50LmFjdGlvbkxpc3QucHVzaChDb25zdGFudHNfMS5BQ1RJT04uU0hPT1QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxufVxuZnVuY3Rpb24gdXBkYXRlQnVpbGRpbmdzKCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgR0FNRS5idWlsZGluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCFHQU1FLmJ1aWxkaW5nc1tpXS5hbGl2ZSkge1xuICAgICAgICAgICAgR0FNRS5idWlsZGluZ3Muc3BsaWNlKGksIDEpO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gZHJhdygpIHtcbiAgICBDT05URVhULmNsZWFyUmVjdCgwLCAwLCBDT05URVhULmNhbnZhcy53aWR0aCwgQ09OVEVYVC5jYW52YXMuaGVpZ2h0KTtcbiAgICB2YXIgb2JqZWN0cyA9IEdBTUUudGFua3M7XG4gICAgb2JqZWN0cyA9IG9iamVjdHMuY29uY2F0KEdBTUUuYnVsbGV0cyk7XG4gICAgb2JqZWN0cyA9IG9iamVjdHMuY29uY2F0KEdBTUUuYnVpbGRpbmdzKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iamVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgb2JqZWN0c1tpXS5kcmF3KCk7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgR0FNRS5leHBsb3Npb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBleHBsb3Npb24gPSBHQU1FLmV4cGxvc2lvbnNbaV07XG4gICAgICAgIGlmIChleHBsb3Npb24udHlwZSA9PT0gQ29uc3RhbnRzXzEuRVhQTE9TSU9OLlRBTktfRVhQTE9TSU9OKSB7XG4gICAgICAgICAgICBDT05URVhULmRyYXdJbWFnZShDb25zdGFudHNfMS5JTUFHRSwgMzIwLCAwLCAzMiwgMzIsIGV4cGxvc2lvbi5jb29yZGluYXRlLnggLSAxNiwgZXhwbG9zaW9uLmNvb3JkaW5hdGUueSAtIDE2LCAzMiwgMzIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGV4cGxvc2lvbi50eXBlID09PSBDb25zdGFudHNfMS5FWFBMT1NJT04uQlVMTEVUX0VYUExPU0lPTikge1xuICAgICAgICAgICAgQ09OVEVYVC5kcmF3SW1hZ2UoQ29uc3RhbnRzXzEuSU1BR0UsIDM1MiwgMCwgMzIsIDMyLCBleHBsb3Npb24uY29vcmRpbmF0ZS54IC0gMTYsIGV4cGxvc2lvbi5jb29yZGluYXRlLnkgLSAxNiwgMzIsIDMyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzaG93U3RhdHVzKCk7XG4gICAgR0FNRS5leHBsb3Npb25zID0gW107XG59XG5mdW5jdGlvbiBzaG93U3RhdHVzKCkge1xuICAgIENPTlRFWFQuZm9udCA9IFwiMjBweCBtb25vc3BhY2VcIjtcbiAgICBDT05URVhULmZpbGxTdHlsZSA9IFwid2hpdGVcIjtcbiAgICB2YXIgcGxheWVyID0gR0FNRS50YW5rc1swXTtcbiAgICBDT05URVhULmZpbGxUZXh0KFwiYmxvb2Q6IFwiICsgcGxheWVyLmJsb29kLnRvRml4ZWQoMSkgKyBcIiBhcm1vcjogXCIgKyBwbGF5ZXIuYXJtb3IudG9GaXhlZCgyKSwgMjAsIDMwKTtcbiAgICBDT05URVhULmZpbGxUZXh0KFwic3BlZWQ6IFwiICsgcGxheWVyLnNwZWVkLnRvRml4ZWQoMSkgKyBcIiBsZXZlbDogXCIgKyBwbGF5ZXIubGV2ZWwsIDIwLCA1MCk7XG4gICAgQ09OVEVYVC5maWxsVGV4dChcInNob290IGludGVydmFsOiBcIiArIHBsYXllci5zaG9vdEludGVydmFsLCAyMCwgNzApO1xuICAgIENPTlRFWFQuZmlsbFRleHQoXCJidWxsZXQgZGFtYWdlOiBcIiArIHBsYXllci5idWxsZXQuZGFtYWdlLnRvRml4ZWQoMSkgKyBcIiBidWxsZXQgc3BlZWQ6IFwiICsgcGxheWVyLmJ1bGxldC5zcGVlZC50b0ZpeGVkKDEpLCAyMCwgOTApO1xufVxudmFyIGtleUFEb3duID0gZmFsc2U7XG52YXIga2V5RERvd24gPSBmYWxzZTtcbnZhciBrZXlXRG93biA9IGZhbHNlO1xudmFyIGtleVNEb3duID0gZmFsc2U7XG5kb2N1bWVudC5vbmtleWRvd24gPSBmdW5jdGlvbiAoZSkge1xuICAgIHRyeSB7XG4gICAgICAgIHN3aXRjaCAoZS5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwiS2V5QVwiOlxuICAgICAgICAgICAgICAgIGtleUFEb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBHQU1FLnRhbmtzWzBdLm1vdmluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgR0FNRS50YW5rc1swXS5kaXJlY3Rpb24gPSBDb25zdGFudHNfMS5ESVJFQ1RJT04uTEVGVDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJLZXlEXCI6XG4gICAgICAgICAgICAgICAga2V5RERvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIEdBTUUudGFua3NbMF0ubW92aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBHQU1FLnRhbmtzWzBdLmRpcmVjdGlvbiA9IENvbnN0YW50c18xLkRJUkVDVElPTi5SSUdIVDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJLZXlXXCI6XG4gICAgICAgICAgICAgICAga2V5V0Rvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIEdBTUUudGFua3NbMF0ubW92aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBHQU1FLnRhbmtzWzBdLmRpcmVjdGlvbiA9IENvbnN0YW50c18xLkRJUkVDVElPTi5VUDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJLZXlTXCI6XG4gICAgICAgICAgICAgICAga2V5U0Rvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIEdBTUUudGFua3NbMF0ubW92aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBHQU1FLnRhbmtzWzBdLmRpcmVjdGlvbiA9IENvbnN0YW50c18xLkRJUkVDVElPTi5ET1dOO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIktleVBcIjpcbiAgICAgICAgICAgICAgICBwYXVzZWQgPSAhcGF1c2VkO1xuICAgICAgICAgICAgICAgIENvbnN0YW50c18xLkFVRElPLnBhdXNlLnBsYXkoKS50aGVuKGZ1bmN0aW9uICgpIHsgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiU3BhY2VcIjpcbiAgICAgICAgICAgICAgICBHQU1FLnRhbmtzWzBdLnNob290KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiRjExXCI6XG4gICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiS2V5UlwiOlxuICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIktleUJcIjpcbiAgICAgICAgICAgICAgICBnZW5lcmF0ZVBsYXlUYW5rKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGUudG9TdHJpbmcoKSk7XG4gICAgfVxufTtcbmRvY3VtZW50Lm9ubW91c2Vkb3duID0gZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAoZS5idXR0b24gPT0gMCkge1xuICAgICAgICBHQU1FLnRhbmtzWzBdLnNob290KCk7XG4gICAgfVxufTtcbmRvY3VtZW50Lm9ua2V5dXAgPSBmdW5jdGlvbiAoZSkge1xuICAgIHN3aXRjaCAoZS5jb2RlKSB7XG4gICAgICAgIGNhc2UgXCJLZXlBXCI6XG4gICAgICAgICAgICBrZXlBRG93biA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJLZXlEXCI6XG4gICAgICAgICAgICBrZXlERG93biA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJLZXlXXCI6XG4gICAgICAgICAgICBrZXlXRG93biA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJLZXlTXCI6XG4gICAgICAgICAgICBrZXlTRG93biA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJLZXlDXCI6XG4gICAgICAgICAgICBHQU1FLmJ1aWxkaW5ncyA9IFtdO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgaWYgKCFrZXlTRG93biAmJiAha2V5V0Rvd24gJiYgIWtleUREb3duICYmICFrZXlBRG93bilcbiAgICAgICAgR0FNRS50YW5rc1swXS5tb3ZpbmcgPSBmYWxzZTtcbn07XG5mdW5jdGlvbiByYW5kb21DaG9vc2VGcm9tKGFycmF5KSB7XG4gICAgcmV0dXJuIGFycmF5W01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGFycmF5Lmxlbmd0aCldO1xufVxuZnVuY3Rpb24gYnVpbGRpbmdzR2VuZXJhdG9yKCkge1xuICAgIHZhciB4UmFuZ2UgPSBNYXRoLmZsb29yKENPTlRFWFQuY2FudmFzLndpZHRoIC8gMTYpO1xuICAgIHZhciB5UmFuZ2UgPSBNYXRoLmZsb29yKENPTlRFWFQuY2FudmFzLmhlaWdodCAvIDE2KTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDE1ICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApOyBpKyspIHtcbiAgICAgICAgdmFyIGJ1aWxkaW5nVHlwZSA9IHJhbmRvbUNob29zZUZyb20oQ29uc3RhbnRzXzEuQlVJTERJTkdTKTtcbiAgICAgICAgdmFyIHggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB4UmFuZ2UpO1xuICAgICAgICB2YXIgeSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHlSYW5nZSk7XG4gICAgICAgIHZhciB3aWR0aCA9IDI7XG4gICAgICAgIHZhciBoZWlnaHQgPSAyO1xuICAgICAgICBpZiAoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApICUgMiA9PT0gMCkge1xuICAgICAgICAgICAgd2lkdGggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoeFJhbmdlIC0geCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaGVpZ2h0ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHlSYW5nZSAtIHkpKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpXzEgPSB4OyBpXzEgPCB4ICsgd2lkdGg7IGlfMSsrKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0geTsgaiA8IHkgKyBoZWlnaHQ7IGorKykge1xuICAgICAgICAgICAgICAgIEdBTUUuYnVpbGRpbmdzLnB1c2gobmV3IEJ1aWxkaW5nXzEuQnVpbGRpbmcoe1xuICAgICAgICAgICAgICAgICAgICB4OiBpXzEgKiAxNixcbiAgICAgICAgICAgICAgICAgICAgeTogaiAqIDE2LFxuICAgICAgICAgICAgICAgIH0sIGJ1aWxkaW5nVHlwZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxudmFyIHRvdWNoUG9pbnRYID0gMDtcbnZhciB0b3VjaFBvaW50WSA9IDA7XG5kb2N1bWVudC5vbnRvdWNoc3RhcnQgPSBmdW5jdGlvbiAoZSkge1xuICAgIGNvbnNvbGUubG9nKFwic3RhcnQ6IFwiLCBlLnRvdWNoZXNbMF0ucGFnZVgsIGUudG91Y2hlc1swXS5wYWdlWSk7XG4gICAgdG91Y2hQb2ludFggPSBlLnRvdWNoZXNbMF0ucGFnZVg7XG4gICAgdG91Y2hQb2ludFkgPSBlLnRvdWNoZXNbMF0ucGFnZVk7XG4gICAgaWYgKEdBTUUudGFua3NbMF0pIHtcbiAgICAgICAgR0FNRS50YW5rc1swXS5tb3ZpbmcgPSB0cnVlO1xuICAgICAgICBHQU1FLnRhbmtzWzBdLnNob290KCk7XG4gICAgfVxufTtcbmRvY3VtZW50Lm9udG91Y2hlbmQgPSBmdW5jdGlvbiAoZSkge1xuICAgIGNvbnNvbGUubG9nKFwiZW5kOiBcIiwgZSk7XG4gICAgdmFyIGVuZFRvdWNoUG9pbnRYID0gZS5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWDtcbiAgICB2YXIgZW5kVG91Y2hQb2ludFkgPSBlLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZO1xuICAgIGlmIChNYXRoLmFicyhlbmRUb3VjaFBvaW50WCAtIHRvdWNoUG9pbnRYKSA+XG4gICAgICAgIE1hdGguYWJzKGVuZFRvdWNoUG9pbnRZIC0gdG91Y2hQb2ludFkpKSB7XG4gICAgICAgIGlmIChlbmRUb3VjaFBvaW50WCA+IHRvdWNoUG9pbnRYKSB7XG4gICAgICAgICAgICBHQU1FLnRhbmtzWzBdLmRpcmVjdGlvbiA9IENvbnN0YW50c18xLkRJUkVDVElPTi5SSUdIVDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIEdBTUUudGFua3NbMF0uZGlyZWN0aW9uID0gQ29uc3RhbnRzXzEuRElSRUNUSU9OLkxFRlQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChlbmRUb3VjaFBvaW50WSA+IHRvdWNoUG9pbnRZKSB7XG4gICAgICAgICAgICBHQU1FLnRhbmtzWzBdLmRpcmVjdGlvbiA9IENvbnN0YW50c18xLkRJUkVDVElPTi5ET1dOO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgR0FNRS50YW5rc1swXS5kaXJlY3Rpb24gPSBDb25zdGFudHNfMS5ESVJFQ1RJT04uVVA7XG4gICAgICAgIH1cbiAgICB9XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLklNQUdFID0gZXhwb3J0cy5DQU5WQVMgPSBleHBvcnRzLkFVRElPID0gZXhwb3J0cy5BQ1RJT05TID0gZXhwb3J0cy5BQ1RJT04gPSBleHBvcnRzLkJVSUxESU5HUyA9IGV4cG9ydHMuQlVJTERJTkcgPSBleHBvcnRzLkVYUExPU0lPTiA9IGV4cG9ydHMuRElSRUNUSU9OID0gZXhwb3J0cy5FTkVNWV9UQU5LUyA9IGV4cG9ydHMuVEFOSyA9IHZvaWQgMDtcbnZhciBUQU5LO1xuKGZ1bmN0aW9uIChUQU5LKSB7XG4gICAgVEFOS1tUQU5LW1wiUExBWUVSX1RBTktcIl0gPSAwXSA9IFwiUExBWUVSX1RBTktcIjtcbiAgICBUQU5LW1RBTktbXCJOT1JNQUxfVEFOS1wiXSA9IDFdID0gXCJOT1JNQUxfVEFOS1wiO1xuICAgIFRBTktbVEFOS1tcIlNXSUZUX1RBTktcIl0gPSAyXSA9IFwiU1dJRlRfVEFOS1wiO1xuICAgIFRBTktbVEFOS1tcIkhFQVZZX1RBTktcIl0gPSAzXSA9IFwiSEVBVllfVEFOS1wiO1xufSkoVEFOSyB8fCAoVEFOSyA9IHt9KSk7XG5leHBvcnRzLlRBTksgPSBUQU5LO1xudmFyIEVORU1ZX1RBTktTID0gW1RBTksuTk9STUFMX1RBTkssIFRBTksuU1dJRlRfVEFOSywgVEFOSy5IRUFWWV9UQU5LXTtcbmV4cG9ydHMuRU5FTVlfVEFOS1MgPSBFTkVNWV9UQU5LUztcbnZhciBESVJFQ1RJT047XG4oZnVuY3Rpb24gKERJUkVDVElPTikge1xuICAgIERJUkVDVElPTltESVJFQ1RJT05bXCJVUFwiXSA9IDBdID0gXCJVUFwiO1xuICAgIERJUkVDVElPTltESVJFQ1RJT05bXCJET1dOXCJdID0gMV0gPSBcIkRPV05cIjtcbiAgICBESVJFQ1RJT05bRElSRUNUSU9OW1wiTEVGVFwiXSA9IDJdID0gXCJMRUZUXCI7XG4gICAgRElSRUNUSU9OW0RJUkVDVElPTltcIlJJR0hUXCJdID0gM10gPSBcIlJJR0hUXCI7XG59KShESVJFQ1RJT04gfHwgKERJUkVDVElPTiA9IHt9KSk7XG5leHBvcnRzLkRJUkVDVElPTiA9IERJUkVDVElPTjtcbnZhciBFWFBMT1NJT047XG4oZnVuY3Rpb24gKEVYUExPU0lPTikge1xuICAgIEVYUExPU0lPTltFWFBMT1NJT05bXCJUQU5LX0VYUExPU0lPTlwiXSA9IDBdID0gXCJUQU5LX0VYUExPU0lPTlwiO1xuICAgIEVYUExPU0lPTltFWFBMT1NJT05bXCJCVUxMRVRfRVhQTE9TSU9OXCJdID0gMV0gPSBcIkJVTExFVF9FWFBMT1NJT05cIjtcbn0pKEVYUExPU0lPTiB8fCAoRVhQTE9TSU9OID0ge30pKTtcbmV4cG9ydHMuRVhQTE9TSU9OID0gRVhQTE9TSU9OO1xudmFyIEJVSUxESU5HO1xuKGZ1bmN0aW9uIChCVUlMRElORykge1xuICAgIEJVSUxESU5HW0JVSUxESU5HW1wiQlJJQ0tcIl0gPSAwXSA9IFwiQlJJQ0tcIjtcbiAgICBCVUlMRElOR1tCVUlMRElOR1tcIkNFTUVOVFwiXSA9IDFdID0gXCJDRU1FTlRcIjtcbiAgICBCVUlMRElOR1tCVUlMRElOR1tcIlRSRUVcIl0gPSAyXSA9IFwiVFJFRVwiO1xuICAgIEJVSUxESU5HW0JVSUxESU5HW1wiV0FURVJcIl0gPSAzXSA9IFwiV0FURVJcIjtcbiAgICBCVUlMRElOR1tCVUlMRElOR1tcIlJPQURcIl0gPSA0XSA9IFwiUk9BRFwiO1xufSkoQlVJTERJTkcgfHwgKEJVSUxESU5HID0ge30pKTtcbmV4cG9ydHMuQlVJTERJTkcgPSBCVUlMRElORztcbnZhciBCVUlMRElOR1MgPSBbXG4gICAgQlVJTERJTkcuQlJJQ0ssXG4gICAgQlVJTERJTkcuQ0VNRU5ULFxuICAgIEJVSUxESU5HLlRSRUUsXG4gICAgQlVJTERJTkcuV0FURVIsXG5dO1xuZXhwb3J0cy5CVUlMRElOR1MgPSBCVUlMRElOR1M7XG52YXIgQUNUSU9OO1xuKGZ1bmN0aW9uIChBQ1RJT04pIHtcbiAgICBBQ1RJT05bQUNUSU9OW1wiTU9WRV9VUFwiXSA9IDBdID0gXCJNT1ZFX1VQXCI7XG4gICAgQUNUSU9OW0FDVElPTltcIk1PVkVfRE9XTlwiXSA9IDFdID0gXCJNT1ZFX0RPV05cIjtcbiAgICBBQ1RJT05bQUNUSU9OW1wiTU9WRV9MRUZUXCJdID0gMl0gPSBcIk1PVkVfTEVGVFwiO1xuICAgIEFDVElPTltBQ1RJT05bXCJNT1ZFX1JJR0hUXCJdID0gM10gPSBcIk1PVkVfUklHSFRcIjtcbiAgICBBQ1RJT05bQUNUSU9OW1wiU1RBWVwiXSA9IDRdID0gXCJTVEFZXCI7XG4gICAgQUNUSU9OW0FDVElPTltcIlNIT09UXCJdID0gNV0gPSBcIlNIT09UXCI7XG4gICAgQUNUSU9OW0FDVElPTltcIkRPX05PVEhJTkdcIl0gPSA2XSA9IFwiRE9fTk9USElOR1wiO1xufSkoQUNUSU9OIHx8IChBQ1RJT04gPSB7fSkpO1xuZXhwb3J0cy5BQ1RJT04gPSBBQ1RJT047XG52YXIgQUNUSU9OUyA9IFtcbiAgICBBQ1RJT04uTU9WRV9VUCxcbiAgICBBQ1RJT04uTU9WRV9ET1dOLFxuICAgIEFDVElPTi5NT1ZFX0xFRlQsXG4gICAgQUNUSU9OLk1PVkVfUklHSFQsXG4gICAgQUNUSU9OLlNUQVksXG4gICAgQUNUSU9OLlNIT09ULFxuICAgIEFDVElPTi5ET19OT1RISU5HLFxuXTtcbmV4cG9ydHMuQUNUSU9OUyA9IEFDVElPTlM7XG52YXIgQXVkaW9NYW5hZ2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEF1ZGlvTWFuYWdlcigpIHtcbiAgICAgICAgdGhpcy5zdGFydCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3RhcnRcIik7XG4gICAgICAgIHRoaXMuY29sbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29sbGVjdFwiKTtcbiAgICAgICAgdGhpcy5zaG9vdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hvb3RcIik7XG4gICAgICAgIHRoaXMuZXhwbG9zaW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJleHBsb3Npb25cIik7XG4gICAgICAgIHRoaXMucGF1c2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBhdXNlXCIpO1xuICAgICAgICB0aGlzLnBpY2sgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBpY2tcIik7XG4gICAgICAgIHRoaXMubGV2ZWxfdXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxldmVsX3VwXCIpO1xuICAgICAgICB0aGlzLmlkbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImlkbGVcIik7XG4gICAgICAgIHRoaXMubW92ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibW92ZVwiKTtcbiAgICAgICAgdGhpcy5oaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImhpdFwiKTtcbiAgICAgICAgdGhpcy5nYW1lX292ZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWVfb3ZlclwiKTtcbiAgICB9XG4gICAgcmV0dXJuIEF1ZGlvTWFuYWdlcjtcbn0oKSk7XG52YXIgQVVESU8gPSBuZXcgQXVkaW9NYW5hZ2VyKCk7XG5leHBvcnRzLkFVRElPID0gQVVESU87XG52YXIgQ0FOVkFTID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNcIik7XG5leHBvcnRzLkNBTlZBUyA9IENBTlZBUztcbnZhciBJTUFHRSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3ByaXRlc1wiKTtcbmV4cG9ydHMuSU1BR0UgPSBJTUFHRTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5UYW5rID0gdm9pZCAwO1xudmFyIENvbnN0YW50c18xID0gcmVxdWlyZShcIi4uL0NvbnN0YW50c1wiKTtcbnZhciBpbmRleF8xID0gcmVxdWlyZShcIi4uL2luZGV4XCIpO1xudmFyIEJ1bGxldF8xID0gcmVxdWlyZShcIi4vQnVsbGV0XCIpO1xudmFyIFRhbmsgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVGFuayhjb29yZGluYXRlLCBkaXJlY3Rpb24sIHR5cGUpIHtcbiAgICAgICAgdGhpcy5jb29yZGluYXRlID0gY29vcmRpbmF0ZTtcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSBkaXJlY3Rpb247XG4gICAgICAgIHRoaXMubGFzdFNob290Q291bnQgPSAwO1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLnJhZGl1cyA9IDE2O1xuICAgICAgICB0aGlzLnNob290SW50ZXJ2YWwgPSA2MDtcbiAgICAgICAgdGhpcy5hbGl2ZSA9IHRydWU7XG4gICAgICAgIHRoaXMubW92aW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jYW5UYW5rUGFzcyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNhbkJ1bGxldFBhc3MgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hY3Rpb25MaXN0ID0gW107XG4gICAgICAgIHRoaXMuYnVsbGV0ID0ge1xuICAgICAgICAgICAgZGFtYWdlOiA1LFxuICAgICAgICAgICAgc3BlZWQ6IDEwLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmJsb29kID0gMTA7XG4gICAgICAgIHRoaXMuYXJtb3IgPSAwLjU7XG4gICAgICAgIHRoaXMuc3BlZWQgPSAyLjU7XG4gICAgICAgIHRoaXMuYXR0YWNrSW50ZXJ2YWwgPSA0MDtcbiAgICAgICAgdGhpcy5sZXZlbCA9IDE7XG4gICAgICAgIHN3aXRjaCAodGhpcy50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIENvbnN0YW50c18xLlRBTksuUExBWUVSX1RBTks6XG4gICAgICAgICAgICAgICAgdGhpcy5ibG9vZCA9IDEwO1xuICAgICAgICAgICAgICAgIHRoaXMuYXJtb3IgPSAwLjY7XG4gICAgICAgICAgICAgICAgdGhpcy5zcGVlZCA9IDM7XG4gICAgICAgICAgICAgICAgdGhpcy5hdHRhY2tJbnRlcnZhbCA9IDIwO1xuICAgICAgICAgICAgICAgIHRoaXMuYnVsbGV0LmRhbWFnZSA9IDU7XG4gICAgICAgICAgICAgICAgdGhpcy5idWxsZXQuc3BlZWQgPSAxNTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQ29uc3RhbnRzXzEuVEFOSy5OT1JNQUxfVEFOSzpcbiAgICAgICAgICAgICAgICB0aGlzLmJsb29kID0gMTA7XG4gICAgICAgICAgICAgICAgdGhpcy5hcm1vciA9IDAuNTtcbiAgICAgICAgICAgICAgICB0aGlzLnNwZWVkID0gMi41O1xuICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNrSW50ZXJ2YWwgPSA0MDtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1bGxldC5kYW1hZ2UgPSA0O1xuICAgICAgICAgICAgICAgIHRoaXMuYnVsbGV0LnNwZWVkID0gMTA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIENvbnN0YW50c18xLlRBTksuU1dJRlRfVEFOSzpcbiAgICAgICAgICAgICAgICB0aGlzLmJsb29kID0gNTtcbiAgICAgICAgICAgICAgICB0aGlzLmFybW9yID0gMC4zO1xuICAgICAgICAgICAgICAgIHRoaXMuc3BlZWQgPSAzLjU7XG4gICAgICAgICAgICAgICAgdGhpcy5hdHRhY2tJbnRlcnZhbCA9IDIwO1xuICAgICAgICAgICAgICAgIHRoaXMuYnVsbGV0LmRhbWFnZSA9IDM7XG4gICAgICAgICAgICAgICAgdGhpcy5idWxsZXQuc3BlZWQgPSAxNTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQ29uc3RhbnRzXzEuVEFOSy5IRUFWWV9UQU5LOlxuICAgICAgICAgICAgICAgIHRoaXMuYmxvb2QgPSAyMDtcbiAgICAgICAgICAgICAgICB0aGlzLmFybW9yID0gMC43O1xuICAgICAgICAgICAgICAgIHRoaXMuc3BlZWQgPSAwLjc7XG4gICAgICAgICAgICAgICAgdGhpcy5hdHRhY2tJbnRlcnZhbCA9IDYwO1xuICAgICAgICAgICAgICAgIHRoaXMuYnVsbGV0LmRhbWFnZSA9IDEwO1xuICAgICAgICAgICAgICAgIHRoaXMuYnVsbGV0LnNwZWVkID0gNDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlVuZXhwZWN0ZWQgdGFuayB0eXBlOiBcIiArIHRoaXMudHlwZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgVGFuay5wcm90b3R5cGUubGV2ZWxVcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5sZXZlbCsrO1xuICAgICAgICB0aGlzLmJsb29kID0gTWF0aC5taW4oMzAsIHRoaXMuYmxvb2QgKyAxKTtcbiAgICAgICAgdGhpcy5zcGVlZCA9IE1hdGgubWluKDEwLCB0aGlzLnNwZWVkICsgMC4xKTtcbiAgICAgICAgdGhpcy5hcm1vciA9IE1hdGgubWluKDAuOCwgdGhpcy5hcm1vciArIDAuMDQpO1xuICAgICAgICB0aGlzLmJ1bGxldC5zcGVlZCA9IE1hdGgubWluKDMwLCB0aGlzLmJ1bGxldC5zcGVlZCArIDAuNSk7XG4gICAgICAgIHRoaXMuYnVsbGV0LmRhbWFnZSA9IE1hdGgubWluKDEwLCB0aGlzLmJ1bGxldC5kYW1hZ2UgKyAwLjUpO1xuICAgICAgICB0aGlzLnNob290SW50ZXJ2YWwgPSBNYXRoLm1heCgxMCwgdGhpcy5zaG9vdEludGVydmFsIC0gMik7XG4gICAgfTtcbiAgICBUYW5rLnByb3RvdHlwZS5iZUF0dGFja2VkID0gZnVuY3Rpb24gKGJ1bGxldCwgYXR0YWNrZXIpIHtcbiAgICAgICAgdGhpcy5ibG9vZCAtPSBNYXRoLm1heCgxLCBidWxsZXQuZGFtYWdlICogKDEgLSB0aGlzLmFybW9yKSk7XG4gICAgICAgIGlmICh0aGlzLmJsb29kIDw9IDApIHtcbiAgICAgICAgICAgIHRoaXMuYmxvb2QgPSAwO1xuICAgICAgICAgICAgdGhpcy5hbGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgQ29uc3RhbnRzXzEuQVVESU8uZXhwbG9zaW9uLnBsYXkoKS50aGVuKGZ1bmN0aW9uICgpIHsgfSk7XG4gICAgICAgICAgICBhdHRhY2tlci5sZXZlbFVwKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRhbmsucHJvdG90eXBlLm1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLm1vdmluZykge1xuICAgICAgICAgICAgdmFyIG92ZXJsYXBwaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgb2JzdGFjbGVzID0gaW5kZXhfMS5HQU1FLnRhbmtzO1xuICAgICAgICAgICAgb2JzdGFjbGVzID0gb2JzdGFjbGVzLmNvbmNhdChpbmRleF8xLkdBTUUuYnVpbGRpbmdzKTtcbiAgICAgICAgICAgIHZhciB4RGVsdGEgPSAwO1xuICAgICAgICAgICAgdmFyIHlEZWx0YSA9IDA7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBDb25zdGFudHNfMS5ESVJFQ1RJT04uVVA6XG4gICAgICAgICAgICAgICAgICAgIHlEZWx0YSA9IC10aGlzLnNwZWVkO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIENvbnN0YW50c18xLkRJUkVDVElPTi5ET1dOOlxuICAgICAgICAgICAgICAgICAgICB5RGVsdGEgPSB0aGlzLnNwZWVkO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIENvbnN0YW50c18xLkRJUkVDVElPTi5MRUZUOlxuICAgICAgICAgICAgICAgICAgICB4RGVsdGEgPSAtdGhpcy5zcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBDb25zdGFudHNfMS5ESVJFQ1RJT04uUklHSFQ6XG4gICAgICAgICAgICAgICAgICAgIHhEZWx0YSA9IHRoaXMuc3BlZWQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jb29yZGluYXRlLnggKz0geERlbHRhO1xuICAgICAgICAgICAgdGhpcy5jb29yZGluYXRlLnkgKz0geURlbHRhO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYnN0YWNsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAob2JzdGFjbGVzW2ldLmNhblRhbmtQYXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnModGhpcy5jb29yZGluYXRlLnkgLSBvYnN0YWNsZXNbaV0uY29vcmRpbmF0ZS55KSA8XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmFkaXVzICsgb2JzdGFjbGVzW2ldLnJhZGl1cyAmJlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvb3JkaW5hdGUgIT09IG9ic3RhY2xlc1tpXS5jb29yZGluYXRlICYmXG4gICAgICAgICAgICAgICAgICAgIE1hdGguYWJzKHRoaXMuY29vcmRpbmF0ZS54IC0gb2JzdGFjbGVzW2ldLmNvb3JkaW5hdGUueCkgPFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yYWRpdXMgKyBvYnN0YWNsZXNbaV0ucmFkaXVzKSB7XG4gICAgICAgICAgICAgICAgICAgIG92ZXJsYXBwaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb29yZGluYXRlLnggLT0geERlbHRhO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvb3JkaW5hdGUueSAtPSB5RGVsdGE7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY29vcmRpbmF0ZSA9IFRhbmsuYm91bmQodGhpcy5jb29yZGluYXRlLCB0aGlzLnJhZGl1cyk7IC8vIE1ha2UgdGhlIHRhbmsgdW5hYmxlIHRvIGNyb3NzIHRoZSBib3JkZXJcbiAgICAgICAgfVxuICAgIH07XG4gICAgVGFuay5ib3VuZCA9IGZ1bmN0aW9uIChjb29yZGluYXRlLCByYWRpdXMpIHtcbiAgICAgICAgaWYgKGNvb3JkaW5hdGUueCA8IHJhZGl1cykge1xuICAgICAgICAgICAgY29vcmRpbmF0ZS54ID0gcmFkaXVzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNvb3JkaW5hdGUueCArIHJhZGl1cyA+IGluZGV4XzEuQ09OVEVYVC5jYW52YXMud2lkdGgpIHtcbiAgICAgICAgICAgIGNvb3JkaW5hdGUueCA9IGluZGV4XzEuQ09OVEVYVC5jYW52YXMud2lkdGggLSByYWRpdXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvb3JkaW5hdGUueSA8IHJhZGl1cykge1xuICAgICAgICAgICAgY29vcmRpbmF0ZS55ID0gcmFkaXVzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNvb3JkaW5hdGUueSArIHJhZGl1cyA+IGluZGV4XzEuQ09OVEVYVC5jYW52YXMuaGVpZ2h0KSB7XG4gICAgICAgICAgICBjb29yZGluYXRlLnkgPSBpbmRleF8xLkNPTlRFWFQuY2FudmFzLmhlaWdodCAtIHJhZGl1cztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29vcmRpbmF0ZTtcbiAgICB9O1xuICAgIFRhbmsucHJvdG90eXBlLnNob290ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5sYXN0U2hvb3RDb3VudCA+PSB0aGlzLnNob290SW50ZXJ2YWwpIHtcbiAgICAgICAgICAgIGluZGV4XzEuR0FNRS5idWxsZXRzLnB1c2gobmV3IEJ1bGxldF8xLkJ1bGxldCh0aGlzLmNvb3JkaW5hdGUsIHRoaXMuZGlyZWN0aW9uLCB0aGlzLmJ1bGxldC5kYW1hZ2UsIHRoaXMuYnVsbGV0LnNwZWVkLCB0aGlzKSk7XG4gICAgICAgICAgICB0aGlzLmxhc3RTaG9vdENvdW50ID0gMDtcbiAgICAgICAgICAgIGlmICh0aGlzLnR5cGUgPT09IENvbnN0YW50c18xLlRBTksuUExBWUVSX1RBTkspIHtcbiAgICAgICAgICAgICAgICBDb25zdGFudHNfMS5BVURJTy5zaG9vdC5wbGF5KCkudGhlbihmdW5jdGlvbiAoKSB7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBUYW5rLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBzd2l0Y2ggKHRoaXMudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBDb25zdGFudHNfMS5UQU5LLlBMQVlFUl9UQU5LOlxuICAgICAgICAgICAgICAgIGluZGV4XzEuQ09OVEVYVC5kcmF3SW1hZ2UoQ29uc3RhbnRzXzEuSU1BR0UsIDMyICogdGhpcy5kaXJlY3Rpb24sIDAsIDMyLCAzMiwgdGhpcy5jb29yZGluYXRlLnggLSAxNiwgdGhpcy5jb29yZGluYXRlLnkgLSAxNiwgMzIsIDMyKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQ29uc3RhbnRzXzEuVEFOSy5OT1JNQUxfVEFOSzpcbiAgICAgICAgICAgICAgICBpbmRleF8xLkNPTlRFWFQuZHJhd0ltYWdlKENvbnN0YW50c18xLklNQUdFLCAzMiAqIHRoaXMuZGlyZWN0aW9uLCAzMiwgMzIsIDMyLCB0aGlzLmNvb3JkaW5hdGUueCAtIDE2LCB0aGlzLmNvb3JkaW5hdGUueSAtIDE2LCAzMiwgMzIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBDb25zdGFudHNfMS5UQU5LLlNXSUZUX1RBTks6XG4gICAgICAgICAgICAgICAgaW5kZXhfMS5DT05URVhULmRyYXdJbWFnZShDb25zdGFudHNfMS5JTUFHRSwgMzIgKiAoNCArIHRoaXMuZGlyZWN0aW9uKSwgMzIsIDMyLCAzMiwgdGhpcy5jb29yZGluYXRlLnggLSAxNiwgdGhpcy5jb29yZGluYXRlLnkgLSAxNiwgMzIsIDMyKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQ29uc3RhbnRzXzEuVEFOSy5IRUFWWV9UQU5LOlxuICAgICAgICAgICAgICAgIGluZGV4XzEuQ09OVEVYVC5kcmF3SW1hZ2UoQ29uc3RhbnRzXzEuSU1BR0UsIDMyICogKDggKyB0aGlzLmRpcmVjdGlvbiksIDMyICogMiwgMzIsIDMyLCB0aGlzLmNvb3JkaW5hdGUueCAtIDE2LCB0aGlzLmNvb3JkaW5hdGUueSAtIDE2LCAzMiwgMzIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFRhbms7XG59KCkpO1xuZXhwb3J0cy5UYW5rID0gVGFuaztcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5CdWxsZXQgPSB2b2lkIDA7XG52YXIgQ29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi4vQ29uc3RhbnRzXCIpO1xudmFyIGluZGV4XzEgPSByZXF1aXJlKFwiLi4vaW5kZXhcIik7XG52YXIgVGFua18xID0gcmVxdWlyZShcIi4vVGFua1wiKTtcbnZhciBCdWxsZXQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQnVsbGV0KGNvb3JkaW5hdGUsIGRpcmVjdGlvbiwgZGFtYWdlLCBzcGVlZCwgc2hvb3Rlcikge1xuICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IGRpcmVjdGlvbjtcbiAgICAgICAgdGhpcy5zaG9vdGVyID0gc2hvb3RlcjtcbiAgICAgICAgdmFyIHhPZmZzZXQgPSAwO1xuICAgICAgICB2YXIgeU9mZnNldCA9IDA7XG4gICAgICAgIHN3aXRjaCAodGhpcy5kaXJlY3Rpb24pIHtcbiAgICAgICAgICAgIGNhc2UgQ29uc3RhbnRzXzEuRElSRUNUSU9OLlVQOlxuICAgICAgICAgICAgICAgIHlPZmZzZXQgPSAtMjA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIENvbnN0YW50c18xLkRJUkVDVElPTi5ET1dOOlxuICAgICAgICAgICAgICAgIHlPZmZzZXQgPSAyMDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQ29uc3RhbnRzXzEuRElSRUNUSU9OLkxFRlQ6XG4gICAgICAgICAgICAgICAgeE9mZnNldCA9IC0yMDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQ29uc3RhbnRzXzEuRElSRUNUSU9OLlJJR0hUOlxuICAgICAgICAgICAgICAgIHhPZmZzZXQgPSAyMDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb29yZGluYXRlID0ge1xuICAgICAgICAgICAgeDogY29vcmRpbmF0ZS54ICsgeE9mZnNldCxcbiAgICAgICAgICAgIHk6IGNvb3JkaW5hdGUueSArIHlPZmZzZXQsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZGFtYWdlID0gZGFtYWdlO1xuICAgICAgICB0aGlzLmFsaXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zcGVlZCA9IHNwZWVkO1xuICAgICAgICB0aGlzLnJhZGl1cyA9IDE7XG4gICAgfVxuICAgIEJ1bGxldC5wcm90b3R5cGUuYmVBdHRhY2tlZCA9IGZ1bmN0aW9uIChwYXJhbSwgYXR0YWNrZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XG4gICAgfTtcbiAgICBCdWxsZXQucHJvdG90eXBlLm1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmFsaXZlKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBDb25zdGFudHNfMS5ESVJFQ1RJT04uVVA6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvb3JkaW5hdGUueSAtIHRoaXMuc3BlZWQgPD0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb29yZGluYXRlLnkgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5leHBsb3Npb24oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tBbGxPYnN0YWNsZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvb3JkaW5hdGUueSAtPSB0aGlzLnNwZWVkO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIENvbnN0YW50c18xLkRJUkVDVElPTi5ET1dOOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jb29yZGluYXRlLnkgKyB0aGlzLnNwZWVkID49IGluZGV4XzEuQ09OVEVYVC5jYW52YXMuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvb3JkaW5hdGUueSA9IGluZGV4XzEuQ09OVEVYVC5jYW52YXMuaGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5leHBsb3Npb24oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tBbGxPYnN0YWNsZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvb3JkaW5hdGUueSArPSB0aGlzLnNwZWVkO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIENvbnN0YW50c18xLkRJUkVDVElPTi5MRUZUOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jb29yZGluYXRlLnggLSB0aGlzLnNwZWVkIDw9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29vcmRpbmF0ZS54ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXhwbG9zaW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoZWNrQWxsT2JzdGFjbGVzKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb29yZGluYXRlLnggLT0gdGhpcy5zcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBDb25zdGFudHNfMS5ESVJFQ1RJT04uUklHSFQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvb3JkaW5hdGUueCArIHRoaXMuc3BlZWQgPj0gaW5kZXhfMS5DT05URVhULmNhbnZhcy53aWR0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb29yZGluYXRlLnggPSBpbmRleF8xLkNPTlRFWFQuY2FudmFzLndpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5leHBsb3Npb24oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tBbGxPYnN0YWNsZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvb3JkaW5hdGUueCArPSB0aGlzLnNwZWVkO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiVW5leHBlY3RlZCBkaXJlY3Rpb25cIik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBCdWxsZXQucHJvdG90eXBlLmV4cGxvc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5hbGl2ZSA9IGZhbHNlO1xuICAgICAgICBpbmRleF8xLkdBTUUuZXhwbG9zaW9ucy5wdXNoKHtcbiAgICAgICAgICAgIGNvb3JkaW5hdGU6IHRoaXMuY29vcmRpbmF0ZSxcbiAgICAgICAgICAgIHR5cGU6IENvbnN0YW50c18xLkVYUExPU0lPTi5CVUxMRVRfRVhQTE9TSU9OLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEJ1bGxldC5wcm90b3R5cGUuY2hlY2tBbGxPYnN0YWNsZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvYnN0YWNsZXMgPSBpbmRleF8xLkdBTUUudGFua3M7XG4gICAgICAgIG9ic3RhY2xlcyA9IG9ic3RhY2xlcy5jb25jYXQoaW5kZXhfMS5HQU1FLmJ1aWxkaW5ncyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JzdGFjbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAob2JzdGFjbGVzW2ldLmNhbkJ1bGxldFBhc3MpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChCdWxsZXQuaXNIaXQodGhpcy5jb29yZGluYXRlLCBvYnN0YWNsZXNbaV0uY29vcmRpbmF0ZSwgb2JzdGFjbGVzW2ldLnJhZGl1cykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmV4cGxvc2lvbigpO1xuICAgICAgICAgICAgICAgIG9ic3RhY2xlc1tpXS5iZUF0dGFja2VkKHRoaXMsIHRoaXMuc2hvb3Rlcik7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2hvb3Rlci50eXBlID09IENvbnN0YW50c18xLlRBTksuUExBWUVSX1RBTksgJiZcbiAgICAgICAgICAgICAgICAgICAgb2JzdGFjbGVzW2ldIGluc3RhbmNlb2YgVGFua18xLlRhbmspIHtcbiAgICAgICAgICAgICAgICAgICAgQ29uc3RhbnRzXzEuQVVESU8uaGl0LnBsYXkoKS50aGVuKGZ1bmN0aW9uICgpIHsgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBCdWxsZXQucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGluZGV4XzEuQ09OVEVYVC5kcmF3SW1hZ2UoQ29uc3RhbnRzXzEuSU1BR0UsIDYgKiB0aGlzLmRpcmVjdGlvbiArIDgwLCA5NiwgNiwgNiwgdGhpcy5jb29yZGluYXRlLnggLSAzLCB0aGlzLmNvb3JkaW5hdGUueSAtIDMsIDYsIDYpO1xuICAgIH07XG4gICAgQnVsbGV0LmlzSGl0ID0gZnVuY3Rpb24gKGJ1bGxldENvb3JkaW5hdGUsIHRhcmdldENvb3JkaW5hdGUsIHRhcmdldFJhZGl1cykge1xuICAgICAgICByZXR1cm4gKGJ1bGxldENvb3JkaW5hdGUueCA+PSB0YXJnZXRDb29yZGluYXRlLnggLSB0YXJnZXRSYWRpdXMgJiZcbiAgICAgICAgICAgIGJ1bGxldENvb3JkaW5hdGUueCA8PSB0YXJnZXRDb29yZGluYXRlLnggKyB0YXJnZXRSYWRpdXMgJiZcbiAgICAgICAgICAgIGJ1bGxldENvb3JkaW5hdGUueSA+PSB0YXJnZXRDb29yZGluYXRlLnkgLSB0YXJnZXRSYWRpdXMgJiZcbiAgICAgICAgICAgIGJ1bGxldENvb3JkaW5hdGUueSA8PSB0YXJnZXRDb29yZGluYXRlLnkgKyB0YXJnZXRSYWRpdXMpO1xuICAgIH07XG4gICAgQnVsbGV0LnByb3RvdHlwZS5sZXZlbFVwID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIHJldHVybiBCdWxsZXQ7XG59KCkpO1xuZXhwb3J0cy5CdWxsZXQgPSBCdWxsZXQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQnVpbGRpbmcgPSB2b2lkIDA7XG52YXIgQ29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi4vQ29uc3RhbnRzXCIpO1xudmFyIGluZGV4XzEgPSByZXF1aXJlKFwiLi4vaW5kZXhcIik7XG52YXIgQnVpbGRpbmcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQnVpbGRpbmcoY29vcmRpbmF0ZSwgdHlwZSkge1xuICAgICAgICB0aGlzLmNvb3JkaW5hdGUgPSBjb29yZGluYXRlO1xuICAgICAgICB0aGlzLmFsaXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5yYWRpdXMgPSA4O1xuICAgICAgICBzd2l0Y2ggKHRoaXMudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBDb25zdGFudHNfMS5CVUlMRElORy5CUklDSzpcbiAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3lMaW1pdCA9IDEwO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FuVGFua1Bhc3MgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbkJ1bGxldFBhc3MgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQ29uc3RhbnRzXzEuQlVJTERJTkcuQ0VNRU5UOlxuICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveUxpbWl0ID0gMjA7XG4gICAgICAgICAgICAgICAgdGhpcy5jYW5UYW5rUGFzcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FuQnVsbGV0UGFzcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBDb25zdGFudHNfMS5CVUlMRElORy5UUkVFOlxuICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveUxpbWl0ID0gMTAwO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FuVGFua1Bhc3MgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FuQnVsbGV0UGFzcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIENvbnN0YW50c18xLkJVSUxESU5HLldBVEVSOlxuICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveUxpbWl0ID0gMTAwO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FuVGFua1Bhc3MgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbkJ1bGxldFBhc3MgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3lMaW1pdCA9IDEwMDtcbiAgICAgICAgICAgICAgICB0aGlzLmNhblRhbmtQYXNzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbkJ1bGxldFBhc3MgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIEJ1aWxkaW5nLnByb3RvdHlwZS5iZUF0dGFja2VkID0gZnVuY3Rpb24gKGJ1bGxldCwgYXR0YWNrZXIpIHtcbiAgICAgICAgaWYgKGJ1bGxldC5kYW1hZ2UgPj0gdGhpcy5kZXN0cm95TGltaXQpIHtcbiAgICAgICAgICAgIHRoaXMuYWxpdmUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQnVpbGRpbmcucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmFsaXZlKSB7XG4gICAgICAgICAgICBpbmRleF8xLkNPTlRFWFQuZHJhd0ltYWdlKENvbnN0YW50c18xLklNQUdFLCAxNiAqIHRoaXMudHlwZSwgOTYsIDE2LCAxNiwgdGhpcy5jb29yZGluYXRlLnggLSA4LCB0aGlzLmNvb3JkaW5hdGUueSAtIDgsIDE2LCAxNik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEJ1aWxkaW5nLnByb3RvdHlwZS5sZXZlbFVwID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIHJldHVybiBCdWlsZGluZztcbn0oKSk7XG5leHBvcnRzLkJ1aWxkaW5nID0gQnVpbGRpbmc7XG4iXSwic291cmNlUm9vdCI6IiJ9