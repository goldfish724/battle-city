var Game=function(t){var e={};function i(a){if(e[a])return e[a].exports;var o=e[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(a,o,function(e){return t[e]}.bind(null,o));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1)}([function(t,e,i){"use strict";var a,o;Object.defineProperty(e,"__esModule",{value:!0}),e.EXPLOSION_RADIUS=e.BUILDING_RADIUS=e.BULLET_RADIUS=e.TANK_RADIUS=e.EXPLOSION_IMAGE=e.BULLET_IMAGE=e.BUILDING_IMAGE=e.TANK_IMAGE=e.IMAGE=e.CANVAS=e.AUDIO=e.ACTIONS=e.ACTION=e.BUILDINGS=e.BUILDING=e.EXPLOSION=e.DIRECTION=e.ENEMY_TANKS=e.TANK=void 0,function(t){t[t.UP=0]="UP",t[t.DOWN=1]="DOWN",t[t.LEFT=2]="LEFT",t[t.RIGHT=3]="RIGHT"}(a||(a={})),e.DIRECTION=a,function(t){t[t.PLAYER_TANK=0]="PLAYER_TANK",t[t.NORMAL_TANK=1]="NORMAL_TANK",t[t.SWIFT_TANK=2]="SWIFT_TANK",t[t.MEDIUM_TANK=3]="MEDIUM_TANK",t[t.HEAVY_TANK=4]="HEAVY_TANK"}(o||(o={})),e.TANK=o;e.TANK_RADIUS=20;e.BULLET_RADIUS=4;e.BUILDING_RADIUS=8;e.EXPLOSION_RADIUS=16;e.TANK_IMAGE=[[[[4,8,52,52],[68,8,52,52]],[[264,4,52,52],[328,4,52,52]],[[136,4,52,52],[204,4,52,52]],[[392,4,52,52],[460,4,52,52]]],[[[524,264,52,60],[588,264,52,60]],[[780,264,52,60],[844,264,52,60]],[[648,272,60,52],[712,272,60,52]],[[908,268,60,52],[972,268,60,52]]],[[[524,328,52,60],[588,328,52,60]],[[780,332,52,60],[844,332,52,60]],[[648,336,60,52],[712,336,60,52]],[[908,332,60,52],[972,332,60,52]]],[[[524,396,52,60],[588,396,52,60]],[[780,396,52,60],[844,396,52,60]],[[648,404,60,52],[712,404,60,52]],[[908,400,60,52],[972,400,60,52]]],[[[524,460,52,60],[588,460,52,60]],[[780,460,52,60],[844,460,52,60]],[[648,464,60,52],[712,464,60,52]],[[904,464,60,52],[968,464,60,52]]]];var n,s=[o.NORMAL_TANK,o.NORMAL_TANK,o.NORMAL_TANK,o.SWIFT_TANK,o.SWIFT_TANK,o.HEAVY_TANK];e.ENEMY_TANKS=s,function(t){t[t.BULLET_EXPLOSION=0]="BULLET_EXPLOSION",t[t.TANK_EXPLOSION=1]="TANK_EXPLOSION"}(n||(n={})),e.EXPLOSION=n;var r;e.EXPLOSION_IMAGE=[[1064,520,44,44],[1180,512,64,64]],function(t){t[t.BRICK=0]="BRICK",t[t.STEEL=1]="STEEL",t[t.JUNGLE=2]="JUNGLE",t[t.WATER=3]="WATER",t[t.ROAD=4]="ROAD",t[t.NONE=5]="NONE"}(r||(r={})),e.BUILDING=r;e.BULLET_IMAGE=[[1320,408,12,16],[1384,408,12,16],[1348,408,16,12],[1412,408,16,12]];e.BUILDING_IMAGE=[[1052,0,32,32],[1052,64,32,32],[1116,128,32,32],[1052,192,32,32]];var c,l=[r.BRICK,r.STEEL,r.JUNGLE];e.BUILDINGS=l,function(t){t[t.MOVE_UP=0]="MOVE_UP",t[t.MOVE_DOWN=1]="MOVE_DOWN",t[t.MOVE_LEFT=2]="MOVE_LEFT",t[t.MOVE_RIGHT=3]="MOVE_RIGHT",t[t.STAY=4]="STAY",t[t.SHOOT=5]="SHOOT",t[t.DO_NOTHING=6]="DO_NOTHING",t[t.TURN_LEFT=7]="TURN_LEFT",t[t.TURN_RIGHT=8]="TURN_RIGHT",t[t.MOVE=9]="MOVE"}(c||(c={})),e.ACTION=c;var h=[c.TURN_LEFT,c.TURN_RIGHT,c.MOVE,c.STAY,c.SHOOT,c.DO_NOTHING];e.ACTIONS=h;var d=new function(){this.start=document.getElementById("start"),this.collect=document.getElementById("collect"),this.shoot=document.getElementById("shoot"),this.explosion=document.getElementById("explosion"),this.pause=document.getElementById("pause"),this.pick=document.getElementById("pick"),this.level_up=document.getElementById("level_up"),this.idle=document.getElementById("idle"),this.move=document.getElementById("move"),this.hit=document.getElementById("hit"),this.be_hit=document.getElementById("be_hit"),this.game_over=document.getElementById("game_over")};e.AUDIO=d;var I=document.getElementById("canvas");e.CANVAS=I;var u=document.getElementById("sprites");e.IMAGE=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.context=e.GAME=e.main=void 0;var a,o=i(0),n=i(2),s=i(6),r=i(3),c=i(7),l=0,h=!1;e.context=a;var d=!1,I=!1,u=!1,T=!1,O=0,N=0,A={tanks:[],bullets:[],explosions:[],buildings:[]};function E(){var t=new n.Tank({x:a.canvas.width/2,y:a.canvas.height},o.DIRECTION.UP,o.TANK.PLAYER_TANK);A.tanks.unshift(t)}e.GAME=A,e.main=function(){e.context=a=o.CANVAS.getContext("2d"),a.canvas.width=window.innerWidth,a.canvas.height=window.innerHeight,c.buildingsGenerator(),function(){var t=window.localStorage.getItem("state");if(!t)return void E();var e=JSON.parse(t),i=new n.Tank({x:a.canvas.width/2,y:a.canvas.height},o.DIRECTION.UP,o.TANK.PLAYER_TANK);null!=e&&(i.blood=e.blood,i.armor=e.armor,i.speed=e.speed,i.level=e.level,i.bullet.speed=e.bullet.speed,i.bullet.damage=e.bullet.damage);A.tanks.unshift(i)}(),o.AUDIO.start.play().then((function(){})),document.onkeydown=function(t){try{switch(t.code){case"KeyA":d=!0,A.tanks[0].moving=!0,A.tanks[0].direction=o.DIRECTION.LEFT;break;case"KeyD":I=!0,A.tanks[0].moving=!0,A.tanks[0].direction=o.DIRECTION.RIGHT;break;case"KeyW":u=!0,A.tanks[0].moving=!0,A.tanks[0].direction=o.DIRECTION.UP;break;case"KeyS":T=!0,A.tanks[0].moving=!0,A.tanks[0].direction=o.DIRECTION.DOWN;break;case"KeyP":h=!h,o.AUDIO.pause.play().then((function(){}));break;case"Space":A.tanks[0].shoot();break;case"F11":case"KeyR":location.reload();break;case"KeyB":E()}}catch(t){console.log(t.toString())}},document.onmousedown=function(t){0==t.button&&A.tanks[0].shoot()},document.onkeyup=function(t){switch(t.code){case"KeyA":d=!1;break;case"KeyD":I=!1;break;case"KeyW":u=!1;break;case"KeyS":T=!1;break;case"KeyC":A.buildings=[]}T||u||I||d||(A.tanks[0].moving=!1)},document.ontouchstart=function(t){O=t.touches[0].pageX,N=t.touches[0].pageY},document.ontouchend=function(t){var e=t.changedTouches[0].pageX,i=t.changedTouches[0].pageY,a=Math.abs(e-O),n=Math.abs(i-N);A.tanks[0]&&(A.tanks[0].moving=!0,A.tanks[0].shoot()),Math.max(a,n)<30||(A.tanks[0].direction=a>n?e>O?o.DIRECTION.RIGHT:o.DIRECTION.LEFT:i>N?o.DIRECTION.DOWN:o.DIRECTION.UP)},function t(){!function(){var t=A.tanks[0].level;if(h)return;0===l&&Math.random()>.8-t/70&&A.tanks.push(new n.Tank({x:Math.random()*a.canvas.width,y:0},o.DIRECTION.DOWN,r.randomChooseFrom(o.ENEMY_TANKS),r.randomNumber(t/3,t+1)));l+=1,l%=60,function(){for(var t=0;t<A.bullets.length;t++)A.bullets[t].alive||A.bullets.splice(t,1);for(t=0;t<A.bullets.length;t++)A.bullets[t].move()}(),function(){for(var t=0;t<A.buildings.length;t++)A.buildings[t].alive||A.buildings.splice(t,1)}(),function(){for(var t=!1,e=0;e<A.tanks.length;e++)A.tanks[e].alive||(A.explosions.push({coordinate:A.tanks[e].coordinate,type:o.EXPLOSION.TANK_EXPLOSION}),A.tanks.splice(e,1),t=0==e);for(A.tanks[0].move(),A.tanks[0].lastShootCount+=1,e=1;e<A.tanks.length;e++)A.tanks[e].move(),A.tanks[e].lastShootCount+=1;if(l%5==0)for(e=1;e<A.tanks.length;e++){var i=A.tanks[0],a=A.tanks[e];s.AI(a,i)}t&&o.AUDIO.game_over.play().then((function(){E()}))}()}(),function(){a.clearRect(0,0,a.canvas.width,a.canvas.height);var t=A.tanks;t=(t=t.concat(A.bullets)).concat(A.buildings);for(var e=0;e<t.length;e++)r.drawEntity(t[e]);for(e=0;e<A.explosions.length;e++){var i=A.explosions[e];r.drawExplosion(i.type,i.coordinate)}(function(){a.font="20px monospace",a.fillStyle="white";var t=A.tanks[0];a.fillText("blood: "+t.blood.toFixed(1)+" armor: "+t.armor.toFixed(2),20,30),a.fillText("speed: "+t.speed.toFixed(2)+" level: "+Math.floor(t.level),20,50),a.fillText("shoot interval: "+t.shootInterval,20,70),a.fillText("bullet damage: "+t.bullet.damage.toFixed(1)+" bullet speed: "+t.bullet.speed.toFixed(1),20,90)})(),A.explosions=[]}(),window.localStorage.setItem("state",JSON.stringify(A.tanks[0])),requestAnimationFrame(t)}()}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Tank=void 0;var a=i(0),o=i(1),n=i(4),s=function(){function t(t,e,i,o){switch(void 0===o&&(o=1),this.coordinate=t,this.direction=e,this.lastShootCount=0,this.type=i,this.radius=a.TANK_RADIUS,this.shootInterval=60,this.alive=!0,this.moving=!0,this.imageTurn=!0,this.canTankPass=!1,this.canBulletPass=!1,this.actionList=[],this.bullet={damage:5,speed:10},this.armor=.5,this.speed=2.5,this.attackInterval=40,this.level=o,this.type){case a.TANK.PLAYER_TANK:this.basic={blood:20,armor:.5,speed:2.5,attackInterval:45,bulletDamage:8,bulletSpeed:15};break;case a.TANK.NORMAL_TANK:this.basic={blood:10,armor:.5,speed:1.8,attackInterval:45,bulletDamage:6,bulletSpeed:7};break;case a.TANK.SWIFT_TANK:this.basic={blood:7,armor:.35,speed:3,attackInterval:30,bulletDamage:3,bulletSpeed:12};break;case a.TANK.HEAVY_TANK:this.basic={blood:20,armor:.7,speed:.7,attackInterval:60,bulletDamage:10,bulletSpeed:3};break;default:this.basic={blood:10,armor:.6,speed:3,attackInterval:20,bulletDamage:5,bulletSpeed:15},console.error("Unexpected tank type: "+this.type)}this.blood=this.basic.blood,this.calculateAttributes()}return t.prototype.calculateAttributes=function(){this.blood=Math.min(this.basic.blood+30,this.blood+2),this.speed=Math.min(this.basic.speed+8,this.basic.speed+.05*this.level),this.armor=Math.min(.8,this.basic.armor+.01*this.level),this.bullet.speed=Math.min(this.basic.speed+15,this.basic.bulletSpeed+.1*this.level),this.bullet.damage=Math.min(this.basic.bulletDamage+25,this.basic.bulletDamage+.3*this.level),this.shootInterval=Math.max(this.basic.attackInterval-20,this.basic.attackInterval-this.level)},t.prototype.levelUp=function(){this.level++,this.calculateAttributes()},t.prototype.beAttacked=function(t,e){this.blood-=Math.max(1,t.damage*(1-this.armor)),this.blood<=0&&(this.blood=0,this.alive=!1,a.AUDIO.explosion.play().then((function(){})),e.levelUp())},t.prototype.move=function(){if(this.moving){var e=o.GAME.tanks;e=e.concat(o.GAME.buildings);var i=0,n=0;switch(this.direction){case a.DIRECTION.UP:n=-this.speed;break;case a.DIRECTION.DOWN:n=this.speed;break;case a.DIRECTION.LEFT:i=-this.speed;break;case a.DIRECTION.RIGHT:i=this.speed}this.coordinate.x+=i,this.coordinate.y+=n;for(var s=0;s<e.length;s++)if(!e[s].canTankPass&&Math.abs(this.coordinate.y-e[s].coordinate.y)<this.radius+e[s].radius&&this.coordinate!==e[s].coordinate&&Math.abs(this.coordinate.x-e[s].coordinate.x)<this.radius+e[s].radius){!0,this.coordinate.x-=i,this.coordinate.y-=n;break}this.coordinate=t.bound(this.coordinate,this.radius)}},t.bound=function(t,e){return t.x<e?t.x=e:t.x+e>o.context.canvas.width&&(t.x=o.context.canvas.width-e),t.y<e?t.y=e:t.y+e>o.context.canvas.height&&(t.y=o.context.canvas.height-e),t},t.prototype.shoot=function(){this.lastShootCount>=this.shootInterval&&(o.GAME.bullets.push(new n.Bullet(this.coordinate,this.direction,this.bullet.damage,this.bullet.speed,this)),this.lastShootCount=0,this.type===a.TANK.PLAYER_TANK&&a.AUDIO.shoot.play().then((function(){})))},t}();e.Tank=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.drawExplosion=e.drawEntity=e.randomNumber=e.randomChooseFrom=void 0;var a=i(1),o=i(0),n=i(2),s=i(5),r=i(4);e.randomChooseFrom=function(t){return t[Math.floor(Math.random()*t.length)]},e.randomNumber=function(t,e){return Math.floor(Math.random()*(e-t))+t},e.drawEntity=function(t){var e,i=t.coordinate.x,c=t.coordinate.y,l=16,h=16;t instanceof n.Tank?(t.moving&&(t.imageTurn=!t.imageTurn),e=o.TANK_IMAGE[t.type][t.direction][Number(t.imageTurn)],l=2*o.TANK_RADIUS,h=2*o.TANK_RADIUS):t instanceof s.Building?(e=o.BUILDING_IMAGE[t.type],l=2*o.BUILDING_RADIUS,h=2*o.BUILDING_RADIUS):t instanceof r.Bullet&&(e=o.BULLET_IMAGE[t.direction],l=2*o.BULLET_RADIUS,h=2*o.BULLET_RADIUS),a.context.drawImage(o.IMAGE,e[0],e[1],e[2],e[3],i-l/2,c-h/2,l,h)},e.drawExplosion=function(t,e){var i=o.EXPLOSION_IMAGE[t];a.context.drawImage(o.IMAGE,i[0],i[1],i[2],i[3],e.x-i[2]/2,e.y-i[3]/2,i[2],i[3])}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Bullet=void 0;var a=i(0),o=i(1),n=i(2),s=function(){function t(t,e,i,o,n){this.direction=e,this.shooter=n,this.canBulletPass=!1,this.canTankPass=!1;var s=0,r=0;switch(this.direction){case a.DIRECTION.UP:r=-20;break;case a.DIRECTION.DOWN:r=20;break;case a.DIRECTION.LEFT:s=-20;break;case a.DIRECTION.RIGHT:s=20}this.coordinate={x:t.x+s,y:t.y+r},this.damage=i,this.alive=!0,this.speed=o,this.radius=a.BULLET_RADIUS}return t.prototype.move=function(){if(this.alive)switch(this.direction){case a.DIRECTION.UP:this.coordinate.y-this.speed<=0?(this.coordinate.y=0,this.explosion()):this.checkAllObstacles(),this.coordinate.y-=this.speed;break;case a.DIRECTION.DOWN:this.coordinate.y+this.speed>=o.context.canvas.height?(this.coordinate.y=o.context.canvas.height,this.explosion()):this.checkAllObstacles(),this.coordinate.y+=this.speed;break;case a.DIRECTION.LEFT:this.coordinate.x-this.speed<=0?(this.coordinate.x=0,this.explosion()):this.checkAllObstacles(),this.coordinate.x-=this.speed;break;case a.DIRECTION.RIGHT:this.coordinate.x+this.speed>=o.context.canvas.width?(this.coordinate.x=o.context.canvas.width,this.explosion()):this.checkAllObstacles(),this.coordinate.x+=this.speed;break;default:console.error("Unexpected direction")}},t.prototype.explosion=function(){this.alive=!1,o.GAME.explosions.push({coordinate:this.coordinate,type:a.EXPLOSION.BULLET_EXPLOSION})},t.prototype.checkAllObstacles=function(){var e=o.GAME.tanks;e=e.concat(o.GAME.buildings);for(var i=0;i<e.length;i++)if(!e[i].canBulletPass&&e[i]!=this.shooter&&t.isHit(this.coordinate,e[i].coordinate,e[i].radius)){this.explosion(),e[i].beAttacked(this,this.shooter),e[i]instanceof n.Tank&&(this.shooter.type==a.TANK.PLAYER_TANK?a.AUDIO.hit.play().then((function(){})):e[i].type==a.TANK.PLAYER_TANK&&a.AUDIO.be_hit.play().then((function(){})));break}},t.prototype.beAttacked=function(t,e){throw new Error("Method not implemented.")},t.isHit=function(t,e,i){return t.x>=e.x-i&&t.x<=e.x+i&&t.y>=e.y-i&&t.y<=e.y+i},t.prototype.levelUp=function(){},t}();e.Bullet=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Building=void 0;var a=i(0),o=function(){function t(t,e){switch(this.coordinate=t,this.alive=!0,this.type=e,this.radius=a.BUILDING_RADIUS,this.type){case a.BUILDING.BRICK:this.destroyLimit=10,this.canTankPass=!1,this.canBulletPass=!1;break;case a.BUILDING.STEEL:this.destroyLimit=20,this.canTankPass=!1,this.canBulletPass=!1;break;case a.BUILDING.JUNGLE:this.destroyLimit=100,this.canTankPass=!0,this.canBulletPass=!0;break;case a.BUILDING.WATER:this.destroyLimit=100,this.canTankPass=!1,this.canBulletPass=!0;break;default:this.destroyLimit=100,this.canTankPass=!0,this.canBulletPass=!0}}return t.prototype.beAttacked=function(t,e){t.damage>=this.destroyLimit&&(this.alive=!1)},t.prototype.levelUp=function(){},t}();e.Building=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AI=void 0;var a=i(0),o=i(3);e.AI=function(t,e){switch(t.actionList.pop()){case a.ACTION.MOVE_UP:t.moving=!0,t.direction=a.DIRECTION.UP;break;case a.ACTION.MOVE_DOWN:t.moving=!0,t.direction=a.DIRECTION.DOWN;break;case a.ACTION.MOVE_LEFT:t.moving=!0,t.direction=a.DIRECTION.LEFT;break;case a.ACTION.MOVE_RIGHT:t.moving=!0,t.direction=a.DIRECTION.RIGHT;break;case a.ACTION.STAY:t.moving=!1;break;case a.ACTION.MOVE:t.moving=!0;break;case a.ACTION.SHOOT:t.shoot();break;case a.ACTION.DO_NOTHING:break;case a.ACTION.TURN_LEFT:t.direction+=2,t.direction%=4;break;case a.ACTION.TURN_RIGHT:switch(t.direction){case a.DIRECTION.DOWN:t.direction=a.DIRECTION.LEFT;break;case a.DIRECTION.UP:t.direction=a.DIRECTION.RIGHT;break;case a.DIRECTION.LEFT:t.direction=a.DIRECTION.UP;break;case a.DIRECTION.RIGHT:t.direction=a.DIRECTION.DOWN}break;default:t.moving=!0;var i=!1;if(Math.abs(t.coordinate.x-e.coordinate.x)<e.radius&&t.direction==a.DIRECTION.UP&&(t.coordinate.y>=e.coordinate.y?t.actionList.push(a.ACTION.SHOOT):t.actionList.push(a.ACTION.TURN_RIGHT),i=!0),Math.abs(t.coordinate.y-e.coordinate.y)<e.radius&&t.direction==a.DIRECTION.LEFT&&(t.coordinate.x>=e.coordinate.x?t.actionList.push(a.ACTION.SHOOT):t.actionList.push(a.ACTION.TURN_LEFT),i=!0),i)return;var n=Math.random();n<.4?(t.actionList.push(o.randomChooseFrom(a.ACTIONS)),t.actionList.concat([a.ACTION.SHOOT,a.ACTION.SHOOT,a.ACTION.SHOOT,a.ACTION.SHOOT,a.ACTION.DO_NOTHING,a.ACTION.DO_NOTHING,a.ACTION.DO_NOTHING,a.ACTION.SHOOT])):n<.7?(Math.floor(100*n)%2==0?t.coordinate.x<e.coordinate.x?t.actionList.push(a.ACTION.MOVE_RIGHT):t.actionList.push(a.ACTION.MOVE_LEFT):t.coordinate.y<e.coordinate.y?t.actionList.push(a.ACTION.MOVE_DOWN):t.actionList.push(a.ACTION.MOVE_UP),t.actionList.concat([a.ACTION.SHOOT,a.ACTION.SHOOT])):n<.75?t.actionList.concat([a.ACTION.MOVE_UP,a.ACTION.DO_NOTHING,a.ACTION.SHOOT,a.ACTION.DO_NOTHING,a.ACTION.SHOOT]):n<.8?t.actionList.concat([a.ACTION.MOVE_LEFT,a.ACTION.DO_NOTHING,a.ACTION.SHOOT,a.ACTION.DO_NOTHING,a.ACTION.SHOOT]):n<.85?t.actionList.concat([a.ACTION.MOVE_RIGHT,a.ACTION.DO_NOTHING,a.ACTION.SHOOT,a.ACTION.DO_NOTHING,a.ACTION.SHOOT]):n<.9?t.actionList.concat([a.ACTION.MOVE_DOWN,a.ACTION.DO_NOTHING,a.ACTION.SHOOT,a.ACTION.DO_NOTHING,a.ACTION.SHOOT]):t.actionList.push(a.ACTION.SHOOT)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildingsGenerator=void 0;var a,o,n=i(0),s=i(5),r=i(1),c=i(3),l=[];function h(t,e,i){var a={x:i.x,y:e.y},o={x:e.x,y:i.y};d(t,e,a),d(t,e,o),d(t,o,i),d(t,a,i)}function d(t,e,i){if(!(Math.max(Math.abs(e.x-i.x),Math.abs(e.y-i.y))<=2))if(Math.abs(e.x-i.x)>Math.abs(e.y-i.y)){if(e.x>i.x){var a=i;i=e,e=a}for(var o=e.x;o<=i.x;o++){var n=I(o);r=u(r=e.y+(i.y-e.y)*((o-e.x)/(i.x-e.x))),l[n][r]=t}}else{if(e.y>i.y){a=i;i=e,e=a}for(var s=e.y;s<=i.y;s++){var r=u(s);n=I(n=e.x+(i.x-e.x)*((s-e.y)/(i.y-e.y))),l[n][r]=t}}}function I(t){return(t=Math.floor(t))<0?0:t>=a?a-1:t}function u(t){return(t=Math.floor(t))<0?0:t>=o?o-1:t}e.buildingsGenerator=function(){a=Math.floor(r.context.canvas.width/16),o=Math.floor(r.context.canvas.height/16);for(var t=0;t<a;t++){for(var e=[],i=0;i<o;i++)e.push(n.BUILDING.NONE);l.push(e)}var d,I;for(d=c.randomNumber(8,12),I=c.randomNumber(12,18),h(n.BUILDING.STEEL,{x:d+2,y:o/2+6},{x:a/2,y:o-d}),h(n.BUILDING.BRICK,{x:d,y:d},{x:a/2,y:o/2}),h(n.BUILDING.BRICK,{x:a/2+4,y:I+5},{x:a-I,y:o-I}),t=0;t<a;t++)for(i=0;i<o;i++){var u=l[t][i];u!=n.BUILDING.NONE&&r.GAME.buildings.push(new s.Building({x:16*t,y:16*i},u))}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HYW1lL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL0dhbWUvLi9zcmMvQ29uc3RhbnRzLnRzIiwid2VicGFjazovL0dhbWUvLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vR2FtZS8uL3NyYy9tb2RlbHMvVGFuay50cyIsIndlYnBhY2s6Ly9HYW1lLy4vc3JjL1V0aWxzLnRzIiwid2VicGFjazovL0dhbWUvLi9zcmMvbW9kZWxzL0J1bGxldC50cyIsIndlYnBhY2s6Ly9HYW1lLy4vc3JjL21vZGVscy9CdWlsZGluZy50cyIsIndlYnBhY2s6Ly9HYW1lLy4vc3JjL0FJLnRzIiwid2VicGFjazovL0dhbWUvLi9zcmMvTWFwR2VuZXJhdG9yLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiRElSRUNUSU9OIiwiVEFOSyIsIlRBTktfUkFESVVTIiwiQlVMTEVUX1JBRElVUyIsIkJVSUxESU5HX1JBRElVUyIsIkVYUExPU0lPTl9SQURJVVMiLCJUQU5LX0lNQUdFIiwiRVhQTE9TSU9OIiwiRU5FTVlfVEFOS1MiLCJOT1JNQUxfVEFOSyIsIlNXSUZUX1RBTksiLCJIRUFWWV9UQU5LIiwiQlVJTERJTkciLCJFWFBMT1NJT05fSU1BR0UiLCJCVUxMRVRfSU1BR0UiLCJCVUlMRElOR19JTUFHRSIsIkFDVElPTiIsIkJVSUxESU5HUyIsIkJSSUNLIiwiU1RFRUwiLCJKVU5HTEUiLCJBQ1RJT05TIiwiVFVSTl9MRUZUIiwiVFVSTl9SSUdIVCIsIk1PVkUiLCJTVEFZIiwiU0hPT1QiLCJET19OT1RISU5HIiwiQVVESU8iLCJzdGFydCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJjb2xsZWN0Iiwic2hvb3QiLCJleHBsb3Npb24iLCJwYXVzZSIsInBpY2siLCJsZXZlbF91cCIsImlkbGUiLCJtb3ZlIiwiaGl0IiwiYmVfaGl0IiwiZ2FtZV9vdmVyIiwiQ0FOVkFTIiwiSU1BR0UiLCJjb250ZXh0IiwiY291bnQiLCJwYXVzZWQiLCJrZXlBRG93biIsImtleUREb3duIiwia2V5V0Rvd24iLCJrZXlTRG93biIsInRvdWNoUG9pbnRYIiwidG91Y2hQb2ludFkiLCJHQU1FIiwidGFua3MiLCJidWxsZXRzIiwiZXhwbG9zaW9ucyIsImJ1aWxkaW5ncyIsImdlbmVyYXRlUGxheVRhbmsiLCJ0YW5rIiwiVGFuayIsIngiLCJjYW52YXMiLCJ3aWR0aCIsInkiLCJoZWlnaHQiLCJVUCIsIlBMQVlFUl9UQU5LIiwidW5zaGlmdCIsIm1haW4iLCJnZXRDb250ZXh0Iiwid2luZG93IiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiYnVpbGRpbmdzR2VuZXJhdG9yIiwiZGF0YSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzdGF0ZSIsIkpTT04iLCJwYXJzZSIsImJsb29kIiwiYXJtb3IiLCJzcGVlZCIsImxldmVsIiwiYnVsbGV0IiwiZGFtYWdlIiwibG9hZFBsYXllclRhbmsiLCJwbGF5IiwidGhlbiIsIm9ua2V5ZG93biIsImUiLCJjb2RlIiwibW92aW5nIiwiZGlyZWN0aW9uIiwiTEVGVCIsIlJJR0hUIiwiRE9XTiIsImxvY2F0aW9uIiwicmVsb2FkIiwiY29uc29sZSIsImxvZyIsInRvU3RyaW5nIiwib25tb3VzZWRvd24iLCJidXR0b24iLCJvbmtleXVwIiwib250b3VjaHN0YXJ0IiwidG91Y2hlcyIsInBhZ2VYIiwicGFnZVkiLCJvbnRvdWNoZW5kIiwiZW5kVG91Y2hQb2ludFgiLCJjaGFuZ2VkVG91Y2hlcyIsImVuZFRvdWNoUG9pbnRZIiwiZGVsdGFYIiwiTWF0aCIsImFicyIsImRlbHRhWSIsIm1heCIsInRpY2siLCJwbGF5ZXJMZXZlbCIsInJhbmRvbSIsInB1c2giLCJyYW5kb21DaG9vc2VGcm9tIiwicmFuZG9tTnVtYmVyIiwibGVuZ3RoIiwiYWxpdmUiLCJzcGxpY2UiLCJ1cGRhdGVCdWxsZXRzIiwidXBkYXRlQnVpbGRpbmdzIiwiaXNQbGF5ZXJEaWVkIiwiY29vcmRpbmF0ZSIsInR5cGUiLCJUQU5LX0VYUExPU0lPTiIsImxhc3RTaG9vdENvdW50IiwicGxheWVyVGFuayIsImVuZW15VGFuayIsIkFJIiwidXBkYXRlVGFua3MiLCJ1cGRhdGUiLCJjbGVhclJlY3QiLCJvYmplY3RzIiwiY29uY2F0IiwiZHJhd0VudGl0eSIsImRyYXdFeHBsb3Npb24iLCJmb250IiwiZmlsbFN0eWxlIiwicGxheWVyIiwiZmlsbFRleHQiLCJ0b0ZpeGVkIiwiZmxvb3IiLCJzaG9vdEludGVydmFsIiwic2hvd1N0YXR1cyIsImRyYXciLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwidGhpcyIsInJhZGl1cyIsImltYWdlVHVybiIsImNhblRhbmtQYXNzIiwiY2FuQnVsbGV0UGFzcyIsImFjdGlvbkxpc3QiLCJhdHRhY2tJbnRlcnZhbCIsImJhc2ljIiwiYnVsbGV0RGFtYWdlIiwiYnVsbGV0U3BlZWQiLCJlcnJvciIsImNhbGN1bGF0ZUF0dHJpYnV0ZXMiLCJtaW4iLCJsZXZlbFVwIiwiYmVBdHRhY2tlZCIsImF0dGFja2VyIiwib2JzdGFjbGVzIiwieERlbHRhIiwieURlbHRhIiwiYm91bmQiLCJCdWxsZXQiLCJhcnJheSIsImVuZCIsImVudGl0eSIsInJlY3QiLCJOdW1iZXIiLCJCdWlsZGluZyIsImRyYXdJbWFnZSIsInNob290ZXIiLCJ4T2Zmc2V0IiwieU9mZnNldCIsImNoZWNrQWxsT2JzdGFjbGVzIiwiQlVMTEVUX0VYUExPU0lPTiIsImlzSGl0IiwicGFyYW0iLCJFcnJvciIsImJ1bGxldENvb3JkaW5hdGUiLCJ0YXJnZXRDb29yZGluYXRlIiwidGFyZ2V0UmFkaXVzIiwiZGVzdHJveUxpbWl0IiwiV0FURVIiLCJhZ2VudCIsInRhcmdldCIsInBvcCIsIk1PVkVfVVAiLCJNT1ZFX0RPV04iLCJNT1ZFX0xFRlQiLCJNT1ZFX1JJR0hUIiwicm93TnVtIiwiY29sTnVtIiwibWFwIiwiZ2VuZXJhdGVCbG9jayIsImJ1aWxkaW5nVHlwZSIsInN0YXJ0UG9pbnQiLCJlbmRQb2ludCIsInVwUmlnaHQiLCJib3R0b21MZWZ0IiwiZ2VuZXJhdGVMaW5lIiwidGVtcCIsInN0YXJ0WCIsInNhZmVYIiwic2FmZVkiLCJzdGFydFkiLCJyb3ciLCJjb2wiLCJOT05FIiwiaiIsImN1cnJlbnRCdWlsZGluZyJdLCJtYXBwaW5ncyI6InFCQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQTBEZixPQXJEQUYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRckIsRUFBb0JxQixJQUMvQixFQUFQRSxFQUFVLE9BQU9GLEVBQ3BCLEdBQVcsRUFBUEUsR0FBOEIsaUJBQVZGLEdBQXNCQSxHQUFTQSxFQUFNRyxXQUFZLE9BQU9ILEVBQ2hGLElBQUlJLEVBQUtYLE9BQU9ZLE9BQU8sTUFHdkIsR0FGQTFCLEVBQW9Ca0IsRUFBRU8sR0FDdEJYLE9BQU9DLGVBQWVVLEVBQUksVUFBVyxDQUFFVCxZQUFZLEVBQU1LLE1BQU9BLElBQ3RELEVBQVBFLEdBQTRCLGlCQUFURixFQUFtQixJQUFJLElBQUlNLEtBQU9OLEVBQU9yQixFQUFvQlUsRUFBRWUsRUFBSUUsRUFBSyxTQUFTQSxHQUFPLE9BQU9OLEVBQU1NLElBQVFDLEtBQUssS0FBTUQsSUFDOUksT0FBT0YsR0FJUnpCLEVBQW9CNkIsRUFBSSxTQUFTMUIsR0FDaEMsSUFBSVMsRUFBU1QsR0FBVUEsRUFBT3FCLFdBQzdCLFdBQXdCLE9BQU9yQixFQUFnQixTQUMvQyxXQUE4QixPQUFPQSxHQUV0QyxPQURBSCxFQUFvQlUsRUFBRUUsRUFBUSxJQUFLQSxHQUM1QkEsR0FJUlosRUFBb0JhLEVBQUksU0FBU2lCLEVBQVFDLEdBQVksT0FBT2pCLE9BQU9rQixVQUFVQyxlQUFlMUIsS0FBS3VCLEVBQVFDLElBR3pHL0IsRUFBb0JrQyxFQUFJLEdBSWpCbEMsRUFBb0JBLEVBQW9CbUMsRUFBSSxHLCtCQ2xGckQsSUFBS0MsRUFPQUMsRSwwU0FQTCxTQUFLRCxHQUNILGVBQ0EsbUJBQ0EsbUJBQ0EscUJBSkYsQ0FBS0EsTUFBUyxLQXlNWixFQUFBQSxZQWxNRixTQUFLQyxHQUNILGlDQUNBLGlDQUNBLCtCQUNBLGlDQUNBLCtCQUxGLENBQUtBLE1BQUksS0FnTVAsRUFBQUEsT0FlQSxFQUFBQyxZQXZNa0IsR0F3TWxCLEVBQUFDLGNBdk1vQixFQXdNcEIsRUFBQUMsZ0JBdk1zQixFQXdNdEIsRUFBQUMsaUJBdk11QixHQWdNdkIsRUFBQUMsV0E3TGlCLENBQ2pCLENBQ0UsQ0FDRSxDQUFDLEVBQUcsRUFBRyxHQUFJLElBQ1gsQ0FBQyxHQUFJLEVBQUcsR0FBSSxLQUVkLENBQ0UsQ0FBQyxJQUFLLEVBQUcsR0FBSSxJQUNiLENBQUMsSUFBSyxFQUFHLEdBQUksS0FFZixDQUNFLENBQUMsSUFBSyxFQUFHLEdBQUksSUFDYixDQUFDLElBQUssRUFBRyxHQUFJLEtBRWYsQ0FDRSxDQUFDLElBQUssRUFBRyxHQUFJLElBQ2IsQ0FBQyxJQUFLLEVBQUcsR0FBSSxNQUdqQixDQUNFLENBQ0UsQ0FBQyxJQUFLLElBQUssR0FBSSxJQUNmLENBQUMsSUFBSyxJQUFLLEdBQUksS0FFakIsQ0FDRSxDQUFDLElBQUssSUFBSyxHQUFJLElBQ2YsQ0FBQyxJQUFLLElBQUssR0FBSSxLQUVqQixDQUNFLENBQUMsSUFBSyxJQUFLLEdBQUksSUFDZixDQUFDLElBQUssSUFBSyxHQUFJLEtBRWpCLENBQ0UsQ0FBQyxJQUFLLElBQUssR0FBSSxJQUNmLENBQUMsSUFBSyxJQUFLLEdBQUksTUFHbkIsQ0FDRSxDQUNFLENBQUMsSUFBSyxJQUFLLEdBQUksSUFDZixDQUFDLElBQUssSUFBSyxHQUFJLEtBRWpCLENBQ0UsQ0FBQyxJQUFLLElBQUssR0FBSSxJQUNmLENBQUMsSUFBSyxJQUFLLEdBQUksS0FFakIsQ0FDRSxDQUFDLElBQUssSUFBSyxHQUFJLElBQ2YsQ0FBQyxJQUFLLElBQUssR0FBSSxLQUVqQixDQUNFLENBQUMsSUFBSyxJQUFLLEdBQUksSUFDZixDQUFDLElBQUssSUFBSyxHQUFJLE1BR25CLENBQ0UsQ0FDRSxDQUFDLElBQUssSUFBSyxHQUFJLElBQ2YsQ0FBQyxJQUFLLElBQUssR0FBSSxLQUVqQixDQUNFLENBQUMsSUFBSyxJQUFLLEdBQUksSUFDZixDQUFDLElBQUssSUFBSyxHQUFJLEtBRWpCLENBQ0UsQ0FBQyxJQUFLLElBQUssR0FBSSxJQUNmLENBQUMsSUFBSyxJQUFLLEdBQUksS0FFakIsQ0FDRSxDQUFDLElBQUssSUFBSyxHQUFJLElBQ2YsQ0FBQyxJQUFLLElBQUssR0FBSSxNQUduQixDQUNFLENBQ0UsQ0FBQyxJQUFLLElBQUssR0FBSSxJQUNmLENBQUMsSUFBSyxJQUFLLEdBQUksS0FFakIsQ0FDRSxDQUFDLElBQUssSUFBSyxHQUFJLElBQ2YsQ0FBQyxJQUFLLElBQUssR0FBSSxLQUVqQixDQUNFLENBQUMsSUFBSyxJQUFLLEdBQUksSUFDZixDQUFDLElBQUssSUFBSyxHQUFJLEtBRWpCLENBQ0UsQ0FBQyxJQUFLLElBQUssR0FBSSxJQUNmLENBQUMsSUFBSyxJQUFLLEdBQUksT0FLckIsSUFTS0MsRUFUQ0MsRUFBYyxDQUNsQlAsRUFBS1EsWUFDTFIsRUFBS1EsWUFDTFIsRUFBS1EsWUFDTFIsRUFBS1MsV0FDTFQsRUFBS1MsV0FDTFQsRUFBS1UsWUFnRkwsRUFBQUgsY0E3RUYsU0FBS0QsR0FDSCwyQ0FDQSx1Q0FGRixDQUFLQSxNQUFTLEtBK0VaLEVBQUFBLFlBMUVGLElBS0tLLEVBZ0ZILEVBQUFDLGdCQXJGc0IsQ0FDdEIsQ0FBQyxLQUFNLElBQUssR0FBSSxJQUNoQixDQUFDLEtBQU0sSUFBSyxHQUFJLEtBR2xCLFNBQUtELEdBQ0gscUJBQ0EscUJBQ0EsdUJBQ0EscUJBQ0EsbUJBQ0EsbUJBTkYsQ0FBS0EsTUFBUSxLQXNFWCxFQUFBQSxXQVNBLEVBQUFFLGFBdkVtQixDQUNuQixDQUFDLEtBQU0sSUFBSyxHQUFJLElBQ2hCLENBQUMsS0FBTSxJQUFLLEdBQUksSUFDaEIsQ0FBQyxLQUFNLElBQUssR0FBSSxJQUNoQixDQUFDLEtBQU0sSUFBSyxHQUFJLEtBa0VoQixFQUFBQyxlQS9EcUIsQ0FDckIsQ0FBQyxLQUFNLEVBQUcsR0FBSSxJQUNkLENBQUMsS0FBTSxHQUFJLEdBQUksSUFDZixDQUFDLEtBQU0sSUFBSyxHQUFJLElBQ2hCLENBQUMsS0FBTSxJQUFLLEdBQUksS0FHbEIsSUFFS0MsRUFGQ0MsRUFBWSxDQUFDTCxFQUFTTSxNQUFPTixFQUFTTyxNQUFPUCxFQUFTUSxRQWlEMUQsRUFBQUgsWUEvQ0YsU0FBS0QsR0FDSCx5QkFDQSw2QkFDQSw2QkFDQSwrQkFDQSxtQkFDQSxxQkFDQSwrQkFDQSw2QkFDQSwrQkFDQSxtQkFWRixDQUFLQSxNQUFNLEtBZ0RULEVBQUFBLFNBbkNGLElBQU1LLEVBQVUsQ0FDZEwsRUFBT00sVUFDUE4sRUFBT08sV0FDUFAsRUFBT1EsS0FDUFIsRUFBT1MsS0FDUFQsRUFBT1UsTUFDUFYsRUFBT1csWUE4QlAsRUFBQU4sVUEzQkYsSUFlTU8sRUFBUSxJQWZkLFdBQ0UsS0FBQUMsTUFBMEJDLFNBQVNDLGVBQWUsU0FDbEQsS0FBQUMsUUFBNEJGLFNBQVNDLGVBQWUsV0FDcEQsS0FBQUUsTUFBMEJILFNBQVNDLGVBQWUsU0FDbEQsS0FBQUcsVUFBOEJKLFNBQVNDLGVBQWUsYUFDdEQsS0FBQUksTUFBMEJMLFNBQVNDLGVBQWUsU0FDbEQsS0FBQUssS0FBeUJOLFNBQVNDLGVBQWUsUUFDakQsS0FBQU0sU0FBNkJQLFNBQVNDLGVBQWUsWUFDckQsS0FBQU8sS0FBeUJSLFNBQVNDLGVBQWUsUUFDakQsS0FBQVEsS0FBeUJULFNBQVNDLGVBQWUsUUFDakQsS0FBQVMsSUFBd0JWLFNBQVNDLGVBQWUsT0FDaEQsS0FBQVUsT0FBMkJYLFNBQVNDLGVBQWUsVUFDbkQsS0FBQVcsVUFBOEJaLFNBQVNDLGVBQWUsY0FnQnRELEVBQUFILFFBWkYsSUFBTWUsRUFBNEJiLFNBQVNDLGVBQWUsVUFheEQsRUFBQVksU0FaRixJQUFNQyxFQUEwQmQsU0FBU0MsZUFBZSxXQWF0RCxFQUFBYSxTLDZHQ2pORixJQTBCSUMsRUExQkosT0FVQSxPQUtBLE9BQ0EsT0FNQSxPQUVJQyxFQUFRLEVBQ1JDLEdBQVMsRUErU1EsRUFBQUYsVUE1U3JCLElBQUlHLEdBQW9CLEVBQ3BCQyxHQUFvQixFQUNwQkMsR0FBb0IsRUFDcEJDLEdBQW9CLEVBRXBCQyxFQUFjLEVBQ2RDLEVBQWMsRUFFWkMsRUFLRixDQUNGQyxNQUFPLEdBQ1BDLFFBQVMsR0FDVEMsV0FBWSxHQUNaQyxVQUFXLElBb0JiLFNBQVNDLElBQ1AsSUFBSUMsRUFBTyxJQUFJLEVBQUFDLEtBQ2IsQ0FBRUMsRUFBR2pCLEVBQVFrQixPQUFPQyxNQUFRLEVBQUdDLEVBQUdwQixFQUFRa0IsT0FBT0csUUFDakQsRUFBQWxFLFVBQVVtRSxHQUNWLEVBQUFsRSxLQUFLbUUsYUFFUGQsRUFBS0MsTUFBTWMsUUFBUVQsR0FpUU4sRUFBQU4sT0FBTixFQUFBZ0IsS0F4UlQsV0FDRSxFQUFBekIsVUFBVSxFQUFBRixPQUFPNEIsV0FBVyxNQUM1QjFCLEVBQVFrQixPQUFPQyxNQUFRUSxPQUFPQyxXQUM5QjVCLEVBQVFrQixPQUFPRyxPQUFTTSxPQUFPRSxZQUMvQixFQUFBQyxxQkEwQkYsV0FDRSxJQUFJQyxFQUFPSixPQUFPSyxhQUFhQyxRQUFRLFNBQ3ZDLElBQUtGLEVBRUgsWUFEQWpCLElBR0YsSUFBSW9CLEVBQVFDLEtBQUtDLE1BQU1MLEdBQ25CaEIsRUFBTyxJQUFJLEVBQUFDLEtBQ2IsQ0FBRUMsRUFBR2pCLEVBQVFrQixPQUFPQyxNQUFRLEVBQUdDLEVBQUdwQixFQUFRa0IsT0FBT0csUUFDakQsRUFBQWxFLFVBQVVtRSxHQUNWLEVBQUFsRSxLQUFLbUUsYUFFTSxNQUFUVyxJQUNGbkIsRUFBS3NCLE1BQVFILEVBQU1HLE1BQ25CdEIsRUFBS3VCLE1BQVFKLEVBQU1JLE1BQ25CdkIsRUFBS3dCLE1BQVFMLEVBQU1LLE1BQ25CeEIsRUFBS3lCLE1BQVFOLEVBQU1NLE1BQ25CekIsRUFBSzBCLE9BQU9GLE1BQVFMLEVBQU1PLE9BQU9GLE1BQ2pDeEIsRUFBSzBCLE9BQU9DLE9BQVNSLEVBQU1PLE9BQU9DLFFBRXBDakMsRUFBS0MsTUFBTWMsUUFBUVQsR0E3Q25CNEIsR0FDQSxFQUFBNUQsTUFBTUMsTUFBTTRELE9BQU9DLE1BQUssZUFvS3hCNUQsU0FBUzZELFVBQVksU0FBVUMsR0FDN0IsSUFDRSxPQUFRQSxFQUFFQyxNQUNSLElBQUssT0FDSDdDLEdBQVcsRUFDWE0sRUFBS0MsTUFBTSxHQUFHdUMsUUFBUyxFQUN2QnhDLEVBQUtDLE1BQU0sR0FBR3dDLFVBQVksRUFBQS9GLFVBQVVnRyxLQUNwQyxNQUNGLElBQUssT0FDSC9DLEdBQVcsRUFDWEssRUFBS0MsTUFBTSxHQUFHdUMsUUFBUyxFQUN2QnhDLEVBQUtDLE1BQU0sR0FBR3dDLFVBQVksRUFBQS9GLFVBQVVpRyxNQUNwQyxNQUNGLElBQUssT0FDSC9DLEdBQVcsRUFDWEksRUFBS0MsTUFBTSxHQUFHdUMsUUFBUyxFQUN2QnhDLEVBQUtDLE1BQU0sR0FBR3dDLFVBQVksRUFBQS9GLFVBQVVtRSxHQUNwQyxNQUNGLElBQUssT0FDSGhCLEdBQVcsRUFDWEcsRUFBS0MsTUFBTSxHQUFHdUMsUUFBUyxFQUN2QnhDLEVBQUtDLE1BQU0sR0FBR3dDLFVBQVksRUFBQS9GLFVBQVVrRyxLQUNwQyxNQUNGLElBQUssT0FDSG5ELEdBQVVBLEVBQ1YsRUFBQW5CLE1BQU1PLE1BQU1zRCxPQUFPQyxNQUFLLGVBQ3hCLE1BQ0YsSUFBSyxRQUNIcEMsRUFBS0MsTUFBTSxHQUFHdEIsUUFDZCxNQUNGLElBQUssTUFHTCxJQUFLLE9BQ0hrRSxTQUFTQyxTQUNULE1BQ0YsSUFBSyxPQUNIekMsS0FLSixNQUFPaUMsR0FDUFMsUUFBUUMsSUFBSVYsRUFBRVcsY0FJbEJ6RSxTQUFTMEUsWUFBYyxTQUFVWixHQUNmLEdBQVpBLEVBQUVhLFFBQ0puRCxFQUFLQyxNQUFNLEdBQUd0QixTQUlsQkgsU0FBUzRFLFFBQVUsU0FBVWQsR0FDM0IsT0FBUUEsRUFBRUMsTUFDUixJQUFLLE9BQ0g3QyxHQUFXLEVBQ1gsTUFDRixJQUFLLE9BQ0hDLEdBQVcsRUFDWCxNQUNGLElBQUssT0FDSEMsR0FBVyxFQUNYLE1BQ0YsSUFBSyxPQUNIQyxHQUFXLEVBQ1gsTUFDRixJQUFLLE9BQ0hHLEVBQUtJLFVBQVksR0FLaEJQLEdBQWFELEdBQWFELEdBQWFELElBQzFDTSxFQUFLQyxNQUFNLEdBQUd1QyxRQUFTLElBRzNCaEUsU0FBUzZFLGFBQWUsU0FBVWYsR0FDaEN4QyxFQUFjd0MsRUFBRWdCLFFBQVEsR0FBR0MsTUFDM0J4RCxFQUFjdUMsRUFBRWdCLFFBQVEsR0FBR0UsT0FHN0JoRixTQUFTaUYsV0FBYSxTQUFVbkIsR0FDOUIsSUFBSW9CLEVBQWlCcEIsRUFBRXFCLGVBQWUsR0FBR0osTUFDckNLLEVBQWlCdEIsRUFBRXFCLGVBQWUsR0FBR0gsTUFDckNLLEVBQVNDLEtBQUtDLElBQUlMLEVBQWlCNUQsR0FDbkNrRSxFQUFTRixLQUFLQyxJQUFJSCxFQUFpQjdELEdBQ25DQyxFQUFLQyxNQUFNLEtBQ2JELEVBQUtDLE1BQU0sR0FBR3VDLFFBQVMsRUFDdkJ4QyxFQUFLQyxNQUFNLEdBQUd0QixTQUVabUYsS0FBS0csSUFBSUosRUFBUUcsR0FBVSxLQUszQmhFLEVBQUtDLE1BQU0sR0FBR3dDLFVBRmRvQixFQUFTRyxFQUNQTixFQUFpQjVELEVBQ08sRUFBQXBELFVBQVVpRyxNQUVWLEVBQUFqRyxVQUFVZ0csS0FHbENrQixFQUFpQjdELEVBQ08sRUFBQXJELFVBQVVrRyxLQUVWLEVBQUFsRyxVQUFVbUUsS0ExUTFDLFNBQVNxRCxLQTZDWCxXQUNFLElBQUlDLEVBQWNuRSxFQUFLQyxNQUFNLEdBQUc4QixNQUNoQyxHQUFJdEMsRUFBUSxPQUNFLElBQVZELEdBQ0VzRSxLQUFLTSxTQUFXLEdBQU1ELEVBQWMsSUFDdENuRSxFQUFLQyxNQUFNb0UsS0FDVCxJQUFJLEVBQUE5RCxLQUNGLENBQ0VDLEVBQUdzRCxLQUFLTSxTQUFXN0UsRUFBUWtCLE9BQU9DLE1BQ2xDQyxFQUFHLEdBRUwsRUFBQWpFLFVBQVVrRyxLQUNWLEVBQUEwQixpQkFBaUIsRUFBQXBILGFBQ2pCLEVBQUFxSCxhQUFhSixFQUFjLEVBQUdBLEVBQWMsS0FLcEQzRSxHQUFTLEVBQ1RBLEdBQVMsR0FDVCxXQUNFLElBQUssSUFBSTlFLEVBQUksRUFBR0EsRUFBSXNGLEVBQUtFLFFBQVFzRSxPQUFROUosSUFDbENzRixFQUFLRSxRQUFReEYsR0FBRytKLE9BQ25CekUsRUFBS0UsUUFBUXdFLE9BQU9oSyxFQUFHLEdBRzNCLElBQVNBLEVBQUksRUFBR0EsRUFBSXNGLEVBQUtFLFFBQVFzRSxPQUFROUosSUFDdkNzRixFQUFLRSxRQUFReEYsR0FBR3VFLE9BNENwQjBGLEdBUkEsV0FDRSxJQUFLLElBQUlqSyxFQUFJLEVBQUdBLEVBQUlzRixFQUFLSSxVQUFVb0UsT0FBUTlKLElBQ3BDc0YsRUFBS0ksVUFBVTFGLEdBQUcrSixPQUNyQnpFLEVBQUtJLFVBQVVzRSxPQUFPaEssRUFBRyxHQU0vQmtLLEdBekNBLFdBRUUsSUFEQSxJQUFJQyxHQUFlLEVBQ1ZuSyxFQUFJLEVBQUdBLEVBQUlzRixFQUFLQyxNQUFNdUUsT0FBUTlKLElBQ2hDc0YsRUFBS0MsTUFBTXZGLEdBQUcrSixRQUNqQnpFLEVBQUtHLFdBQVdrRSxLQUFLLENBQ25CUyxXQUFZOUUsRUFBS0MsTUFBTXZGLEdBQUdvSyxXQUMxQkMsS0FBTSxFQUFBOUgsVUFBVStILGlCQUVsQmhGLEVBQUtDLE1BQU15RSxPQUFPaEssRUFBRyxHQUNyQm1LLEVBQW9CLEdBQUxuSyxHQUtuQixJQUZBc0YsRUFBS0MsTUFBTSxHQUFHaEIsT0FDZGUsRUFBS0MsTUFBTSxHQUFHZ0YsZ0JBQWtCLEVBQ3ZCdkssRUFBSSxFQUFHQSxFQUFJc0YsRUFBS0MsTUFBTXVFLE9BQVE5SixJQUNyQ3NGLEVBQUtDLE1BQU12RixHQUFHdUUsT0FDZGUsRUFBS0MsTUFBTXZGLEdBQUd1SyxnQkFBa0IsRUFFbEMsR0FBSXpGLEVBQVEsR0FBTSxFQUNoQixJQUFTOUUsRUFBSSxFQUFHQSxFQUFJc0YsRUFBS0MsTUFBTXVFLE9BQVE5SixJQUFLLENBQzFDLElBQU13SyxFQUFhbEYsRUFBS0MsTUFBTSxHQUN4QmtGLEVBQVluRixFQUFLQyxNQUFNdkYsR0FDN0IsRUFBQTBLLEdBQUdELEVBQVdELEdBR2RMLEdBQ0YsRUFBQXZHLE1BQU1jLFVBQVUrQyxPQUFPQyxNQUFLLFdBQzFCL0IsT0FlTmdGLEdBckhFQyxHQXdISixXQUNFL0YsRUFBUWdHLFVBQVUsRUFBRyxFQUFHaEcsRUFBUWtCLE9BQU9DLE1BQU9uQixFQUFRa0IsT0FBT0csUUFDN0QsSUFBSTRFLEVBQW9CeEYsRUFBS0MsTUFFN0J1RixHQURBQSxFQUFVQSxFQUFRQyxPQUFPekYsRUFBS0UsVUFDWnVGLE9BQU96RixFQUFLSSxXQUM5QixJQUFLLElBQUkxRixFQUFJLEVBQUdBLEVBQUk4SyxFQUFRaEIsT0FBUTlKLElBQ2xDLEVBQUFnTCxXQUFXRixFQUFROUssSUFFckIsSUFBU0EsRUFBSSxFQUFHQSxFQUFJc0YsRUFBS0csV0FBV3FFLE9BQVE5SixJQUFLLENBQy9DLElBQU1rRSxFQUFZb0IsRUFBS0csV0FBV3pGLEdBQ2xDLEVBQUFpTCxjQUFjL0csRUFBVW1HLEtBQU1uRyxFQUFVa0csYUFNNUMsV0FDRXZGLEVBQVFxRyxLQUFPLGlCQUNmckcsRUFBUXNHLFVBQVksUUFDcEIsSUFBSUMsRUFBUzlGLEVBQUtDLE1BQU0sR0FDeEJWLEVBQVF3RyxTQUNOLFVBQVVELEVBQU9sRSxNQUFNb0UsUUFBUSxHQUFFLFdBQVdGLEVBQU9qRSxNQUFNbUUsUUFBUSxHQUNqRSxHQUNBLElBRUZ6RyxFQUFRd0csU0FDTixVQUFVRCxFQUFPaEUsTUFBTWtFLFFBQVEsR0FBRSxXQUFXbEMsS0FBS21DLE1BQU1ILEVBQU8vRCxPQUM5RCxHQUNBLElBRUZ4QyxFQUFRd0csU0FBUyxtQkFBbUJELEVBQU9JLGNBQWlCLEdBQUksSUFDaEUzRyxFQUFRd0csU0FDTixrQkFBa0JELEVBQU85RCxPQUFPQyxPQUFPK0QsUUFDckMsR0FDRCxrQkFBa0JGLEVBQU85RCxPQUFPRixNQUFNa0UsUUFBUSxHQUMvQyxHQUNBLEtBeEJGRyxHQUNBbkcsRUFBS0csV0FBYSxHQXBJaEJpRyxHQWlCRmxGLE9BQU9LLGFBQWE4RSxRQUFRLFFBQVMzRSxLQUFLNEUsVUFBVXRHLEVBQUtDLE1BQU0sS0FmN0RzRyxzQkFBc0JyQyxHQUV4QkEsSyw0RkM5REYsV0FFQSxPQUlBLE9BRUEsYUEyQkUsV0FDRVksRUFDQXJDLEVBQ0FzQyxFQUNBaEQsR0FzQkEsWUF0QkEsSUFBQUEsTUFBQSxHQUVBeUUsS0FBSzFCLFdBQWFBLEVBQ2xCMEIsS0FBSy9ELFVBQVlBLEVBQ2pCK0QsS0FBS3ZCLGVBQWlCLEVBQ3RCdUIsS0FBS3pCLEtBQU9BLEVBQ1p5QixLQUFLQyxPQUFTLEVBQUE3SixZQUNkNEosS0FBS04sY0FBZ0IsR0FDckJNLEtBQUsvQixPQUFRLEVBQ2IrQixLQUFLaEUsUUFBUyxFQUNkZ0UsS0FBS0UsV0FBWSxFQUNqQkYsS0FBS0csYUFBYyxFQUNuQkgsS0FBS0ksZUFBZ0IsRUFDckJKLEtBQUtLLFdBQWEsR0FDbEJMLEtBQUt4RSxPQUFTLENBQ1pDLE9BQVEsRUFDUkgsTUFBTyxJQUVUMEUsS0FBSzNFLE1BQVEsR0FDYjJFLEtBQUsxRSxNQUFRLElBQ2IwRSxLQUFLTSxlQUFpQixHQUN0Qk4sS0FBS3pFLE1BQVFBLEVBQ0x5RSxLQUFLekIsTUFDWCxLQUFLLEVBQUFwSSxLQUFLbUUsWUFDUjBGLEtBQUtPLE1BQVEsQ0FDWG5GLE1BQU8sR0FDUEMsTUFBTyxHQUNQQyxNQUFPLElBQ1BnRixlQUFnQixHQUNoQkUsYUFBYyxFQUNkQyxZQUFhLElBRWYsTUFDRixLQUFLLEVBQUF0SyxLQUFLUSxZQUNScUosS0FBS08sTUFBUSxDQUNYbkYsTUFBTyxHQUNQQyxNQUFPLEdBQ1BDLE1BQU8sSUFDUGdGLGVBQWdCLEdBQ2hCRSxhQUFjLEVBQ2RDLFlBQWEsR0FFZixNQUNGLEtBQUssRUFBQXRLLEtBQUtTLFdBQ1JvSixLQUFLTyxNQUFRLENBQ1huRixNQUFPLEVBQ1BDLE1BQU8sSUFDUEMsTUFBTyxFQUNQZ0YsZUFBZ0IsR0FDaEJFLGFBQWMsRUFDZEMsWUFBYSxJQUVmLE1BQ0YsS0FBSyxFQUFBdEssS0FBS1UsV0FDUm1KLEtBQUtPLE1BQVEsQ0FDWG5GLE1BQU8sR0FDUEMsTUFBTyxHQUNQQyxNQUFPLEdBQ1BnRixlQUFnQixHQUNoQkUsYUFBYyxHQUNkQyxZQUFhLEdBRWYsTUFDRixRQUNFVCxLQUFLTyxNQUFRLENBQ1huRixNQUFPLEdBQ1BDLE1BQU8sR0FDUEMsTUFBTyxFQUNQZ0YsZUFBZ0IsR0FDaEJFLGFBQWMsRUFDZEMsWUFBYSxJQUVmbEUsUUFBUW1FLE1BQU0seUJBQTJCVixLQUFLekIsTUFHbER5QixLQUFLNUUsTUFBUTRFLEtBQUtPLE1BQU1uRixNQUN4QjRFLEtBQUtXLHNCQXNIVCxPQW5IRSxZQUFBQSxvQkFBQSxXQUNFWCxLQUFLNUUsTUFBUWtDLEtBQUtzRCxJQUFJWixLQUFLTyxNQUFNbkYsTUFBUSxHQUFJNEUsS0FBSzVFLE1BQVEsR0FDMUQ0RSxLQUFLMUUsTUFBUWdDLEtBQUtzRCxJQUNoQlosS0FBS08sTUFBTWpGLE1BQVEsRUFDbkIwRSxLQUFLTyxNQUFNakYsTUFBcUIsSUFBYjBFLEtBQUt6RSxPQUUxQnlFLEtBQUszRSxNQUFRaUMsS0FBS3NELElBQUksR0FBS1osS0FBS08sTUFBTWxGLE1BQXFCLElBQWIyRSxLQUFLekUsT0FDbkR5RSxLQUFLeEUsT0FBT0YsTUFBUWdDLEtBQUtzRCxJQUN2QlosS0FBS08sTUFBTWpGLE1BQVEsR0FDbkIwRSxLQUFLTyxNQUFNRSxZQUEyQixHQUFiVCxLQUFLekUsT0FFaEN5RSxLQUFLeEUsT0FBT0MsT0FBUzZCLEtBQUtzRCxJQUN4QlosS0FBS08sTUFBTUMsYUFBZSxHQUMxQlIsS0FBS08sTUFBTUMsYUFBNEIsR0FBYlIsS0FBS3pFLE9BRWpDeUUsS0FBS04sY0FBZ0JwQyxLQUFLRyxJQUN4QnVDLEtBQUtPLE1BQU1ELGVBQWlCLEdBQzVCTixLQUFLTyxNQUFNRCxlQUFpQk4sS0FBS3pFLFFBSXJDLFlBQUFzRixRQUFBLFdBQ0ViLEtBQUt6RSxRQUNMeUUsS0FBS1csdUJBR1AsWUFBQUcsV0FBQSxTQUFXdEYsRUFBNEJ1RixHQUNyQ2YsS0FBSzVFLE9BQVNrQyxLQUFLRyxJQUFJLEVBQUdqQyxFQUFPQyxRQUFVLEVBQUl1RSxLQUFLM0UsUUFDaEQyRSxLQUFLNUUsT0FBUyxJQUNoQjRFLEtBQUs1RSxNQUFRLEVBQ2I0RSxLQUFLL0IsT0FBUSxFQUNiLEVBQUFuRyxNQUFNTSxVQUFVdUQsT0FBT0MsTUFBSyxlQUM1Qm1GLEVBQVNGLFlBSWIsWUFBQXBJLEtBQUEsV0FDRSxHQUFJdUgsS0FBS2hFLE9BQVEsQ0FDZixJQUNJZ0YsRUFBc0IsRUFBQXhILEtBQUtDLE1BQy9CdUgsRUFBWUEsRUFBVS9CLE9BQU8sRUFBQXpGLEtBQUtJLFdBQ2xDLElBQUlxSCxFQUFTLEVBQ1RDLEVBQVMsRUFDYixPQUFRbEIsS0FBSy9ELFdBQ1gsS0FBSyxFQUFBL0YsVUFBVW1FLEdBQ2I2RyxHQUFVbEIsS0FBSzFFLE1BQ2YsTUFDRixLQUFLLEVBQUFwRixVQUFVa0csS0FDYjhFLEVBQVNsQixLQUFLMUUsTUFDZCxNQUNGLEtBQUssRUFBQXBGLFVBQVVnRyxLQUNiK0UsR0FBVWpCLEtBQUsxRSxNQUNmLE1BQ0YsS0FBSyxFQUFBcEYsVUFBVWlHLE1BQ2I4RSxFQUFTakIsS0FBSzFFLE1BS2xCMEUsS0FBSzFCLFdBQVd0RSxHQUFLaUgsRUFDckJqQixLQUFLMUIsV0FBV25FLEdBQUsrRyxFQUNyQixJQUFLLElBQUloTixFQUFJLEVBQUdBLEVBQUk4TSxFQUFVaEQsT0FBUTlKLElBQ3BDLElBQUk4TSxFQUFVOU0sR0FBR2lNLGFBSWY3QyxLQUFLQyxJQUFJeUMsS0FBSzFCLFdBQVduRSxFQUFJNkcsRUFBVTlNLEdBQUdvSyxXQUFXbkUsR0FDbkQ2RixLQUFLQyxPQUFTZSxFQUFVOU0sR0FBRytMLFFBQzdCRCxLQUFLMUIsYUFBZTBDLEVBQVU5TSxHQUFHb0ssWUFDakNoQixLQUFLQyxJQUFJeUMsS0FBSzFCLFdBQVd0RSxFQUFJZ0gsRUFBVTlNLEdBQUdvSyxXQUFXdEUsR0FDbkRnRyxLQUFLQyxPQUFTZSxFQUFVOU0sR0FBRytMLE9BQzdCLEVBQ2MsRUFDZEQsS0FBSzFCLFdBQVd0RSxHQUFLaUgsRUFDckJqQixLQUFLMUIsV0FBV25FLEdBQUsrRyxFQUNyQixNQUlKbEIsS0FBSzFCLFdBQWF2RSxFQUFLb0gsTUFBTW5CLEtBQUsxQixXQUFZMEIsS0FBS0MsVUFJaEQsRUFBQWtCLE1BQVAsU0FBYTdDLEVBQXdCMkIsR0FZbkMsT0FYSTNCLEVBQVd0RSxFQUFJaUcsRUFDakIzQixFQUFXdEUsRUFBSWlHLEVBQ04zQixFQUFXdEUsRUFBSWlHLEVBQVMsRUFBQWxILFFBQVFrQixPQUFPQyxRQUNoRG9FLEVBQVd0RSxFQUFJLEVBQUFqQixRQUFRa0IsT0FBT0MsTUFBUStGLEdBRXBDM0IsRUFBV25FLEVBQUk4RixFQUNqQjNCLEVBQVduRSxFQUFJOEYsRUFDTjNCLEVBQVduRSxFQUFJOEYsRUFBUyxFQUFBbEgsUUFBUWtCLE9BQU9HLFNBQ2hEa0UsRUFBV25FLEVBQUksRUFBQXBCLFFBQVFrQixPQUFPRyxPQUFTNkYsR0FHbEMzQixHQUdULFlBQUFuRyxNQUFBLFdBQ002SCxLQUFLdkIsZ0JBQWtCdUIsS0FBS04sZ0JBQzlCLEVBQUFsRyxLQUFLRSxRQUFRbUUsS0FDWCxJQUFJLEVBQUF1RCxPQUNGcEIsS0FBSzFCLFdBQ0wwQixLQUFLL0QsVUFDTCtELEtBQUt4RSxPQUFPQyxPQUNadUUsS0FBS3hFLE9BQU9GLE1BQ1owRSxPQUdKQSxLQUFLdkIsZUFBaUIsRUFDbEJ1QixLQUFLekIsT0FBUyxFQUFBcEksS0FBS21FLGFBQ3JCLEVBQUF4QyxNQUFNSyxNQUFNd0QsT0FBT0MsTUFBSyxpQkFJaEMsRUFqT0EsR0FtT1MsRUFBQTdCLFEsb0pDMU9ULFdBQ0EsT0FZQSxPQUNBLE9BQ0EsT0E4RFMsRUFBQStELGlCQTVEVCxTQUEwQnVELEdBQ3hCLE9BQU9BLEVBQU0vRCxLQUFLbUMsTUFBTW5DLEtBQUtNLFNBQVd5RCxFQUFNckQsVUEyRHJCLEVBQUFELGFBcEQzQixTQUFzQmhHLEVBQWV1SixHQUNuQyxPQUFPaEUsS0FBS21DLE1BQU1uQyxLQUFLTSxVQUFZMEQsRUFBTXZKLElBQVVBLEdBbURaLEVBQUFtSCxXQWhEekMsU0FBb0JxQyxHQUNsQixJQUVJQyxFQUZBeEgsRUFBSXVILEVBQU9qRCxXQUFXdEUsRUFDdEJHLEVBQUlvSCxFQUFPakQsV0FBV25FLEVBRXRCRCxFQUFRLEdBQ1JFLEVBQVMsR0FDVG1ILGFBQWtCLEVBQUF4SCxNQUNoQndILEVBQU92RixTQUFRdUYsRUFBT3JCLFdBQWFxQixFQUFPckIsV0FDOUNzQixFQUFPLEVBQUFoTCxXQUFXK0ssRUFBT2hELE1BQU1nRCxFQUFPdEYsV0FBV3dGLE9BQU9GLEVBQU9yQixZQUMvRGhHLEVBQVEsRUFBSSxFQUFBOUQsWUFDWmdFLEVBQVMsRUFBSSxFQUFBaEUsYUFDSm1MLGFBQWtCLEVBQUFHLFVBQzNCRixFQUFPLEVBQUF2SyxlQUFlc0ssRUFBT2hELE1BQzdCckUsRUFBUSxFQUFJLEVBQUE1RCxnQkFDWjhELEVBQVMsRUFBSSxFQUFBOUQsaUJBQ0ppTCxhQUFrQixFQUFBSCxTQUMzQkksRUFBTyxFQUFBeEssYUFBYXVLLEVBQU90RixXQUMzQi9CLEVBQVEsRUFBSSxFQUFBN0QsY0FDWitELEVBQVMsRUFBSSxFQUFBL0QsZUFFZixFQUFBMEMsUUFBUTRJLFVBQ04sRUFBQTdJLE1BQ0EwSSxFQUFLLEdBQ0xBLEVBQUssR0FDTEEsRUFBSyxHQUNMQSxFQUFLLEdBQ0x4SCxFQUFJRSxFQUFRLEVBQ1pDLEVBQUlDLEVBQVMsRUFDYkYsRUFDQUUsSUFtQmlELEVBQUErRSxjQWZyRCxTQUF1QlosRUFBaUJELEdBQ3RDLElBQUlrRCxFQUFPLEVBQUF6SyxnQkFBZ0J3SCxHQUMzQixFQUFBeEYsUUFBUTRJLFVBQ04sRUFBQTdJLE1BQ0EwSSxFQUFLLEdBQ0xBLEVBQUssR0FDTEEsRUFBSyxHQUNMQSxFQUFLLEdBQ0xsRCxFQUFXdEUsRUFBSXdILEVBQUssR0FBSyxFQUN6QmxELEVBQVduRSxFQUFJcUgsRUFBSyxHQUFLLEVBQ3pCQSxFQUFLLEdBQ0xBLEVBQUssTSw4RkMxRVQsV0FFQSxPQUVBLE9BSUEsYUFZRSxXQUNFbEQsRUFDQXJDLEVBQ0FSLEVBQ0FILEVBQ0FzRyxHQUVBNUIsS0FBSy9ELFVBQVlBLEVBQ2pCK0QsS0FBSzRCLFFBQVVBLEVBQ2Y1QixLQUFLSSxlQUFnQixFQUNyQkosS0FBS0csYUFBYyxFQUNuQixJQUFJMEIsRUFBVSxFQUNWQyxFQUFVLEVBQ2QsT0FBUTlCLEtBQUsvRCxXQUNYLEtBQUssRUFBQS9GLFVBQVVtRSxHQUNieUgsR0FBVyxHQUNYLE1BQ0YsS0FBSyxFQUFBNUwsVUFBVWtHLEtBQ2IwRixFQUFVLEdBQ1YsTUFDRixLQUFLLEVBQUE1TCxVQUFVZ0csS0FDYjJGLEdBQVcsR0FDWCxNQUNGLEtBQUssRUFBQTNMLFVBQVVpRyxNQUNiMEYsRUFBVSxHQUtkN0IsS0FBSzFCLFdBQWEsQ0FDaEJ0RSxFQUFHc0UsRUFBV3RFLEVBQUk2SCxFQUNsQjFILEVBQUdtRSxFQUFXbkUsRUFBSTJILEdBRXBCOUIsS0FBS3ZFLE9BQVNBLEVBQ2R1RSxLQUFLL0IsT0FBUSxFQUNiK0IsS0FBSzFFLE1BQVFBLEVBQ2IwRSxLQUFLQyxPQUFTLEVBQUE1SixjQXVHbEIsT0FwR0UsWUFBQW9DLEtBQUEsV0FDRSxHQUFJdUgsS0FBSy9CLE1BQ1AsT0FBUStCLEtBQUsvRCxXQUNYLEtBQUssRUFBQS9GLFVBQVVtRSxHQUNUMkYsS0FBSzFCLFdBQVduRSxFQUFJNkYsS0FBSzFFLE9BQVMsR0FDcEMwRSxLQUFLMUIsV0FBV25FLEVBQUksRUFDcEI2RixLQUFLNUgsYUFFTDRILEtBQUsrQixvQkFFUC9CLEtBQUsxQixXQUFXbkUsR0FBSzZGLEtBQUsxRSxNQUMxQixNQUNGLEtBQUssRUFBQXBGLFVBQVVrRyxLQUNUNEQsS0FBSzFCLFdBQVduRSxFQUFJNkYsS0FBSzFFLE9BQVMsRUFBQXZDLFFBQVFrQixPQUFPRyxRQUNuRDRGLEtBQUsxQixXQUFXbkUsRUFBSSxFQUFBcEIsUUFBUWtCLE9BQU9HLE9BQ25DNEYsS0FBSzVILGFBRUw0SCxLQUFLK0Isb0JBRVAvQixLQUFLMUIsV0FBV25FLEdBQUs2RixLQUFLMUUsTUFDMUIsTUFDRixLQUFLLEVBQUFwRixVQUFVZ0csS0FDVDhELEtBQUsxQixXQUFXdEUsRUFBSWdHLEtBQUsxRSxPQUFTLEdBQ3BDMEUsS0FBSzFCLFdBQVd0RSxFQUFJLEVBQ3BCZ0csS0FBSzVILGFBRUw0SCxLQUFLK0Isb0JBRVAvQixLQUFLMUIsV0FBV3RFLEdBQUtnRyxLQUFLMUUsTUFDMUIsTUFDRixLQUFLLEVBQUFwRixVQUFVaUcsTUFDVDZELEtBQUsxQixXQUFXdEUsRUFBSWdHLEtBQUsxRSxPQUFTLEVBQUF2QyxRQUFRa0IsT0FBT0MsT0FDbkQ4RixLQUFLMUIsV0FBV3RFLEVBQUksRUFBQWpCLFFBQVFrQixPQUFPQyxNQUNuQzhGLEtBQUs1SCxhQUVMNEgsS0FBSytCLG9CQUVQL0IsS0FBSzFCLFdBQVd0RSxHQUFLZ0csS0FBSzFFLE1BQzFCLE1BQ0YsUUFDRWlCLFFBQVFtRSxNQUFNLDBCQU10QixZQUFBdEksVUFBQSxXQUNFNEgsS0FBSy9CLE9BQVEsRUFDYixFQUFBekUsS0FBS0csV0FBV2tFLEtBQUssQ0FDbkJTLFdBQVkwQixLQUFLMUIsV0FDakJDLEtBQU0sRUFBQTlILFVBQVV1TCxvQkFJcEIsWUFBQUQsa0JBQUEsV0FDRSxJQUFJZixFQUFzQixFQUFBeEgsS0FBS0MsTUFDL0J1SCxFQUFZQSxFQUFVL0IsT0FBTyxFQUFBekYsS0FBS0ksV0FDbEMsSUFBSyxJQUFJMUYsRUFBSSxFQUFHQSxFQUFJOE0sRUFBVWhELE9BQVE5SixJQUNwQyxJQUFJOE0sRUFBVTlNLEdBQUdrTSxlQUFpQlksRUFBVTlNLElBQU04TCxLQUFLNEIsU0FJckRSLEVBQU9hLE1BQ0xqQyxLQUFLMUIsV0FDTDBDLEVBQVU5TSxHQUFHb0ssV0FDYjBDLEVBQVU5TSxHQUFHK0wsUUFFZixDQUNBRCxLQUFLNUgsWUFDTDRJLEVBQVU5TSxHQUFHNE0sV0FBV2QsS0FBTUEsS0FBSzRCLFNBQy9CWixFQUFVOU0sYUFBYyxFQUFBNkYsT0FDdEJpRyxLQUFLNEIsUUFBUXJELE1BQVEsRUFBQXBJLEtBQUttRSxZQUM1QixFQUFBeEMsTUFBTVksSUFBSWlELE9BQU9DLE1BQUssZUFDYm9GLEVBQVU5TSxHQUFHcUssTUFBUSxFQUFBcEksS0FBS21FLGFBQ25DLEVBQUF4QyxNQUFNYSxPQUFPZ0QsT0FBT0MsTUFBSyxnQkFHN0IsUUFLTixZQUFBa0YsV0FBQSxTQUFXb0IsRUFBZW5CLEdBQ3hCLE1BQU0sSUFBSW9CLE1BQU0sNEJBR1gsRUFBQUYsTUFBUCxTQUNFRyxFQUNBQyxFQUNBQyxHQUVBLE9BQ0VGLEVBQWlCcEksR0FBS3FJLEVBQWlCckksRUFBSXNJLEdBQzNDRixFQUFpQnBJLEdBQUtxSSxFQUFpQnJJLEVBQUlzSSxHQUMzQ0YsRUFBaUJqSSxHQUFLa0ksRUFBaUJsSSxFQUFJbUksR0FDM0NGLEVBQWlCakksR0FBS2tJLEVBQWlCbEksRUFBSW1JLEdBSS9DLFlBQUF6QixRQUFBLGFBQ0YsRUF2SkEsR0F5SlMsRUFBQU8sVSxnR0NqS1QsV0FNQSxhQVNFLFdBQVk5QyxFQUF3QkMsR0FLbEMsT0FKQXlCLEtBQUsxQixXQUFhQSxFQUNsQjBCLEtBQUsvQixPQUFRLEVBQ2IrQixLQUFLekIsS0FBT0EsRUFDWnlCLEtBQUtDLE9BQVMsRUFBQTNKLGdCQUNOMEosS0FBS3pCLE1BQ1gsS0FBSyxFQUFBekgsU0FBU00sTUFDWjRJLEtBQUt1QyxhQUFlLEdBQ3BCdkMsS0FBS0csYUFBYyxFQUNuQkgsS0FBS0ksZUFBZ0IsRUFDckIsTUFDRixLQUFLLEVBQUF0SixTQUFTTyxNQUNaMkksS0FBS3VDLGFBQWUsR0FDcEJ2QyxLQUFLRyxhQUFjLEVBQ25CSCxLQUFLSSxlQUFnQixFQUNyQixNQUNGLEtBQUssRUFBQXRKLFNBQVNRLE9BQ1owSSxLQUFLdUMsYUFBZSxJQUNwQnZDLEtBQUtHLGFBQWMsRUFDbkJILEtBQUtJLGVBQWdCLEVBQ3JCLE1BQ0YsS0FBSyxFQUFBdEosU0FBUzBMLE1BQ1p4QyxLQUFLdUMsYUFBZSxJQUNwQnZDLEtBQUtHLGFBQWMsRUFDbkJILEtBQUtJLGVBQWdCLEVBQ3JCLE1BQ0YsUUFDRUosS0FBS3VDLGFBQWUsSUFDcEJ2QyxLQUFLRyxhQUFjLEVBQ25CSCxLQUFLSSxlQUFnQixHQVk3QixPQVBFLFlBQUFVLFdBQUEsU0FBV3RGLEVBQWdCdUYsR0FDckJ2RixFQUFPQyxRQUFVdUUsS0FBS3VDLGVBQ3hCdkMsS0FBSy9CLE9BQVEsSUFJakIsWUFBQTRDLFFBQUEsYUFDRixFQWxEQSxHQW9EUyxFQUFBYSxZLDBGQ3hEVCxXQUNBLE9BZ0pTLEVBQUE5QyxHQTlJVCxTQUFZNkQsRUFBYUMsR0FDdkIsT0FBUUQsRUFBTXBDLFdBQVdzQyxPQUN2QixLQUFLLEVBQUF6TCxPQUFPMEwsUUFDVkgsRUFBTXpHLFFBQVMsRUFDZnlHLEVBQU14RyxVQUFZLEVBQUEvRixVQUFVbUUsR0FDNUIsTUFDRixLQUFLLEVBQUFuRCxPQUFPMkwsVUFDVkosRUFBTXpHLFFBQVMsRUFDZnlHLEVBQU14RyxVQUFZLEVBQUEvRixVQUFVa0csS0FDNUIsTUFDRixLQUFLLEVBQUFsRixPQUFPNEwsVUFDVkwsRUFBTXpHLFFBQVMsRUFDZnlHLEVBQU14RyxVQUFZLEVBQUEvRixVQUFVZ0csS0FDNUIsTUFDRixLQUFLLEVBQUFoRixPQUFPNkwsV0FDVk4sRUFBTXpHLFFBQVMsRUFDZnlHLEVBQU14RyxVQUFZLEVBQUEvRixVQUFVaUcsTUFDNUIsTUFDRixLQUFLLEVBQUFqRixPQUFPUyxLQUNWOEssRUFBTXpHLFFBQVMsRUFDZixNQUNGLEtBQUssRUFBQTlFLE9BQU9RLEtBQ1YrSyxFQUFNekcsUUFBUyxFQUNmLE1BQ0YsS0FBSyxFQUFBOUUsT0FBT1UsTUFDVjZLLEVBQU10SyxRQUNOLE1BQ0YsS0FBSyxFQUFBakIsT0FBT1csV0FDVixNQUNGLEtBQUssRUFBQVgsT0FBT00sVUFDVmlMLEVBQU14RyxXQUFhLEVBQ25Cd0csRUFBTXhHLFdBQWEsRUFDbkIsTUFDRixLQUFLLEVBQUEvRSxPQUFPTyxXQUNWLE9BQVFnTCxFQUFNeEcsV0FDWixLQUFLLEVBQUEvRixVQUFVa0csS0FDYnFHLEVBQU14RyxVQUFZLEVBQUEvRixVQUFVZ0csS0FDNUIsTUFDRixLQUFLLEVBQUFoRyxVQUFVbUUsR0FDYm9JLEVBQU14RyxVQUFZLEVBQUEvRixVQUFVaUcsTUFDNUIsTUFDRixLQUFLLEVBQUFqRyxVQUFVZ0csS0FDYnVHLEVBQU14RyxVQUFZLEVBQUEvRixVQUFVbUUsR0FDNUIsTUFDRixLQUFLLEVBQUFuRSxVQUFVaUcsTUFDYnNHLEVBQU14RyxVQUFZLEVBQUEvRixVQUFVa0csS0FLaEMsTUFDRixRQUNFcUcsRUFBTXpHLFFBQVMsRUFDZixJQUFJc0YsR0FBTSxFQXFCVixHQXBCSWhFLEtBQUtDLElBQUlrRixFQUFNbkUsV0FBV3RFLEVBQUkwSSxFQUFPcEUsV0FBV3RFLEdBQUswSSxFQUFPekMsUUFDMUR3QyxFQUFNeEcsV0FBYSxFQUFBL0YsVUFBVW1FLEtBQzNCb0ksRUFBTW5FLFdBQVduRSxHQUFLdUksRUFBT3BFLFdBQVduRSxFQUMxQ3NJLEVBQU1wQyxXQUFXeEMsS0FBSyxFQUFBM0csT0FBT1UsT0FFN0I2SyxFQUFNcEMsV0FBV3hDLEtBQUssRUFBQTNHLE9BQU9PLFlBRS9CNkosR0FBTSxHQUdOaEUsS0FBS0MsSUFBSWtGLEVBQU1uRSxXQUFXbkUsRUFBSXVJLEVBQU9wRSxXQUFXbkUsR0FBS3VJLEVBQU96QyxRQUMxRHdDLEVBQU14RyxXQUFhLEVBQUEvRixVQUFVZ0csT0FDM0J1RyxFQUFNbkUsV0FBV3RFLEdBQUswSSxFQUFPcEUsV0FBV3RFLEVBQzFDeUksRUFBTXBDLFdBQVd4QyxLQUFLLEVBQUEzRyxPQUFPVSxPQUU3QjZLLEVBQU1wQyxXQUFXeEMsS0FBSyxFQUFBM0csT0FBT00sV0FFL0I4SixHQUFNLEdBR05BLEVBQUssT0FDVCxJQUFNMUQsRUFBU04sS0FBS00sU0FDaEJBLEVBQVMsSUFDWDZFLEVBQU1wQyxXQUFXeEMsS0FBSyxFQUFBQyxpQkFBaUIsRUFBQXZHLFVBQ3ZDa0wsRUFBTXBDLFdBQVdwQixPQUFPLENBQ3RCLEVBQUEvSCxPQUFPVSxNQUNQLEVBQUFWLE9BQU9VLE1BQ1AsRUFBQVYsT0FBT1UsTUFDUCxFQUFBVixPQUFPVSxNQUNQLEVBQUFWLE9BQU9XLFdBQ1AsRUFBQVgsT0FBT1csV0FDUCxFQUFBWCxPQUFPVyxXQUNQLEVBQUFYLE9BQU9VLFNBRUFnRyxFQUFTLElBQ2ROLEtBQUttQyxNQUFlLElBQVQ3QixHQUFnQixHQUFNLEVBQy9CNkUsRUFBTW5FLFdBQVd0RSxFQUFJMEksRUFBT3BFLFdBQVd0RSxFQUN6Q3lJLEVBQU1wQyxXQUFXeEMsS0FBSyxFQUFBM0csT0FBTzZMLFlBRTdCTixFQUFNcEMsV0FBV3hDLEtBQUssRUFBQTNHLE9BQU80TCxXQUczQkwsRUFBTW5FLFdBQVduRSxFQUFJdUksRUFBT3BFLFdBQVduRSxFQUN6Q3NJLEVBQU1wQyxXQUFXeEMsS0FBSyxFQUFBM0csT0FBTzJMLFdBRTdCSixFQUFNcEMsV0FBV3hDLEtBQUssRUFBQTNHLE9BQU8wTCxTQUdqQ0gsRUFBTXBDLFdBQVdwQixPQUFPLENBQUMsRUFBQS9ILE9BQU9VLE1BQU8sRUFBQVYsT0FBT1UsU0FDckNnRyxFQUFTLElBQ2xCNkUsRUFBTXBDLFdBQVdwQixPQUFPLENBQ3RCLEVBQUEvSCxPQUFPMEwsUUFDUCxFQUFBMUwsT0FBT1csV0FDUCxFQUFBWCxPQUFPVSxNQUNQLEVBQUFWLE9BQU9XLFdBQ1AsRUFBQVgsT0FBT1UsUUFFQWdHLEVBQVMsR0FDbEI2RSxFQUFNcEMsV0FBV3BCLE9BQU8sQ0FDdEIsRUFBQS9ILE9BQU80TCxVQUNQLEVBQUE1TCxPQUFPVyxXQUNQLEVBQUFYLE9BQU9VLE1BQ1AsRUFBQVYsT0FBT1csV0FDUCxFQUFBWCxPQUFPVSxRQUVBZ0csRUFBUyxJQUNsQjZFLEVBQU1wQyxXQUFXcEIsT0FBTyxDQUN0QixFQUFBL0gsT0FBTzZMLFdBQ1AsRUFBQTdMLE9BQU9XLFdBQ1AsRUFBQVgsT0FBT1UsTUFDUCxFQUFBVixPQUFPVyxXQUNQLEVBQUFYLE9BQU9VLFFBRUFnRyxFQUFTLEdBQ2xCNkUsRUFBTXBDLFdBQVdwQixPQUFPLENBQ3RCLEVBQUEvSCxPQUFPMkwsVUFDUCxFQUFBM0wsT0FBT1csV0FDUCxFQUFBWCxPQUFPVSxNQUNQLEVBQUFWLE9BQU9XLFdBQ1AsRUFBQVgsT0FBT1UsUUFHVDZLLEVBQU1wQyxXQUFXeEMsS0FBSyxFQUFBM0csT0FBT1UsVSwwR0M3SXJDLElBT0lvTCxFQUNBQyxFQVJKLE9BQ0EsT0FDQSxPQUVBLE9BRU1DLEVBQW9CLEdBd0QxQixTQUFTQyxFQUNQQyxFQUNBQyxFQUNBQyxHQUVBLElBQUlDLEVBQXNCLENBQUV2SixFQUFHc0osRUFBU3RKLEVBQUdHLEVBQUdrSixFQUFXbEosR0FDckRxSixFQUF5QixDQUFFeEosRUFBR3FKLEVBQVdySixFQUFHRyxFQUFHbUosRUFBU25KLEdBQzVEc0osRUFBYUwsRUFBY0MsRUFBWUUsR0FDdkNFLEVBQWFMLEVBQWNDLEVBQVlHLEdBQ3ZDQyxFQUFhTCxFQUFjSSxFQUFZRixHQUN2Q0csRUFBYUwsRUFBY0csRUFBU0QsR0FHdEMsU0FBU0csRUFDUEwsRUFDQUMsRUFDQUMsR0FFQSxLQUNFaEcsS0FBS0csSUFDSEgsS0FBS0MsSUFBSThGLEVBQVdySixFQUFJc0osRUFBU3RKLEdBQ2pDc0QsS0FBS0MsSUFBSThGLEVBQVdsSixFQUFJbUosRUFBU25KLEtBQzlCLEdBR1AsR0FDRW1ELEtBQUtDLElBQUk4RixFQUFXckosRUFBSXNKLEVBQVN0SixHQUFLc0QsS0FBS0MsSUFBSThGLEVBQVdsSixFQUFJbUosRUFBU25KLEdBQ3ZFLENBQ0EsR0FBSWtKLEVBQVdySixFQUFJc0osRUFBU3RKLEVBQUcsQ0FDN0IsSUFBSTBKLEVBQU9KLEVBQ1hBLEVBQVdELEVBQ1hBLEVBQWFLLEVBRWYsSUFBSyxJQUFJQyxFQUFTTixFQUFXckosRUFBRzJKLEdBQVVMLEVBQVN0SixFQUFHMkosSUFBVSxDQUM5RCxJQUFJM0osRUFBSTRKLEVBQU1ELEdBS2R4SixFQUFJMEosRUFKQTFKLEVBQ0ZrSixFQUFXbEosR0FDVm1KLEVBQVNuSixFQUFJa0osRUFBV2xKLEtBQ3JCd0osRUFBU04sRUFBV3JKLElBQU1zSixFQUFTdEosRUFBSXFKLEVBQVdySixLQUV4RGtKLEVBQUlsSixHQUFHRyxHQUFLaUosT0FFVCxDQUNMLEdBQUlDLEVBQVdsSixFQUFJbUosRUFBU25KLEVBQUcsQ0FDekJ1SixFQUFPSixFQUNYQSxFQUFXRCxFQUNYQSxFQUFhSyxFQUVmLElBQUssSUFBSUksRUFBU1QsRUFBV2xKLEVBQUcySixHQUFVUixFQUFTbkosRUFBRzJKLElBQVUsQ0FDOUQsSUFBSTNKLEVBQUkwSixFQUFNQyxHQUtkOUosRUFBSTRKLEVBSkE1SixFQUNGcUosRUFBV3JKLEdBQ1ZzSixFQUFTdEosRUFBSXFKLEVBQVdySixLQUNyQjhKLEVBQVNULEVBQVdsSixJQUFNbUosRUFBU25KLEVBQUlrSixFQUFXbEosS0FFeEQrSSxFQUFJbEosR0FBR0csR0FBS2lKLElBS2xCLFNBQVNRLEVBQU01SixHQUViLE9BREFBLEVBQUlzRCxLQUFLbUMsTUFBTXpGLElBQ1AsRUFBVSxFQUNkQSxHQUFLZ0osRUFBZUEsRUFBUyxFQUMxQmhKLEVBR1QsU0FBUzZKLEVBQU0xSixHQUViLE9BREFBLEVBQUltRCxLQUFLbUMsTUFBTXRGLElBQ1AsRUFBVSxFQUNkQSxHQUFLOEksRUFBZUEsRUFBUyxFQUMxQjlJLEVBR0EsRUFBQVUsbUJBOUhULFdBQ0VtSSxFQUFTMUYsS0FBS21DLE1BQU0sRUFBQTFHLFFBQVFrQixPQUFPQyxNQUFRLElBQzNDK0ksRUFBUzNGLEtBQUttQyxNQUFNLEVBQUExRyxRQUFRa0IsT0FBT0csT0FBUyxJQUU1QyxJQUFLLElBQUkySixFQUFNLEVBQUdBLEVBQU1mLEVBQVFlLElBQU8sQ0FFckMsSUFEQSxJQUFJTCxFQUFPLEdBQ0ZNLEVBQU0sRUFBR0EsRUFBTWYsRUFBUWUsSUFDOUJOLEVBQUs3RixLQUFLLEVBQUEvRyxTQUFTbU4sTUFFckJmLEVBQUlyRixLQUFLNkYsR0FzQmIsSUFDTXhQLEVBQ0FnUSxFQXBCSixJQW1CSWhRLEVBQUksRUFBQTZKLGFBQWEsRUFBRyxJQUNwQm1HLEVBQUksRUFBQW5HLGFBQWEsR0FBSSxJQUV6Qm9GLEVBQ0UsRUFBQXJNLFNBQVNPLE1BQ1QsQ0FBRTJDLEVBQUc5RixFQUFJLEVBQUdpRyxFQUFHOEksRUFBUyxFQUFJLEdBQzVCLENBQUVqSixFQUFHZ0osRUFBUyxFQUFHN0ksRUFBRzhJLEVBQVMvTyxJQUUvQmlQLEVBQ0UsRUFBQXJNLFNBQVNNLE1BQ1QsQ0FBRTRDLEVBQUc5RixFQUFHaUcsRUFBR2pHLEdBQ1gsQ0FBRThGLEVBQUdnSixFQUFTLEVBQUc3SSxFQUFHOEksRUFBUyxJQUUvQkUsRUFDRSxFQUFBck0sU0FBU00sTUFDVCxDQUFFNEMsRUFBR2dKLEVBQVMsRUFBSSxFQUFHN0ksRUFBRytKLEVBQUksR0FDNUIsQ0FBRWxLLEVBQUdnSixFQUFTa0IsRUFBRy9KLEVBQUc4SSxFQUFTaUIsSUFuQ3RCSCxFQUFNLEVBQUdBLEVBQU1mLEVBQVFlLElBQzlCLElBQVNDLEVBQU0sRUFBR0EsRUFBTWYsRUFBUWUsSUFBTyxDQUNyQyxJQUFJRyxFQUFrQmpCLEVBQUlhLEdBQUtDLEdBQzNCRyxHQUFtQixFQUFBck4sU0FBU21OLE1BQzlCLEVBQUF6SyxLQUFLSSxVQUFVaUUsS0FDYixJQUFJLEVBQUE2RCxTQUNGLENBQ0UxSCxFQUFTLEdBQU4rSixFQUNINUosRUFBUyxHQUFONkosR0FFTEciLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEpO1xuIiwiZW51bSBESVJFQ1RJT04ge1xuICBVUCxcbiAgRE9XTixcbiAgTEVGVCxcbiAgUklHSFQsXG59XG5cbmVudW0gVEFOSyB7XG4gIFBMQVlFUl9UQU5LLFxuICBOT1JNQUxfVEFOSyA9IDEsXG4gIFNXSUZUX1RBTkssXG4gIE1FRElVTV9UQU5LLFxuICBIRUFWWV9UQU5LLFxufVxuXG5jb25zdCBUQU5LX1JBRElVUyA9IDIwO1xuY29uc3QgQlVMTEVUX1JBRElVUyA9IDQ7XG5jb25zdCBCVUlMRElOR19SQURJVVMgPSA4O1xuY29uc3QgRVhQTE9TSU9OX1JBRElVUyA9IDE2O1xuXG4vLyB0eXBlLCBkaXJlY3Rpb25cbmNvbnN0IFRBTktfSU1BR0UgPSBbXG4gIFtcbiAgICBbXG4gICAgICBbNCwgOCwgNTIsIDUyXSxcbiAgICAgIFs2OCwgOCwgNTIsIDUyXSxcbiAgICBdLFxuICAgIFtcbiAgICAgIFsyNjQsIDQsIDUyLCA1Ml0sXG4gICAgICBbMzI4LCA0LCA1MiwgNTJdLFxuICAgIF0sXG4gICAgW1xuICAgICAgWzEzNiwgNCwgNTIsIDUyXSxcbiAgICAgIFsyMDQsIDQsIDUyLCA1Ml0sXG4gICAgXSxcbiAgICBbXG4gICAgICBbMzkyLCA0LCA1MiwgNTJdLFxuICAgICAgWzQ2MCwgNCwgNTIsIDUyXSxcbiAgICBdLFxuICBdLFxuICBbXG4gICAgW1xuICAgICAgWzUyNCwgMjY0LCA1MiwgNjBdLFxuICAgICAgWzU4OCwgMjY0LCA1MiwgNjBdLFxuICAgIF0sXG4gICAgW1xuICAgICAgWzc4MCwgMjY0LCA1MiwgNjBdLFxuICAgICAgWzg0NCwgMjY0LCA1MiwgNjBdLFxuICAgIF0sXG4gICAgW1xuICAgICAgWzY0OCwgMjcyLCA2MCwgNTJdLFxuICAgICAgWzcxMiwgMjcyLCA2MCwgNTJdLFxuICAgIF0sXG4gICAgW1xuICAgICAgWzkwOCwgMjY4LCA2MCwgNTJdLFxuICAgICAgWzk3MiwgMjY4LCA2MCwgNTJdLFxuICAgIF0sXG4gIF0sXG4gIFtcbiAgICBbXG4gICAgICBbNTI0LCAzMjgsIDUyLCA2MF0sXG4gICAgICBbNTg4LCAzMjgsIDUyLCA2MF0sXG4gICAgXSxcbiAgICBbXG4gICAgICBbNzgwLCAzMzIsIDUyLCA2MF0sXG4gICAgICBbODQ0LCAzMzIsIDUyLCA2MF0sXG4gICAgXSxcbiAgICBbXG4gICAgICBbNjQ4LCAzMzYsIDYwLCA1Ml0sXG4gICAgICBbNzEyLCAzMzYsIDYwLCA1Ml0sXG4gICAgXSxcbiAgICBbXG4gICAgICBbOTA4LCAzMzIsIDYwLCA1Ml0sXG4gICAgICBbOTcyLCAzMzIsIDYwLCA1Ml0sXG4gICAgXSxcbiAgXSxcbiAgW1xuICAgIFtcbiAgICAgIFs1MjQsIDM5NiwgNTIsIDYwXSxcbiAgICAgIFs1ODgsIDM5NiwgNTIsIDYwXSxcbiAgICBdLFxuICAgIFtcbiAgICAgIFs3ODAsIDM5NiwgNTIsIDYwXSxcbiAgICAgIFs4NDQsIDM5NiwgNTIsIDYwXSxcbiAgICBdLFxuICAgIFtcbiAgICAgIFs2NDgsIDQwNCwgNjAsIDUyXSxcbiAgICAgIFs3MTIsIDQwNCwgNjAsIDUyXSxcbiAgICBdLFxuICAgIFtcbiAgICAgIFs5MDgsIDQwMCwgNjAsIDUyXSxcbiAgICAgIFs5NzIsIDQwMCwgNjAsIDUyXSxcbiAgICBdLFxuICBdLFxuICBbXG4gICAgW1xuICAgICAgWzUyNCwgNDYwLCA1MiwgNjBdLFxuICAgICAgWzU4OCwgNDYwLCA1MiwgNjBdLFxuICAgIF0sXG4gICAgW1xuICAgICAgWzc4MCwgNDYwLCA1MiwgNjBdLFxuICAgICAgWzg0NCwgNDYwLCA1MiwgNjBdLFxuICAgIF0sXG4gICAgW1xuICAgICAgWzY0OCwgNDY0LCA2MCwgNTJdLFxuICAgICAgWzcxMiwgNDY0LCA2MCwgNTJdLFxuICAgIF0sXG4gICAgW1xuICAgICAgWzkwNCwgNDY0LCA2MCwgNTJdLFxuICAgICAgWzk2OCwgNDY0LCA2MCwgNTJdLFxuICAgIF0sXG4gIF0sXG5dO1xuXG5jb25zdCBFTkVNWV9UQU5LUyA9IFtcbiAgVEFOSy5OT1JNQUxfVEFOSyxcbiAgVEFOSy5OT1JNQUxfVEFOSyxcbiAgVEFOSy5OT1JNQUxfVEFOSyxcbiAgVEFOSy5TV0lGVF9UQU5LLFxuICBUQU5LLlNXSUZUX1RBTkssXG4gIFRBTksuSEVBVllfVEFOSyxcbl07XG5cbmVudW0gRVhQTE9TSU9OIHtcbiAgQlVMTEVUX0VYUExPU0lPTixcbiAgVEFOS19FWFBMT1NJT04sXG59XG5cbmNvbnN0IEVYUExPU0lPTl9JTUFHRSA9IFtcbiAgWzEwNjQsIDUyMCwgNDQsIDQ0XSxcbiAgWzExODAsIDUxMiwgNjQsIDY0XSxcbl07XG5cbmVudW0gQlVJTERJTkcge1xuICBCUklDSyxcbiAgU1RFRUwsXG4gIEpVTkdMRSxcbiAgV0FURVIsXG4gIFJPQUQsXG4gIE5PTkUsXG59XG5jb25zdCBCVUxMRVRfSU1BR0UgPSBbXG4gIFsxMzIwLCA0MDgsIDEyLCAxNl0sXG4gIFsxMzg0LCA0MDgsIDEyLCAxNl0sXG4gIFsxMzQ4LCA0MDgsIDE2LCAxMl0sXG4gIFsxNDEyLCA0MDgsIDE2LCAxMl0sXG5dO1xuXG5jb25zdCBCVUlMRElOR19JTUFHRSA9IFtcbiAgWzEwNTIsIDAsIDMyLCAzMl0sXG4gIFsxMDUyLCA2NCwgMzIsIDMyXSxcbiAgWzExMTYsIDEyOCwgMzIsIDMyXSxcbiAgWzEwNTIsIDE5MiwgMzIsIDMyXSxcbl07XG5cbmNvbnN0IEJVSUxESU5HUyA9IFtCVUlMRElORy5CUklDSywgQlVJTERJTkcuU1RFRUwsIEJVSUxESU5HLkpVTkdMRV07XG5cbmVudW0gQUNUSU9OIHtcbiAgTU9WRV9VUCxcbiAgTU9WRV9ET1dOLFxuICBNT1ZFX0xFRlQsXG4gIE1PVkVfUklHSFQsXG4gIFNUQVksXG4gIFNIT09ULFxuICBET19OT1RISU5HLFxuICBUVVJOX0xFRlQsXG4gIFRVUk5fUklHSFQsXG4gIE1PVkUsXG59XG5cbmNvbnN0IEFDVElPTlMgPSBbXG4gIEFDVElPTi5UVVJOX0xFRlQsXG4gIEFDVElPTi5UVVJOX1JJR0hULFxuICBBQ1RJT04uTU9WRSxcbiAgQUNUSU9OLlNUQVksXG4gIEFDVElPTi5TSE9PVCxcbiAgQUNUSU9OLkRPX05PVEhJTkcsXG5dO1xuXG5jbGFzcyBBdWRpb01hbmFnZXIge1xuICBzdGFydCA9IDxIVE1MQXVkaW9FbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3RhcnRcIik7XG4gIGNvbGxlY3QgPSA8SFRNTEF1ZGlvRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbGxlY3RcIik7XG4gIHNob290ID0gPEhUTUxBdWRpb0VsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaG9vdFwiKTtcbiAgZXhwbG9zaW9uID0gPEhUTUxBdWRpb0VsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJleHBsb3Npb25cIik7XG4gIHBhdXNlID0gPEhUTUxBdWRpb0VsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwYXVzZVwiKTtcbiAgcGljayA9IDxIVE1MQXVkaW9FbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGlja1wiKTtcbiAgbGV2ZWxfdXAgPSA8SFRNTEF1ZGlvRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxldmVsX3VwXCIpO1xuICBpZGxlID0gPEhUTUxBdWRpb0VsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpZGxlXCIpO1xuICBtb3ZlID0gPEhUTUxBdWRpb0VsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtb3ZlXCIpO1xuICBoaXQgPSA8SFRNTEF1ZGlvRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImhpdFwiKTtcbiAgYmVfaGl0ID0gPEhUTUxBdWRpb0VsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJiZV9oaXRcIik7XG4gIGdhbWVfb3ZlciA9IDxIVE1MQXVkaW9FbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ2FtZV9vdmVyXCIpO1xufVxuXG5jb25zdCBBVURJTyA9IG5ldyBBdWRpb01hbmFnZXIoKTtcbmNvbnN0IENBTlZBUyA9IDxIVE1MQ2FudmFzRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbnZhc1wiKTtcbmNvbnN0IElNQUdFID0gPEhUTUxJbWFnZUVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcHJpdGVzXCIpO1xuXG5leHBvcnQge1xuICBUQU5LLFxuICBFTkVNWV9UQU5LUyxcbiAgRElSRUNUSU9OLFxuICBFWFBMT1NJT04sXG4gIEJVSUxESU5HLFxuICBCVUlMRElOR1MsXG4gIEFDVElPTixcbiAgQUNUSU9OUyxcbiAgQVVESU8sXG4gIENBTlZBUyxcbiAgSU1BR0UsXG4gIFRBTktfSU1BR0UsXG4gIEJVSUxESU5HX0lNQUdFLFxuICBCVUxMRVRfSU1BR0UsXG4gIEVYUExPU0lPTl9JTUFHRSxcbiAgVEFOS19SQURJVVMsXG4gIEJVTExFVF9SQURJVVMsXG4gIEJVSUxESU5HX1JBRElVUyxcbiAgRVhQTE9TSU9OX1JBRElVUyxcbn07XG4iLCJpbXBvcnQge1xuICBBVURJTyxcbiAgQ0FOVkFTLFxuICBESVJFQ1RJT04sXG4gIEVORU1ZX1RBTktTLFxuICBFWFBMT1NJT04sXG4gIElNQUdFLFxuICBUQU5LLFxufSBmcm9tIFwiLi9Db25zdGFudHNcIjtcblxuaW1wb3J0IHsgVGFuayB9IGZyb20gXCIuL21vZGVscy9UYW5rXCI7XG5pbXBvcnQgeyBCdWxsZXQgfSBmcm9tIFwiLi9tb2RlbHMvQnVsbGV0XCI7XG5pbXBvcnQgeyBCdWlsZGluZyB9IGZyb20gXCIuL21vZGVscy9CdWlsZGluZ1wiO1xuXG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi9tb2RlbHMvR2VuZXJhbFwiO1xuaW1wb3J0IHsgQUkgfSBmcm9tIFwiLi9BSVwiO1xuaW1wb3J0IHtcbiAgcmFuZG9tQ2hvb3NlRnJvbSxcbiAgZHJhd0VudGl0eSxcbiAgZHJhd0V4cGxvc2lvbixcbiAgcmFuZG9tTnVtYmVyLFxufSBmcm9tIFwiLi9VdGlsc1wiO1xuaW1wb3J0IHsgYnVpbGRpbmdzR2VuZXJhdG9yIH0gZnJvbSBcIi4vTWFwR2VuZXJhdG9yXCI7XG5cbmxldCBjb3VudCA9IDA7XG5sZXQgcGF1c2VkID0gZmFsc2U7XG5sZXQgY29udGV4dDogYW55O1xuXG5sZXQga2V5QURvd246IGJvb2xlYW4gPSBmYWxzZTtcbmxldCBrZXlERG93bjogYm9vbGVhbiA9IGZhbHNlO1xubGV0IGtleVdEb3duOiBib29sZWFuID0gZmFsc2U7XG5sZXQga2V5U0Rvd246IGJvb2xlYW4gPSBmYWxzZTtcblxubGV0IHRvdWNoUG9pbnRYID0gMDtcbmxldCB0b3VjaFBvaW50WSA9IDA7XG5cbmNvbnN0IEdBTUU6IHtcbiAgdGFua3M6IFRhbmtbXTtcbiAgYnVsbGV0czogQnVsbGV0W107XG4gIGV4cGxvc2lvbnM6IGFueVtdO1xuICBidWlsZGluZ3M6IEJ1aWxkaW5nW107XG59ID0ge1xuICB0YW5rczogW10sXG4gIGJ1bGxldHM6IFtdLFxuICBleHBsb3Npb25zOiBbXSxcbiAgYnVpbGRpbmdzOiBbXSxcbn07XG5cbmZ1bmN0aW9uIG1haW4oKSB7XG4gIGNvbnRleHQgPSBDQU5WQVMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICBjb250ZXh0LmNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICBjb250ZXh0LmNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gIGJ1aWxkaW5nc0dlbmVyYXRvcigpO1xuICBsb2FkUGxheWVyVGFuaygpO1xuICBBVURJTy5zdGFydC5wbGF5KCkudGhlbigoKSA9PiB7fSk7XG4gIHJlZ2lzdGVyRXZlbnQoKTtcbiAgZnVuY3Rpb24gdGljaygpIHtcbiAgICB1cGRhdGUoKTtcbiAgICBkcmF3KCk7XG4gICAgc2F2ZVBsYXllclRhbmsoKTtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGljayk7XG4gIH1cbiAgdGljaygpO1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZVBsYXlUYW5rKCkge1xuICBsZXQgdGFuayA9IG5ldyBUYW5rKFxuICAgIHsgeDogY29udGV4dC5jYW52YXMud2lkdGggLyAyLCB5OiBjb250ZXh0LmNhbnZhcy5oZWlnaHQgfSxcbiAgICBESVJFQ1RJT04uVVAsXG4gICAgVEFOSy5QTEFZRVJfVEFOS1xuICApO1xuICBHQU1FLnRhbmtzLnVuc2hpZnQodGFuayk7XG59XG5cbmZ1bmN0aW9uIHNhdmVQbGF5ZXJUYW5rKCkge1xuICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJzdGF0ZVwiLCBKU09OLnN0cmluZ2lmeShHQU1FLnRhbmtzWzBdKSk7XG59XG5cbmZ1bmN0aW9uIGxvYWRQbGF5ZXJUYW5rKCkge1xuICBsZXQgZGF0YSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInN0YXRlXCIpO1xuICBpZiAoIWRhdGEpIHtcbiAgICBnZW5lcmF0ZVBsYXlUYW5rKCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBzdGF0ZSA9IEpTT04ucGFyc2UoZGF0YSk7XG4gIGxldCB0YW5rID0gbmV3IFRhbmsoXG4gICAgeyB4OiBjb250ZXh0LmNhbnZhcy53aWR0aCAvIDIsIHk6IGNvbnRleHQuY2FudmFzLmhlaWdodCB9LFxuICAgIERJUkVDVElPTi5VUCxcbiAgICBUQU5LLlBMQVlFUl9UQU5LXG4gICk7XG4gIGlmIChzdGF0ZSAhPSBudWxsKSB7XG4gICAgdGFuay5ibG9vZCA9IHN0YXRlLmJsb29kO1xuICAgIHRhbmsuYXJtb3IgPSBzdGF0ZS5hcm1vcjtcbiAgICB0YW5rLnNwZWVkID0gc3RhdGUuc3BlZWQ7XG4gICAgdGFuay5sZXZlbCA9IHN0YXRlLmxldmVsO1xuICAgIHRhbmsuYnVsbGV0LnNwZWVkID0gc3RhdGUuYnVsbGV0LnNwZWVkO1xuICAgIHRhbmsuYnVsbGV0LmRhbWFnZSA9IHN0YXRlLmJ1bGxldC5kYW1hZ2U7XG4gIH1cbiAgR0FNRS50YW5rcy51bnNoaWZ0KHRhbmspO1xufVxuXG5mdW5jdGlvbiB1cGRhdGUoKSB7XG4gIGxldCBwbGF5ZXJMZXZlbCA9IEdBTUUudGFua3NbMF0ubGV2ZWw7XG4gIGlmIChwYXVzZWQpIHJldHVybjtcbiAgaWYgKGNvdW50ID09PSAwKSB7XG4gICAgaWYgKE1hdGgucmFuZG9tKCkgPiAwLjggLSBwbGF5ZXJMZXZlbCAvIDcwKSB7XG4gICAgICBHQU1FLnRhbmtzLnB1c2goXG4gICAgICAgIG5ldyBUYW5rKFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHg6IE1hdGgucmFuZG9tKCkgKiBjb250ZXh0LmNhbnZhcy53aWR0aCxcbiAgICAgICAgICAgIHk6IDAsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBESVJFQ1RJT04uRE9XTixcbiAgICAgICAgICByYW5kb21DaG9vc2VGcm9tKEVORU1ZX1RBTktTKSxcbiAgICAgICAgICByYW5kb21OdW1iZXIocGxheWVyTGV2ZWwgLyAzLCBwbGF5ZXJMZXZlbCArIDEpXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIGNvdW50ICs9IDE7XG4gIGNvdW50ICU9IDYwO1xuICBmdW5jdGlvbiB1cGRhdGVCdWxsZXRzKCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgR0FNRS5idWxsZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoIUdBTUUuYnVsbGV0c1tpXS5hbGl2ZSkge1xuICAgICAgICBHQU1FLmJ1bGxldHMuc3BsaWNlKGksIDEpO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IEdBTUUuYnVsbGV0cy5sZW5ndGg7IGkrKykge1xuICAgICAgR0FNRS5idWxsZXRzW2ldLm1vdmUoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVUYW5rcygpIHtcbiAgICBsZXQgaXNQbGF5ZXJEaWVkID0gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBHQU1FLnRhbmtzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoIUdBTUUudGFua3NbaV0uYWxpdmUpIHtcbiAgICAgICAgR0FNRS5leHBsb3Npb25zLnB1c2goe1xuICAgICAgICAgIGNvb3JkaW5hdGU6IEdBTUUudGFua3NbaV0uY29vcmRpbmF0ZSxcbiAgICAgICAgICB0eXBlOiBFWFBMT1NJT04uVEFOS19FWFBMT1NJT04sXG4gICAgICAgIH0pO1xuICAgICAgICBHQU1FLnRhbmtzLnNwbGljZShpLCAxKTtcbiAgICAgICAgaXNQbGF5ZXJEaWVkID0gaSA9PSAwO1xuICAgICAgfVxuICAgIH1cbiAgICBHQU1FLnRhbmtzWzBdLm1vdmUoKTtcbiAgICBHQU1FLnRhbmtzWzBdLmxhc3RTaG9vdENvdW50ICs9IDE7XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBHQU1FLnRhbmtzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBHQU1FLnRhbmtzW2ldLm1vdmUoKTtcbiAgICAgIEdBTUUudGFua3NbaV0ubGFzdFNob290Q291bnQgKz0gMTtcbiAgICB9XG4gICAgaWYgKGNvdW50ICUgNSA9PT0gMCkge1xuICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBHQU1FLnRhbmtzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHBsYXllclRhbmsgPSBHQU1FLnRhbmtzWzBdO1xuICAgICAgICBjb25zdCBlbmVteVRhbmsgPSBHQU1FLnRhbmtzW2ldO1xuICAgICAgICBBSShlbmVteVRhbmssIHBsYXllclRhbmspO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNQbGF5ZXJEaWVkKSB7XG4gICAgICBBVURJTy5nYW1lX292ZXIucGxheSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICBnZW5lcmF0ZVBsYXlUYW5rKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVCdWlsZGluZ3MoKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBHQU1FLmJ1aWxkaW5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCFHQU1FLmJ1aWxkaW5nc1tpXS5hbGl2ZSkge1xuICAgICAgICBHQU1FLmJ1aWxkaW5ncy5zcGxpY2UoaSwgMSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlQnVsbGV0cygpO1xuICB1cGRhdGVCdWlsZGluZ3MoKTtcbiAgdXBkYXRlVGFua3MoKTtcbn1cblxuZnVuY3Rpb24gZHJhdygpIHtcbiAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgY29udGV4dC5jYW52YXMud2lkdGgsIGNvbnRleHQuY2FudmFzLmhlaWdodCk7XG4gIGxldCBvYmplY3RzOiBFbnRpdHlbXSA9IEdBTUUudGFua3M7XG4gIG9iamVjdHMgPSBvYmplY3RzLmNvbmNhdChHQU1FLmJ1bGxldHMpO1xuICBvYmplY3RzID0gb2JqZWN0cy5jb25jYXQoR0FNRS5idWlsZGluZ3MpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IG9iamVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICBkcmF3RW50aXR5KG9iamVjdHNbaV0pO1xuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgR0FNRS5leHBsb3Npb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgZXhwbG9zaW9uID0gR0FNRS5leHBsb3Npb25zW2ldO1xuICAgIGRyYXdFeHBsb3Npb24oZXhwbG9zaW9uLnR5cGUsIGV4cGxvc2lvbi5jb29yZGluYXRlKTtcbiAgfVxuICBzaG93U3RhdHVzKCk7XG4gIEdBTUUuZXhwbG9zaW9ucyA9IFtdO1xufVxuXG5mdW5jdGlvbiBzaG93U3RhdHVzKCkge1xuICBjb250ZXh0LmZvbnQgPSBcIjIwcHggbW9ub3NwYWNlXCI7XG4gIGNvbnRleHQuZmlsbFN0eWxlID0gXCJ3aGl0ZVwiO1xuICBsZXQgcGxheWVyID0gR0FNRS50YW5rc1swXTtcbiAgY29udGV4dC5maWxsVGV4dChcbiAgICBgYmxvb2Q6ICR7cGxheWVyLmJsb29kLnRvRml4ZWQoMSl9IGFybW9yOiAke3BsYXllci5hcm1vci50b0ZpeGVkKDIpfWAsXG4gICAgMjAsXG4gICAgMzBcbiAgKTtcbiAgY29udGV4dC5maWxsVGV4dChcbiAgICBgc3BlZWQ6ICR7cGxheWVyLnNwZWVkLnRvRml4ZWQoMil9IGxldmVsOiAke01hdGguZmxvb3IocGxheWVyLmxldmVsKX1gLFxuICAgIDIwLFxuICAgIDUwXG4gICk7XG4gIGNvbnRleHQuZmlsbFRleHQoYHNob290IGludGVydmFsOiAke3BsYXllci5zaG9vdEludGVydmFsfWAsIDIwLCA3MCk7XG4gIGNvbnRleHQuZmlsbFRleHQoXG4gICAgYGJ1bGxldCBkYW1hZ2U6ICR7cGxheWVyLmJ1bGxldC5kYW1hZ2UudG9GaXhlZChcbiAgICAgIDFcbiAgICApfSBidWxsZXQgc3BlZWQ6ICR7cGxheWVyLmJ1bGxldC5zcGVlZC50b0ZpeGVkKDEpfWAsXG4gICAgMjAsXG4gICAgOTBcbiAgKTtcbn1cblxuZnVuY3Rpb24gcmVnaXN0ZXJFdmVudCgpIHtcbiAgZG9jdW1lbnQub25rZXlkb3duID0gZnVuY3Rpb24gKGUpIHtcbiAgICB0cnkge1xuICAgICAgc3dpdGNoIChlLmNvZGUpIHtcbiAgICAgICAgY2FzZSBcIktleUFcIjpcbiAgICAgICAgICBrZXlBRG93biA9IHRydWU7XG4gICAgICAgICAgR0FNRS50YW5rc1swXS5tb3ZpbmcgPSB0cnVlO1xuICAgICAgICAgIEdBTUUudGFua3NbMF0uZGlyZWN0aW9uID0gRElSRUNUSU9OLkxFRlQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJLZXlEXCI6XG4gICAgICAgICAga2V5RERvd24gPSB0cnVlO1xuICAgICAgICAgIEdBTUUudGFua3NbMF0ubW92aW5nID0gdHJ1ZTtcbiAgICAgICAgICBHQU1FLnRhbmtzWzBdLmRpcmVjdGlvbiA9IERJUkVDVElPTi5SSUdIVDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIktleVdcIjpcbiAgICAgICAgICBrZXlXRG93biA9IHRydWU7XG4gICAgICAgICAgR0FNRS50YW5rc1swXS5tb3ZpbmcgPSB0cnVlO1xuICAgICAgICAgIEdBTUUudGFua3NbMF0uZGlyZWN0aW9uID0gRElSRUNUSU9OLlVQO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiS2V5U1wiOlxuICAgICAgICAgIGtleVNEb3duID0gdHJ1ZTtcbiAgICAgICAgICBHQU1FLnRhbmtzWzBdLm1vdmluZyA9IHRydWU7XG4gICAgICAgICAgR0FNRS50YW5rc1swXS5kaXJlY3Rpb24gPSBESVJFQ1RJT04uRE9XTjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIktleVBcIjpcbiAgICAgICAgICBwYXVzZWQgPSAhcGF1c2VkO1xuICAgICAgICAgIEFVRElPLnBhdXNlLnBsYXkoKS50aGVuKCgpID0+IHt9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIlNwYWNlXCI6XG4gICAgICAgICAgR0FNRS50YW5rc1swXS5zaG9vdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiRjExXCI6XG4gICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJLZXlSXCI6XG4gICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJLZXlCXCI6XG4gICAgICAgICAgZ2VuZXJhdGVQbGF5VGFuaygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKGUudG9TdHJpbmcoKSk7XG4gICAgfVxuICB9O1xuXG4gIGRvY3VtZW50Lm9ubW91c2Vkb3duID0gZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAoZS5idXR0b24gPT0gMCkge1xuICAgICAgR0FNRS50YW5rc1swXS5zaG9vdCgpO1xuICAgIH1cbiAgfTtcblxuICBkb2N1bWVudC5vbmtleXVwID0gZnVuY3Rpb24gKGUpIHtcbiAgICBzd2l0Y2ggKGUuY29kZSkge1xuICAgICAgY2FzZSBcIktleUFcIjpcbiAgICAgICAga2V5QURvd24gPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiS2V5RFwiOlxuICAgICAgICBrZXlERG93biA9IGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJLZXlXXCI6XG4gICAgICAgIGtleVdEb3duID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIktleVNcIjpcbiAgICAgICAga2V5U0Rvd24gPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiS2V5Q1wiOlxuICAgICAgICBHQU1FLmJ1aWxkaW5ncyA9IFtdO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBpZiAoIWtleVNEb3duICYmICFrZXlXRG93biAmJiAha2V5RERvd24gJiYgIWtleUFEb3duKVxuICAgICAgR0FNRS50YW5rc1swXS5tb3ZpbmcgPSBmYWxzZTtcbiAgfTtcblxuICBkb2N1bWVudC5vbnRvdWNoc3RhcnQgPSBmdW5jdGlvbiAoZSkge1xuICAgIHRvdWNoUG9pbnRYID0gZS50b3VjaGVzWzBdLnBhZ2VYO1xuICAgIHRvdWNoUG9pbnRZID0gZS50b3VjaGVzWzBdLnBhZ2VZO1xuICB9O1xuXG4gIGRvY3VtZW50Lm9udG91Y2hlbmQgPSBmdW5jdGlvbiAoZSkge1xuICAgIGxldCBlbmRUb3VjaFBvaW50WCA9IGUuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVg7XG4gICAgbGV0IGVuZFRvdWNoUG9pbnRZID0gZS5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWTtcbiAgICBsZXQgZGVsdGFYID0gTWF0aC5hYnMoZW5kVG91Y2hQb2ludFggLSB0b3VjaFBvaW50WCk7XG4gICAgbGV0IGRlbHRhWSA9IE1hdGguYWJzKGVuZFRvdWNoUG9pbnRZIC0gdG91Y2hQb2ludFkpO1xuICAgIGlmIChHQU1FLnRhbmtzWzBdKSB7XG4gICAgICBHQU1FLnRhbmtzWzBdLm1vdmluZyA9IHRydWU7XG4gICAgICBHQU1FLnRhbmtzWzBdLnNob290KCk7XG4gICAgfVxuICAgIGlmIChNYXRoLm1heChkZWx0YVgsIGRlbHRhWSkgPCAzMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoZGVsdGFYID4gZGVsdGFZKSB7XG4gICAgICBpZiAoZW5kVG91Y2hQb2ludFggPiB0b3VjaFBvaW50WCkge1xuICAgICAgICBHQU1FLnRhbmtzWzBdLmRpcmVjdGlvbiA9IERJUkVDVElPTi5SSUdIVDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIEdBTUUudGFua3NbMF0uZGlyZWN0aW9uID0gRElSRUNUSU9OLkxFRlQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChlbmRUb3VjaFBvaW50WSA+IHRvdWNoUG9pbnRZKSB7XG4gICAgICAgIEdBTUUudGFua3NbMF0uZGlyZWN0aW9uID0gRElSRUNUSU9OLkRPV047XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBHQU1FLnRhbmtzWzBdLmRpcmVjdGlvbiA9IERJUkVDVElPTi5VUDtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG5cbmV4cG9ydCB7IG1haW4sIEdBTUUsIGNvbnRleHQgfTtcbiIsImltcG9ydCB7IEFVRElPLCBESVJFQ1RJT04sIFRBTkssIFRBTktfUkFESVVTIH0gZnJvbSBcIi4uL0NvbnN0YW50c1wiO1xuXG5pbXBvcnQgeyBjb250ZXh0LCBHQU1FIH0gZnJvbSBcIi4uL2luZGV4XCI7XG5cbmltcG9ydCB7IENvb3JkaW5hdGUsIEVudGl0eSB9IGZyb20gXCIuL0dlbmVyYWxcIjtcblxuaW1wb3J0IHsgQnVsbGV0IH0gZnJvbSBcIi4vQnVsbGV0XCI7XG5cbmNsYXNzIFRhbmsgaW1wbGVtZW50cyBFbnRpdHkge1xuICBjb29yZGluYXRlOiBDb29yZGluYXRlO1xuICBkaXJlY3Rpb246IERJUkVDVElPTjtcbiAgbGFzdFNob290Q291bnQ6IG51bWJlcjtcbiAgdHlwZTogVEFOSztcbiAgcmFkaXVzOiBudW1iZXI7XG4gIHNob290SW50ZXJ2YWw6IG51bWJlcjtcbiAgYWxpdmU6IGJvb2xlYW47XG4gIG1vdmluZzogYm9vbGVhbjtcbiAgaW1hZ2VUdXJuOiBib29sZWFuO1xuICBjYW5UYW5rUGFzczogYm9vbGVhbjtcbiAgY2FuQnVsbGV0UGFzczogYm9vbGVhbjtcbiAgYWN0aW9uTGlzdDogYW55W107XG4gIGJ1bGxldDogeyBkYW1hZ2U6IG51bWJlcjsgc3BlZWQ6IG51bWJlciB9O1xuICBibG9vZDogbnVtYmVyO1xuICBhcm1vcjogbnVtYmVyO1xuICBzcGVlZDogbnVtYmVyO1xuICBhdHRhY2tJbnRlcnZhbDogbnVtYmVyO1xuICBsZXZlbDogbnVtYmVyO1xuICBiYXNpYzoge1xuICAgIGJsb29kOiBudW1iZXI7XG4gICAgYXJtb3I6IG51bWJlcjtcbiAgICBzcGVlZDogbnVtYmVyO1xuICAgIGF0dGFja0ludGVydmFsOiBudW1iZXI7XG4gICAgYnVsbGV0RGFtYWdlOiBudW1iZXI7XG4gICAgYnVsbGV0U3BlZWQ6IG51bWJlcjtcbiAgfTtcbiAgY29uc3RydWN0b3IoXG4gICAgY29vcmRpbmF0ZTogQ29vcmRpbmF0ZSxcbiAgICBkaXJlY3Rpb246IERJUkVDVElPTixcbiAgICB0eXBlOiBUQU5LLFxuICAgIGxldmVsID0gMVxuICApIHtcbiAgICB0aGlzLmNvb3JkaW5hdGUgPSBjb29yZGluYXRlO1xuICAgIHRoaXMuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuICAgIHRoaXMubGFzdFNob290Q291bnQgPSAwO1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgdGhpcy5yYWRpdXMgPSBUQU5LX1JBRElVUztcbiAgICB0aGlzLnNob290SW50ZXJ2YWwgPSA2MDtcbiAgICB0aGlzLmFsaXZlID0gdHJ1ZTtcbiAgICB0aGlzLm1vdmluZyA9IHRydWU7XG4gICAgdGhpcy5pbWFnZVR1cm4gPSB0cnVlO1xuICAgIHRoaXMuY2FuVGFua1Bhc3MgPSBmYWxzZTtcbiAgICB0aGlzLmNhbkJ1bGxldFBhc3MgPSBmYWxzZTtcbiAgICB0aGlzLmFjdGlvbkxpc3QgPSBbXTtcbiAgICB0aGlzLmJ1bGxldCA9IHtcbiAgICAgIGRhbWFnZTogNSxcbiAgICAgIHNwZWVkOiAxMCxcbiAgICB9O1xuICAgIHRoaXMuYXJtb3IgPSAwLjU7XG4gICAgdGhpcy5zcGVlZCA9IDIuNTtcbiAgICB0aGlzLmF0dGFja0ludGVydmFsID0gNDA7XG4gICAgdGhpcy5sZXZlbCA9IGxldmVsO1xuICAgIHN3aXRjaCAodGhpcy50eXBlKSB7XG4gICAgICBjYXNlIFRBTksuUExBWUVSX1RBTks6XG4gICAgICAgIHRoaXMuYmFzaWMgPSB7XG4gICAgICAgICAgYmxvb2Q6IDIwLFxuICAgICAgICAgIGFybW9yOiAwLjUsXG4gICAgICAgICAgc3BlZWQ6IDIuNSxcbiAgICAgICAgICBhdHRhY2tJbnRlcnZhbDogNDUsXG4gICAgICAgICAgYnVsbGV0RGFtYWdlOiA4LFxuICAgICAgICAgIGJ1bGxldFNwZWVkOiAxNSxcbiAgICAgICAgfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFRBTksuTk9STUFMX1RBTks6XG4gICAgICAgIHRoaXMuYmFzaWMgPSB7XG4gICAgICAgICAgYmxvb2Q6IDEwLFxuICAgICAgICAgIGFybW9yOiAwLjUsXG4gICAgICAgICAgc3BlZWQ6IDEuOCxcbiAgICAgICAgICBhdHRhY2tJbnRlcnZhbDogNDUsXG4gICAgICAgICAgYnVsbGV0RGFtYWdlOiA2LFxuICAgICAgICAgIGJ1bGxldFNwZWVkOiA3LFxuICAgICAgICB9O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgVEFOSy5TV0lGVF9UQU5LOlxuICAgICAgICB0aGlzLmJhc2ljID0ge1xuICAgICAgICAgIGJsb29kOiA3LFxuICAgICAgICAgIGFybW9yOiAwLjM1LFxuICAgICAgICAgIHNwZWVkOiAzLFxuICAgICAgICAgIGF0dGFja0ludGVydmFsOiAzMCxcbiAgICAgICAgICBidWxsZXREYW1hZ2U6IDMsXG4gICAgICAgICAgYnVsbGV0U3BlZWQ6IDEyLFxuICAgICAgICB9O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgVEFOSy5IRUFWWV9UQU5LOlxuICAgICAgICB0aGlzLmJhc2ljID0ge1xuICAgICAgICAgIGJsb29kOiAyMCxcbiAgICAgICAgICBhcm1vcjogMC43LFxuICAgICAgICAgIHNwZWVkOiAwLjcsXG4gICAgICAgICAgYXR0YWNrSW50ZXJ2YWw6IDYwLFxuICAgICAgICAgIGJ1bGxldERhbWFnZTogMTAsXG4gICAgICAgICAgYnVsbGV0U3BlZWQ6IDMsXG4gICAgICAgIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhpcy5iYXNpYyA9IHtcbiAgICAgICAgICBibG9vZDogMTAsXG4gICAgICAgICAgYXJtb3I6IDAuNixcbiAgICAgICAgICBzcGVlZDogMyxcbiAgICAgICAgICBhdHRhY2tJbnRlcnZhbDogMjAsXG4gICAgICAgICAgYnVsbGV0RGFtYWdlOiA1LFxuICAgICAgICAgIGJ1bGxldFNwZWVkOiAxNSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlVuZXhwZWN0ZWQgdGFuayB0eXBlOiBcIiArIHRoaXMudHlwZSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICB0aGlzLmJsb29kID0gdGhpcy5iYXNpYy5ibG9vZDtcbiAgICB0aGlzLmNhbGN1bGF0ZUF0dHJpYnV0ZXMoKTtcbiAgfVxuXG4gIGNhbGN1bGF0ZUF0dHJpYnV0ZXMoKTogdm9pZCB7XG4gICAgdGhpcy5ibG9vZCA9IE1hdGgubWluKHRoaXMuYmFzaWMuYmxvb2QgKyAzMCwgdGhpcy5ibG9vZCArIDIpO1xuICAgIHRoaXMuc3BlZWQgPSBNYXRoLm1pbihcbiAgICAgIHRoaXMuYmFzaWMuc3BlZWQgKyA4LFxuICAgICAgdGhpcy5iYXNpYy5zcGVlZCArIHRoaXMubGV2ZWwgKiAwLjA1XG4gICAgKTtcbiAgICB0aGlzLmFybW9yID0gTWF0aC5taW4oMC44LCB0aGlzLmJhc2ljLmFybW9yICsgdGhpcy5sZXZlbCAqIDAuMDEpO1xuICAgIHRoaXMuYnVsbGV0LnNwZWVkID0gTWF0aC5taW4oXG4gICAgICB0aGlzLmJhc2ljLnNwZWVkICsgMTUsXG4gICAgICB0aGlzLmJhc2ljLmJ1bGxldFNwZWVkICsgdGhpcy5sZXZlbCAqIDAuMVxuICAgICk7XG4gICAgdGhpcy5idWxsZXQuZGFtYWdlID0gTWF0aC5taW4oXG4gICAgICB0aGlzLmJhc2ljLmJ1bGxldERhbWFnZSArIDI1LFxuICAgICAgdGhpcy5iYXNpYy5idWxsZXREYW1hZ2UgKyB0aGlzLmxldmVsICogMC4zXG4gICAgKTtcbiAgICB0aGlzLnNob290SW50ZXJ2YWwgPSBNYXRoLm1heChcbiAgICAgIHRoaXMuYmFzaWMuYXR0YWNrSW50ZXJ2YWwgLSAyMCxcbiAgICAgIHRoaXMuYmFzaWMuYXR0YWNrSW50ZXJ2YWwgLSB0aGlzLmxldmVsXG4gICAgKTtcbiAgfVxuXG4gIGxldmVsVXAoKTogdm9pZCB7XG4gICAgdGhpcy5sZXZlbCsrO1xuICAgIHRoaXMuY2FsY3VsYXRlQXR0cmlidXRlcygpO1xuICB9XG5cbiAgYmVBdHRhY2tlZChidWxsZXQ6IHsgZGFtYWdlOiBudW1iZXIgfSwgYXR0YWNrZXI6IEVudGl0eSkge1xuICAgIHRoaXMuYmxvb2QgLT0gTWF0aC5tYXgoMSwgYnVsbGV0LmRhbWFnZSAqICgxIC0gdGhpcy5hcm1vcikpO1xuICAgIGlmICh0aGlzLmJsb29kIDw9IDApIHtcbiAgICAgIHRoaXMuYmxvb2QgPSAwO1xuICAgICAgdGhpcy5hbGl2ZSA9IGZhbHNlO1xuICAgICAgQVVESU8uZXhwbG9zaW9uLnBsYXkoKS50aGVuKCgpID0+IHt9KTtcbiAgICAgIGF0dGFja2VyLmxldmVsVXAoKTtcbiAgICB9XG4gIH1cblxuICBtb3ZlKCkge1xuICAgIGlmICh0aGlzLm1vdmluZykge1xuICAgICAgbGV0IG92ZXJsYXBwaW5nID0gZmFsc2U7XG4gICAgICBsZXQgb2JzdGFjbGVzOiBFbnRpdHlbXSA9IEdBTUUudGFua3M7XG4gICAgICBvYnN0YWNsZXMgPSBvYnN0YWNsZXMuY29uY2F0KEdBTUUuYnVpbGRpbmdzKTtcbiAgICAgIGxldCB4RGVsdGEgPSAwO1xuICAgICAgbGV0IHlEZWx0YSA9IDA7XG4gICAgICBzd2l0Y2ggKHRoaXMuZGlyZWN0aW9uKSB7XG4gICAgICAgIGNhc2UgRElSRUNUSU9OLlVQOlxuICAgICAgICAgIHlEZWx0YSA9IC10aGlzLnNwZWVkO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIERJUkVDVElPTi5ET1dOOlxuICAgICAgICAgIHlEZWx0YSA9IHRoaXMuc3BlZWQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgRElSRUNUSU9OLkxFRlQ6XG4gICAgICAgICAgeERlbHRhID0gLXRoaXMuc3BlZWQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgRElSRUNUSU9OLlJJR0hUOlxuICAgICAgICAgIHhEZWx0YSA9IHRoaXMuc3BlZWQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICB0aGlzLmNvb3JkaW5hdGUueCArPSB4RGVsdGE7XG4gICAgICB0aGlzLmNvb3JkaW5hdGUueSArPSB5RGVsdGE7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9ic3RhY2xlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAob2JzdGFjbGVzW2ldLmNhblRhbmtQYXNzKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAgIE1hdGguYWJzKHRoaXMuY29vcmRpbmF0ZS55IC0gb2JzdGFjbGVzW2ldLmNvb3JkaW5hdGUueSkgPFxuICAgICAgICAgICAgdGhpcy5yYWRpdXMgKyBvYnN0YWNsZXNbaV0ucmFkaXVzICYmXG4gICAgICAgICAgdGhpcy5jb29yZGluYXRlICE9PSBvYnN0YWNsZXNbaV0uY29vcmRpbmF0ZSAmJlxuICAgICAgICAgIE1hdGguYWJzKHRoaXMuY29vcmRpbmF0ZS54IC0gb2JzdGFjbGVzW2ldLmNvb3JkaW5hdGUueCkgPFxuICAgICAgICAgICAgdGhpcy5yYWRpdXMgKyBvYnN0YWNsZXNbaV0ucmFkaXVzXG4gICAgICAgICkge1xuICAgICAgICAgIG92ZXJsYXBwaW5nID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLmNvb3JkaW5hdGUueCAtPSB4RGVsdGE7XG4gICAgICAgICAgdGhpcy5jb29yZGluYXRlLnkgLT0geURlbHRhO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY29vcmRpbmF0ZSA9IFRhbmsuYm91bmQodGhpcy5jb29yZGluYXRlLCB0aGlzLnJhZGl1cyk7IC8vIE1ha2UgdGhlIHRhbmsgdW5hYmxlIHRvIGNyb3NzIHRoZSBib3JkZXJcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYm91bmQoY29vcmRpbmF0ZTogQ29vcmRpbmF0ZSwgcmFkaXVzOiBudW1iZXIpIHtcbiAgICBpZiAoY29vcmRpbmF0ZS54IDwgcmFkaXVzKSB7XG4gICAgICBjb29yZGluYXRlLnggPSByYWRpdXM7XG4gICAgfSBlbHNlIGlmIChjb29yZGluYXRlLnggKyByYWRpdXMgPiBjb250ZXh0LmNhbnZhcy53aWR0aCkge1xuICAgICAgY29vcmRpbmF0ZS54ID0gY29udGV4dC5jYW52YXMud2lkdGggLSByYWRpdXM7XG4gICAgfVxuICAgIGlmIChjb29yZGluYXRlLnkgPCByYWRpdXMpIHtcbiAgICAgIGNvb3JkaW5hdGUueSA9IHJhZGl1cztcbiAgICB9IGVsc2UgaWYgKGNvb3JkaW5hdGUueSArIHJhZGl1cyA+IGNvbnRleHQuY2FudmFzLmhlaWdodCkge1xuICAgICAgY29vcmRpbmF0ZS55ID0gY29udGV4dC5jYW52YXMuaGVpZ2h0IC0gcmFkaXVzO1xuICAgIH1cblxuICAgIHJldHVybiBjb29yZGluYXRlO1xuICB9XG5cbiAgc2hvb3QoKSB7XG4gICAgaWYgKHRoaXMubGFzdFNob290Q291bnQgPj0gdGhpcy5zaG9vdEludGVydmFsKSB7XG4gICAgICBHQU1FLmJ1bGxldHMucHVzaChcbiAgICAgICAgbmV3IEJ1bGxldChcbiAgICAgICAgICB0aGlzLmNvb3JkaW5hdGUsXG4gICAgICAgICAgdGhpcy5kaXJlY3Rpb24sXG4gICAgICAgICAgdGhpcy5idWxsZXQuZGFtYWdlLFxuICAgICAgICAgIHRoaXMuYnVsbGV0LnNwZWVkLFxuICAgICAgICAgIHRoaXNcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICAgIHRoaXMubGFzdFNob290Q291bnQgPSAwO1xuICAgICAgaWYgKHRoaXMudHlwZSA9PT0gVEFOSy5QTEFZRVJfVEFOSykge1xuICAgICAgICBBVURJTy5zaG9vdC5wbGF5KCkudGhlbigoKSA9PiB7fSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7IFRhbmsgfTtcbiIsImltcG9ydCB7IENvb3JkaW5hdGUsIEVudGl0eSB9IGZyb20gXCIuL21vZGVscy9HZW5lcmFsXCI7XG5pbXBvcnQgeyBjb250ZXh0IH0gZnJvbSBcIi4vaW5kZXhcIjtcbmltcG9ydCB7XG4gIEJVSUxESU5HX0lNQUdFLFxuICBCVUlMRElOR19SQURJVVMsXG4gIEJVTExFVF9JTUFHRSxcbiAgQlVMTEVUX1JBRElVUyxcbiAgRVhQTE9TSU9OLFxuICBFWFBMT1NJT05fSU1BR0UsXG4gIEVYUExPU0lPTl9SQURJVVMsXG4gIElNQUdFLFxuICBUQU5LX0lNQUdFLFxuICBUQU5LX1JBRElVUyxcbn0gZnJvbSBcIi4vQ29uc3RhbnRzXCI7XG5pbXBvcnQgeyBUYW5rIH0gZnJvbSBcIi4vbW9kZWxzL1RhbmtcIjtcbmltcG9ydCB7IEJ1aWxkaW5nIH0gZnJvbSBcIi4vbW9kZWxzL0J1aWxkaW5nXCI7XG5pbXBvcnQgeyBCdWxsZXQgfSBmcm9tIFwiLi9tb2RlbHMvQnVsbGV0XCI7XG5cbmZ1bmN0aW9uIHJhbmRvbUNob29zZUZyb20oYXJyYXk6IEFycmF5PGFueT4pIHtcbiAgcmV0dXJuIGFycmF5W01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGFycmF5Lmxlbmd0aCldO1xufVxuXG5mdW5jdGlvbiByYW5kb21EZWNpc2lvbk1ha2VyKHByb2JhYmlsaXR5OiBudW1iZXIpOiBib29sZWFuIHtcbiAgcmV0dXJuIHByb2JhYmlsaXR5ID4gTWF0aC5yYW5kb20oKTtcbn1cblxuZnVuY3Rpb24gcmFuZG9tTnVtYmVyKHN0YXJ0OiBudW1iZXIsIGVuZDogbnVtYmVyKTogbnVtYmVyIHtcbiAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChlbmQgLSBzdGFydCkpICsgc3RhcnQ7XG59XG5cbmZ1bmN0aW9uIGRyYXdFbnRpdHkoZW50aXR5OiBFbnRpdHkpIHtcbiAgbGV0IHggPSBlbnRpdHkuY29vcmRpbmF0ZS54O1xuICBsZXQgeSA9IGVudGl0eS5jb29yZGluYXRlLnk7XG4gIGxldCByZWN0OiBhbnk7XG4gIGxldCB3aWR0aCA9IDE2O1xuICBsZXQgaGVpZ2h0ID0gMTY7XG4gIGlmIChlbnRpdHkgaW5zdGFuY2VvZiBUYW5rKSB7XG4gICAgaWYgKGVudGl0eS5tb3ZpbmcpIGVudGl0eS5pbWFnZVR1cm4gPSAhZW50aXR5LmltYWdlVHVybjtcbiAgICByZWN0ID0gVEFOS19JTUFHRVtlbnRpdHkudHlwZV1bZW50aXR5LmRpcmVjdGlvbl1bTnVtYmVyKGVudGl0eS5pbWFnZVR1cm4pXTtcbiAgICB3aWR0aCA9IDIgKiBUQU5LX1JBRElVUztcbiAgICBoZWlnaHQgPSAyICogVEFOS19SQURJVVM7XG4gIH0gZWxzZSBpZiAoZW50aXR5IGluc3RhbmNlb2YgQnVpbGRpbmcpIHtcbiAgICByZWN0ID0gQlVJTERJTkdfSU1BR0VbZW50aXR5LnR5cGVdO1xuICAgIHdpZHRoID0gMiAqIEJVSUxESU5HX1JBRElVUztcbiAgICBoZWlnaHQgPSAyICogQlVJTERJTkdfUkFESVVTO1xuICB9IGVsc2UgaWYgKGVudGl0eSBpbnN0YW5jZW9mIEJ1bGxldCkge1xuICAgIHJlY3QgPSBCVUxMRVRfSU1BR0VbZW50aXR5LmRpcmVjdGlvbl07XG4gICAgd2lkdGggPSAyICogQlVMTEVUX1JBRElVUztcbiAgICBoZWlnaHQgPSAyICogQlVMTEVUX1JBRElVUztcbiAgfVxuICBjb250ZXh0LmRyYXdJbWFnZShcbiAgICBJTUFHRSxcbiAgICByZWN0WzBdLFxuICAgIHJlY3RbMV0sXG4gICAgcmVjdFsyXSxcbiAgICByZWN0WzNdLFxuICAgIHggLSB3aWR0aCAvIDIsXG4gICAgeSAtIGhlaWdodCAvIDIsXG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0XG4gICk7XG59XG5cbmZ1bmN0aW9uIGRyYXdFeHBsb3Npb24odHlwZTogRVhQTE9TSU9OLCBjb29yZGluYXRlOiBDb29yZGluYXRlKSB7XG4gIGxldCByZWN0ID0gRVhQTE9TSU9OX0lNQUdFW3R5cGVdO1xuICBjb250ZXh0LmRyYXdJbWFnZShcbiAgICBJTUFHRSxcbiAgICByZWN0WzBdLFxuICAgIHJlY3RbMV0sXG4gICAgcmVjdFsyXSxcbiAgICByZWN0WzNdLFxuICAgIGNvb3JkaW5hdGUueCAtIHJlY3RbMl0gLyAyLFxuICAgIGNvb3JkaW5hdGUueSAtIHJlY3RbM10gLyAyLFxuICAgIHJlY3RbMl0sXG4gICAgcmVjdFszXVxuICApO1xufVxuXG5leHBvcnQgeyByYW5kb21DaG9vc2VGcm9tLCByYW5kb21OdW1iZXIsIGRyYXdFbnRpdHksIGRyYXdFeHBsb3Npb24gfTtcbiIsImltcG9ydCB7IEFVRElPLCBCVUxMRVRfUkFESVVTLCBESVJFQ1RJT04sIEVYUExPU0lPTiwgVEFOSyB9IGZyb20gXCIuLi9Db25zdGFudHNcIjtcblxuaW1wb3J0IHsgY29udGV4dCwgR0FNRSB9IGZyb20gXCIuLi9pbmRleFwiO1xuXG5pbXBvcnQgeyBUYW5rIH0gZnJvbSBcIi4vVGFua1wiO1xuXG5pbXBvcnQgeyBDb29yZGluYXRlLCBFbnRpdHkgfSBmcm9tIFwiLi9HZW5lcmFsXCI7XG5cbmNsYXNzIEJ1bGxldCBpbXBsZW1lbnRzIEVudGl0eSB7XG4gIGNhblRhbmtQYXNzOiBib29sZWFuO1xuICBjYW5CdWxsZXRQYXNzOiBib29sZWFuO1xuICBzaG9vdGVyOiBUYW5rO1xuICBkaXJlY3Rpb246IERJUkVDVElPTjtcbiAgY29vcmRpbmF0ZTogQ29vcmRpbmF0ZTtcbiAgZGFtYWdlOiBudW1iZXI7XG4gIGFsaXZlOiBib29sZWFuO1xuICBzcGVlZDogbnVtYmVyO1xuICByYWRpdXM6IG51bWJlcjtcbiAgdHlwZTogYW55O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGNvb3JkaW5hdGU6IENvb3JkaW5hdGUsXG4gICAgZGlyZWN0aW9uOiBESVJFQ1RJT04sXG4gICAgZGFtYWdlOiBudW1iZXIsXG4gICAgc3BlZWQ6IG51bWJlcixcbiAgICBzaG9vdGVyOiBUYW5rXG4gICkge1xuICAgIHRoaXMuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuICAgIHRoaXMuc2hvb3RlciA9IHNob290ZXI7XG4gICAgdGhpcy5jYW5CdWxsZXRQYXNzID0gZmFsc2U7XG4gICAgdGhpcy5jYW5UYW5rUGFzcyA9IGZhbHNlO1xuICAgIGxldCB4T2Zmc2V0ID0gMDtcbiAgICBsZXQgeU9mZnNldCA9IDA7XG4gICAgc3dpdGNoICh0aGlzLmRpcmVjdGlvbikge1xuICAgICAgY2FzZSBESVJFQ1RJT04uVVA6XG4gICAgICAgIHlPZmZzZXQgPSAtMjA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBESVJFQ1RJT04uRE9XTjpcbiAgICAgICAgeU9mZnNldCA9IDIwO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgRElSRUNUSU9OLkxFRlQ6XG4gICAgICAgIHhPZmZzZXQgPSAtMjA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBESVJFQ1RJT04uUklHSFQ6XG4gICAgICAgIHhPZmZzZXQgPSAyMDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgdGhpcy5jb29yZGluYXRlID0ge1xuICAgICAgeDogY29vcmRpbmF0ZS54ICsgeE9mZnNldCxcbiAgICAgIHk6IGNvb3JkaW5hdGUueSArIHlPZmZzZXQsXG4gICAgfTtcbiAgICB0aGlzLmRhbWFnZSA9IGRhbWFnZTtcbiAgICB0aGlzLmFsaXZlID0gdHJ1ZTtcbiAgICB0aGlzLnNwZWVkID0gc3BlZWQ7XG4gICAgdGhpcy5yYWRpdXMgPSBCVUxMRVRfUkFESVVTO1xuICB9XG5cbiAgbW92ZSgpIHtcbiAgICBpZiAodGhpcy5hbGl2ZSkge1xuICAgICAgc3dpdGNoICh0aGlzLmRpcmVjdGlvbikge1xuICAgICAgICBjYXNlIERJUkVDVElPTi5VUDpcbiAgICAgICAgICBpZiAodGhpcy5jb29yZGluYXRlLnkgLSB0aGlzLnNwZWVkIDw9IDApIHtcbiAgICAgICAgICAgIHRoaXMuY29vcmRpbmF0ZS55ID0gMDtcbiAgICAgICAgICAgIHRoaXMuZXhwbG9zaW9uKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tBbGxPYnN0YWNsZXMoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5jb29yZGluYXRlLnkgLT0gdGhpcy5zcGVlZDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBESVJFQ1RJT04uRE9XTjpcbiAgICAgICAgICBpZiAodGhpcy5jb29yZGluYXRlLnkgKyB0aGlzLnNwZWVkID49IGNvbnRleHQuY2FudmFzLmhlaWdodCkge1xuICAgICAgICAgICAgdGhpcy5jb29yZGluYXRlLnkgPSBjb250ZXh0LmNhbnZhcy5oZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLmV4cGxvc2lvbigpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrQWxsT2JzdGFjbGVzKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuY29vcmRpbmF0ZS55ICs9IHRoaXMuc3BlZWQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgRElSRUNUSU9OLkxFRlQ6XG4gICAgICAgICAgaWYgKHRoaXMuY29vcmRpbmF0ZS54IC0gdGhpcy5zcGVlZCA8PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmNvb3JkaW5hdGUueCA9IDA7XG4gICAgICAgICAgICB0aGlzLmV4cGxvc2lvbigpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrQWxsT2JzdGFjbGVzKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuY29vcmRpbmF0ZS54IC09IHRoaXMuc3BlZWQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgRElSRUNUSU9OLlJJR0hUOlxuICAgICAgICAgIGlmICh0aGlzLmNvb3JkaW5hdGUueCArIHRoaXMuc3BlZWQgPj0gY29udGV4dC5jYW52YXMud2lkdGgpIHtcbiAgICAgICAgICAgIHRoaXMuY29vcmRpbmF0ZS54ID0gY29udGV4dC5jYW52YXMud2lkdGg7XG4gICAgICAgICAgICB0aGlzLmV4cGxvc2lvbigpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrQWxsT2JzdGFjbGVzKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuY29vcmRpbmF0ZS54ICs9IHRoaXMuc3BlZWQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIlVuZXhwZWN0ZWQgZGlyZWN0aW9uXCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGV4cGxvc2lvbigpIHtcbiAgICB0aGlzLmFsaXZlID0gZmFsc2U7XG4gICAgR0FNRS5leHBsb3Npb25zLnB1c2goe1xuICAgICAgY29vcmRpbmF0ZTogdGhpcy5jb29yZGluYXRlLFxuICAgICAgdHlwZTogRVhQTE9TSU9OLkJVTExFVF9FWFBMT1NJT04sXG4gICAgfSk7XG4gIH1cblxuICBjaGVja0FsbE9ic3RhY2xlcygpIHtcbiAgICBsZXQgb2JzdGFjbGVzOiBFbnRpdHlbXSA9IEdBTUUudGFua3M7XG4gICAgb2JzdGFjbGVzID0gb2JzdGFjbGVzLmNvbmNhdChHQU1FLmJ1aWxkaW5ncyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYnN0YWNsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChvYnN0YWNsZXNbaV0uY2FuQnVsbGV0UGFzcyB8fCBvYnN0YWNsZXNbaV0gPT0gdGhpcy5zaG9vdGVyKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICBCdWxsZXQuaXNIaXQoXG4gICAgICAgICAgdGhpcy5jb29yZGluYXRlLFxuICAgICAgICAgIG9ic3RhY2xlc1tpXS5jb29yZGluYXRlLFxuICAgICAgICAgIG9ic3RhY2xlc1tpXS5yYWRpdXNcbiAgICAgICAgKVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuZXhwbG9zaW9uKCk7XG4gICAgICAgIG9ic3RhY2xlc1tpXS5iZUF0dGFja2VkKHRoaXMsIHRoaXMuc2hvb3Rlcik7XG4gICAgICAgIGlmIChvYnN0YWNsZXNbaV0gaW5zdGFuY2VvZiBUYW5rKSB7XG4gICAgICAgICAgaWYgKHRoaXMuc2hvb3Rlci50eXBlID09IFRBTksuUExBWUVSX1RBTkspIHtcbiAgICAgICAgICAgIEFVRElPLmhpdC5wbGF5KCkudGhlbigoKSA9PiB7fSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChvYnN0YWNsZXNbaV0udHlwZSA9PSBUQU5LLlBMQVlFUl9UQU5LKSB7XG4gICAgICAgICAgICBBVURJTy5iZV9oaXQucGxheSgpLnRoZW4oKCkgPT4ge30pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBiZUF0dGFja2VkKHBhcmFtOiBCdWxsZXQsIGF0dGFja2VyOiBFbnRpdHkpOiB2b2lkIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgfVxuXG4gIHN0YXRpYyBpc0hpdChcbiAgICBidWxsZXRDb29yZGluYXRlOiBDb29yZGluYXRlLFxuICAgIHRhcmdldENvb3JkaW5hdGU6IENvb3JkaW5hdGUsXG4gICAgdGFyZ2V0UmFkaXVzOiBudW1iZXJcbiAgKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIGJ1bGxldENvb3JkaW5hdGUueCA+PSB0YXJnZXRDb29yZGluYXRlLnggLSB0YXJnZXRSYWRpdXMgJiZcbiAgICAgIGJ1bGxldENvb3JkaW5hdGUueCA8PSB0YXJnZXRDb29yZGluYXRlLnggKyB0YXJnZXRSYWRpdXMgJiZcbiAgICAgIGJ1bGxldENvb3JkaW5hdGUueSA+PSB0YXJnZXRDb29yZGluYXRlLnkgLSB0YXJnZXRSYWRpdXMgJiZcbiAgICAgIGJ1bGxldENvb3JkaW5hdGUueSA8PSB0YXJnZXRDb29yZGluYXRlLnkgKyB0YXJnZXRSYWRpdXNcbiAgICApO1xuICB9XG5cbiAgbGV2ZWxVcCgpOiB2b2lkIHt9XG59XG5cbmV4cG9ydCB7IEJ1bGxldCB9O1xuIiwiaW1wb3J0IHsgQlVJTERJTkcsIEJVSUxESU5HX1JBRElVUyB9IGZyb20gXCIuLi9Db25zdGFudHNcIjtcblxuaW1wb3J0IHsgQ29vcmRpbmF0ZSwgRW50aXR5IH0gZnJvbSBcIi4vR2VuZXJhbFwiO1xuXG5pbXBvcnQgeyBCdWxsZXQgfSBmcm9tIFwiLi9CdWxsZXRcIjtcblxuY2xhc3MgQnVpbGRpbmcgaW1wbGVtZW50cyBFbnRpdHkge1xuICBjb29yZGluYXRlOiBDb29yZGluYXRlO1xuICBhbGl2ZTogYm9vbGVhbjtcbiAgcmFkaXVzOiBudW1iZXI7XG4gIHR5cGU6IEJVSUxESU5HO1xuICBkZXN0cm95TGltaXQ6IG51bWJlcjtcbiAgY2FuVGFua1Bhc3M6IGJvb2xlYW47XG4gIGNhbkJ1bGxldFBhc3M6IGJvb2xlYW47XG5cbiAgY29uc3RydWN0b3IoY29vcmRpbmF0ZTogQ29vcmRpbmF0ZSwgdHlwZTogQlVJTERJTkcpIHtcbiAgICB0aGlzLmNvb3JkaW5hdGUgPSBjb29yZGluYXRlO1xuICAgIHRoaXMuYWxpdmUgPSB0cnVlO1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgdGhpcy5yYWRpdXMgPSBCVUlMRElOR19SQURJVVM7XG4gICAgc3dpdGNoICh0aGlzLnR5cGUpIHtcbiAgICAgIGNhc2UgQlVJTERJTkcuQlJJQ0s6XG4gICAgICAgIHRoaXMuZGVzdHJveUxpbWl0ID0gMTA7XG4gICAgICAgIHRoaXMuY2FuVGFua1Bhc3MgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jYW5CdWxsZXRQYXNzID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBCVUlMRElORy5TVEVFTDpcbiAgICAgICAgdGhpcy5kZXN0cm95TGltaXQgPSAyMDtcbiAgICAgICAgdGhpcy5jYW5UYW5rUGFzcyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNhbkJ1bGxldFBhc3MgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEJVSUxESU5HLkpVTkdMRTpcbiAgICAgICAgdGhpcy5kZXN0cm95TGltaXQgPSAxMDA7XG4gICAgICAgIHRoaXMuY2FuVGFua1Bhc3MgPSB0cnVlO1xuICAgICAgICB0aGlzLmNhbkJ1bGxldFBhc3MgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQlVJTERJTkcuV0FURVI6XG4gICAgICAgIHRoaXMuZGVzdHJveUxpbWl0ID0gMTAwO1xuICAgICAgICB0aGlzLmNhblRhbmtQYXNzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY2FuQnVsbGV0UGFzcyA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhpcy5kZXN0cm95TGltaXQgPSAxMDA7XG4gICAgICAgIHRoaXMuY2FuVGFua1Bhc3MgPSB0cnVlO1xuICAgICAgICB0aGlzLmNhbkJ1bGxldFBhc3MgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBiZUF0dGFja2VkKGJ1bGxldDogQnVsbGV0LCBhdHRhY2tlcjogRW50aXR5KSB7XG4gICAgaWYgKGJ1bGxldC5kYW1hZ2UgPj0gdGhpcy5kZXN0cm95TGltaXQpIHtcbiAgICAgIHRoaXMuYWxpdmUgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBsZXZlbFVwKCk6IHZvaWQge31cbn1cblxuZXhwb3J0IHsgQnVpbGRpbmcgfTtcbiIsImltcG9ydCB7IFRhbmsgfSBmcm9tIFwiLi9tb2RlbHMvVGFua1wiO1xuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4vbW9kZWxzL0dlbmVyYWxcIjtcbmltcG9ydCB7IEFDVElPTiwgQUNUSU9OUywgRElSRUNUSU9OIH0gZnJvbSBcIi4vQ29uc3RhbnRzXCI7XG5pbXBvcnQgeyByYW5kb21DaG9vc2VGcm9tIH0gZnJvbSBcIi4vVXRpbHNcIjtcblxuZnVuY3Rpb24gQUkoYWdlbnQ6IFRhbmssIHRhcmdldDogRW50aXR5KSB7XG4gIHN3aXRjaCAoYWdlbnQuYWN0aW9uTGlzdC5wb3AoKSkge1xuICAgIGNhc2UgQUNUSU9OLk1PVkVfVVA6XG4gICAgICBhZ2VudC5tb3ZpbmcgPSB0cnVlO1xuICAgICAgYWdlbnQuZGlyZWN0aW9uID0gRElSRUNUSU9OLlVQO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBBQ1RJT04uTU9WRV9ET1dOOlxuICAgICAgYWdlbnQubW92aW5nID0gdHJ1ZTtcbiAgICAgIGFnZW50LmRpcmVjdGlvbiA9IERJUkVDVElPTi5ET1dOO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBBQ1RJT04uTU9WRV9MRUZUOlxuICAgICAgYWdlbnQubW92aW5nID0gdHJ1ZTtcbiAgICAgIGFnZW50LmRpcmVjdGlvbiA9IERJUkVDVElPTi5MRUZUO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBBQ1RJT04uTU9WRV9SSUdIVDpcbiAgICAgIGFnZW50Lm1vdmluZyA9IHRydWU7XG4gICAgICBhZ2VudC5kaXJlY3Rpb24gPSBESVJFQ1RJT04uUklHSFQ7XG4gICAgICBicmVhaztcbiAgICBjYXNlIEFDVElPTi5TVEFZOlxuICAgICAgYWdlbnQubW92aW5nID0gZmFsc2U7XG4gICAgICBicmVhaztcbiAgICBjYXNlIEFDVElPTi5NT1ZFOlxuICAgICAgYWdlbnQubW92aW5nID0gdHJ1ZTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQUNUSU9OLlNIT09UOlxuICAgICAgYWdlbnQuc2hvb3QoKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQUNUSU9OLkRPX05PVEhJTkc6XG4gICAgICBicmVhaztcbiAgICBjYXNlIEFDVElPTi5UVVJOX0xFRlQ6XG4gICAgICBhZ2VudC5kaXJlY3Rpb24gKz0gMjtcbiAgICAgIGFnZW50LmRpcmVjdGlvbiAlPSA0O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBBQ1RJT04uVFVSTl9SSUdIVDpcbiAgICAgIHN3aXRjaCAoYWdlbnQuZGlyZWN0aW9uKSB7XG4gICAgICAgIGNhc2UgRElSRUNUSU9OLkRPV046XG4gICAgICAgICAgYWdlbnQuZGlyZWN0aW9uID0gRElSRUNUSU9OLkxFRlQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgRElSRUNUSU9OLlVQOlxuICAgICAgICAgIGFnZW50LmRpcmVjdGlvbiA9IERJUkVDVElPTi5SSUdIVDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBESVJFQ1RJT04uTEVGVDpcbiAgICAgICAgICBhZ2VudC5kaXJlY3Rpb24gPSBESVJFQ1RJT04uVVA7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgRElSRUNUSU9OLlJJR0hUOlxuICAgICAgICAgIGFnZW50LmRpcmVjdGlvbiA9IERJUkVDVElPTi5ET1dOO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIGFnZW50Lm1vdmluZyA9IHRydWU7XG4gICAgICBsZXQgZW5kID0gZmFsc2U7XG4gICAgICBpZiAoTWF0aC5hYnMoYWdlbnQuY29vcmRpbmF0ZS54IC0gdGFyZ2V0LmNvb3JkaW5hdGUueCkgPCB0YXJnZXQucmFkaXVzKSB7XG4gICAgICAgIGlmIChhZ2VudC5kaXJlY3Rpb24gPT0gRElSRUNUSU9OLlVQKSB7XG4gICAgICAgICAgaWYgKGFnZW50LmNvb3JkaW5hdGUueSA+PSB0YXJnZXQuY29vcmRpbmF0ZS55KSB7XG4gICAgICAgICAgICBhZ2VudC5hY3Rpb25MaXN0LnB1c2goQUNUSU9OLlNIT09UKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWdlbnQuYWN0aW9uTGlzdC5wdXNoKEFDVElPTi5UVVJOX1JJR0hUKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZW5kID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKE1hdGguYWJzKGFnZW50LmNvb3JkaW5hdGUueSAtIHRhcmdldC5jb29yZGluYXRlLnkpIDwgdGFyZ2V0LnJhZGl1cykge1xuICAgICAgICBpZiAoYWdlbnQuZGlyZWN0aW9uID09IERJUkVDVElPTi5MRUZUKSB7XG4gICAgICAgICAgaWYgKGFnZW50LmNvb3JkaW5hdGUueCA+PSB0YXJnZXQuY29vcmRpbmF0ZS54KSB7XG4gICAgICAgICAgICBhZ2VudC5hY3Rpb25MaXN0LnB1c2goQUNUSU9OLlNIT09UKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWdlbnQuYWN0aW9uTGlzdC5wdXNoKEFDVElPTi5UVVJOX0xFRlQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbmQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZW5kKSByZXR1cm47XG4gICAgICBjb25zdCByYW5kb20gPSBNYXRoLnJhbmRvbSgpO1xuICAgICAgaWYgKHJhbmRvbSA8IDAuNCkge1xuICAgICAgICBhZ2VudC5hY3Rpb25MaXN0LnB1c2gocmFuZG9tQ2hvb3NlRnJvbShBQ1RJT05TKSk7XG4gICAgICAgIGFnZW50LmFjdGlvbkxpc3QuY29uY2F0KFtcbiAgICAgICAgICBBQ1RJT04uU0hPT1QsXG4gICAgICAgICAgQUNUSU9OLlNIT09ULFxuICAgICAgICAgIEFDVElPTi5TSE9PVCxcbiAgICAgICAgICBBQ1RJT04uU0hPT1QsXG4gICAgICAgICAgQUNUSU9OLkRPX05PVEhJTkcsXG4gICAgICAgICAgQUNUSU9OLkRPX05PVEhJTkcsXG4gICAgICAgICAgQUNUSU9OLkRPX05PVEhJTkcsXG4gICAgICAgICAgQUNUSU9OLlNIT09ULFxuICAgICAgICBdKTtcbiAgICAgIH0gZWxzZSBpZiAocmFuZG9tIDwgMC43KSB7XG4gICAgICAgIGlmIChNYXRoLmZsb29yKHJhbmRvbSAqIDEwMCkgJSAyID09PSAwKSB7XG4gICAgICAgICAgaWYgKGFnZW50LmNvb3JkaW5hdGUueCA8IHRhcmdldC5jb29yZGluYXRlLngpIHtcbiAgICAgICAgICAgIGFnZW50LmFjdGlvbkxpc3QucHVzaChBQ1RJT04uTU9WRV9SSUdIVCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFnZW50LmFjdGlvbkxpc3QucHVzaChBQ1RJT04uTU9WRV9MRUZUKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGFnZW50LmNvb3JkaW5hdGUueSA8IHRhcmdldC5jb29yZGluYXRlLnkpIHtcbiAgICAgICAgICAgIGFnZW50LmFjdGlvbkxpc3QucHVzaChBQ1RJT04uTU9WRV9ET1dOKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWdlbnQuYWN0aW9uTGlzdC5wdXNoKEFDVElPTi5NT1ZFX1VQKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYWdlbnQuYWN0aW9uTGlzdC5jb25jYXQoW0FDVElPTi5TSE9PVCwgQUNUSU9OLlNIT09UXSk7XG4gICAgICB9IGVsc2UgaWYgKHJhbmRvbSA8IDAuNzUpIHtcbiAgICAgICAgYWdlbnQuYWN0aW9uTGlzdC5jb25jYXQoW1xuICAgICAgICAgIEFDVElPTi5NT1ZFX1VQLFxuICAgICAgICAgIEFDVElPTi5ET19OT1RISU5HLFxuICAgICAgICAgIEFDVElPTi5TSE9PVCxcbiAgICAgICAgICBBQ1RJT04uRE9fTk9USElORyxcbiAgICAgICAgICBBQ1RJT04uU0hPT1QsXG4gICAgICAgIF0pO1xuICAgICAgfSBlbHNlIGlmIChyYW5kb20gPCAwLjgpIHtcbiAgICAgICAgYWdlbnQuYWN0aW9uTGlzdC5jb25jYXQoW1xuICAgICAgICAgIEFDVElPTi5NT1ZFX0xFRlQsXG4gICAgICAgICAgQUNUSU9OLkRPX05PVEhJTkcsXG4gICAgICAgICAgQUNUSU9OLlNIT09ULFxuICAgICAgICAgIEFDVElPTi5ET19OT1RISU5HLFxuICAgICAgICAgIEFDVElPTi5TSE9PVCxcbiAgICAgICAgXSk7XG4gICAgICB9IGVsc2UgaWYgKHJhbmRvbSA8IDAuODUpIHtcbiAgICAgICAgYWdlbnQuYWN0aW9uTGlzdC5jb25jYXQoW1xuICAgICAgICAgIEFDVElPTi5NT1ZFX1JJR0hULFxuICAgICAgICAgIEFDVElPTi5ET19OT1RISU5HLFxuICAgICAgICAgIEFDVElPTi5TSE9PVCxcbiAgICAgICAgICBBQ1RJT04uRE9fTk9USElORyxcbiAgICAgICAgICBBQ1RJT04uU0hPT1QsXG4gICAgICAgIF0pO1xuICAgICAgfSBlbHNlIGlmIChyYW5kb20gPCAwLjkpIHtcbiAgICAgICAgYWdlbnQuYWN0aW9uTGlzdC5jb25jYXQoW1xuICAgICAgICAgIEFDVElPTi5NT1ZFX0RPV04sXG4gICAgICAgICAgQUNUSU9OLkRPX05PVEhJTkcsXG4gICAgICAgICAgQUNUSU9OLlNIT09ULFxuICAgICAgICAgIEFDVElPTi5ET19OT1RISU5HLFxuICAgICAgICAgIEFDVElPTi5TSE9PVCxcbiAgICAgICAgXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhZ2VudC5hY3Rpb25MaXN0LnB1c2goQUNUSU9OLlNIT09UKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICB9XG59XG5cbmV4cG9ydCB7IEFJIH07XG4iLCJpbXBvcnQgeyBCVUlMRElORyB9IGZyb20gXCIuL0NvbnN0YW50c1wiO1xuaW1wb3J0IHsgQnVpbGRpbmcgfSBmcm9tIFwiLi9tb2RlbHMvQnVpbGRpbmdcIjtcbmltcG9ydCB7IGNvbnRleHQsIEdBTUUgfSBmcm9tIFwiLi9pbmRleFwiO1xuaW1wb3J0IHsgQ29vcmRpbmF0ZSB9IGZyb20gXCIuL21vZGVscy9HZW5lcmFsXCI7XG5pbXBvcnQgeyByYW5kb21OdW1iZXIgfSBmcm9tIFwiLi9VdGlsc1wiO1xuXG5jb25zdCBtYXA6IEJVSUxESU5HW11bXSA9IFtdO1xubGV0IHJvd051bTogbnVtYmVyO1xubGV0IGNvbE51bTogbnVtYmVyO1xuXG5mdW5jdGlvbiBidWlsZGluZ3NHZW5lcmF0b3IoKSB7XG4gIHJvd051bSA9IE1hdGguZmxvb3IoY29udGV4dC5jYW52YXMud2lkdGggLyAxNik7XG4gIGNvbE51bSA9IE1hdGguZmxvb3IoY29udGV4dC5jYW52YXMuaGVpZ2h0IC8gMTYpO1xuICAvLyBpbml0aWFsaXplIG1hcFxuICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCByb3dOdW07IHJvdysrKSB7XG4gICAgbGV0IHRlbXAgPSBbXTtcbiAgICBmb3IgKGxldCBjb2wgPSAwOyBjb2wgPCBjb2xOdW07IGNvbCsrKSB7XG4gICAgICB0ZW1wLnB1c2goQlVJTERJTkcuTk9ORSk7XG4gICAgfVxuICAgIG1hcC5wdXNoKHRlbXApO1xuICB9XG4gIGdlbmVyYXRlTWFwKCk7XG4gIC8vIGZpbGwgbWFwIHdpdGggZ2VuZXJhdGVkIGJ1aWxkaW5nc1xuICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCByb3dOdW07IHJvdysrKSB7XG4gICAgZm9yIChsZXQgY29sID0gMDsgY29sIDwgY29sTnVtOyBjb2wrKykge1xuICAgICAgbGV0IGN1cnJlbnRCdWlsZGluZyA9IG1hcFtyb3ddW2NvbF07XG4gICAgICBpZiAoY3VycmVudEJ1aWxkaW5nICE9IEJVSUxESU5HLk5PTkUpIHtcbiAgICAgICAgR0FNRS5idWlsZGluZ3MucHVzaChcbiAgICAgICAgICBuZXcgQnVpbGRpbmcoXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHg6IHJvdyAqIDE2LFxuICAgICAgICAgICAgICB5OiBjb2wgKiAxNixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjdXJyZW50QnVpbGRpbmdcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlTWFwKCkge1xuICBsZXQgaSA9IHJhbmRvbU51bWJlcig4LCAxMik7XG4gIGxldCBqID0gcmFuZG9tTnVtYmVyKDEyLCAxOCk7XG5cbiAgZ2VuZXJhdGVCbG9jayhcbiAgICBCVUlMRElORy5TVEVFTCxcbiAgICB7IHg6IGkgKyAyLCB5OiBjb2xOdW0gLyAyICsgNiB9LFxuICAgIHsgeDogcm93TnVtIC8gMiwgeTogY29sTnVtIC0gaSB9XG4gICk7XG4gIGdlbmVyYXRlQmxvY2soXG4gICAgQlVJTERJTkcuQlJJQ0ssXG4gICAgeyB4OiBpLCB5OiBpIH0sXG4gICAgeyB4OiByb3dOdW0gLyAyLCB5OiBjb2xOdW0gLyAyIH1cbiAgKTtcbiAgZ2VuZXJhdGVCbG9jayhcbiAgICBCVUlMRElORy5CUklDSyxcbiAgICB7IHg6IHJvd051bSAvIDIgKyA0LCB5OiBqICsgNSB9LFxuICAgIHsgeDogcm93TnVtIC0gaiwgeTogY29sTnVtIC0gaiB9XG4gICk7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlQmxvY2soXG4gIGJ1aWxkaW5nVHlwZTogQlVJTERJTkcsXG4gIHN0YXJ0UG9pbnQ6IENvb3JkaW5hdGUsXG4gIGVuZFBvaW50OiBDb29yZGluYXRlXG4pIHtcbiAgbGV0IHVwUmlnaHQ6IENvb3JkaW5hdGUgPSB7IHg6IGVuZFBvaW50LngsIHk6IHN0YXJ0UG9pbnQueSB9O1xuICBsZXQgYm90dG9tTGVmdDogQ29vcmRpbmF0ZSA9IHsgeDogc3RhcnRQb2ludC54LCB5OiBlbmRQb2ludC55IH07XG4gIGdlbmVyYXRlTGluZShidWlsZGluZ1R5cGUsIHN0YXJ0UG9pbnQsIHVwUmlnaHQpO1xuICBnZW5lcmF0ZUxpbmUoYnVpbGRpbmdUeXBlLCBzdGFydFBvaW50LCBib3R0b21MZWZ0KTtcbiAgZ2VuZXJhdGVMaW5lKGJ1aWxkaW5nVHlwZSwgYm90dG9tTGVmdCwgZW5kUG9pbnQpO1xuICBnZW5lcmF0ZUxpbmUoYnVpbGRpbmdUeXBlLCB1cFJpZ2h0LCBlbmRQb2ludCk7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlTGluZShcbiAgYnVpbGRpbmdUeXBlOiBCVUlMRElORyxcbiAgc3RhcnRQb2ludDogQ29vcmRpbmF0ZSxcbiAgZW5kUG9pbnQ6IENvb3JkaW5hdGVcbikge1xuICBpZiAoXG4gICAgTWF0aC5tYXgoXG4gICAgICBNYXRoLmFicyhzdGFydFBvaW50LnggLSBlbmRQb2ludC54KSxcbiAgICAgIE1hdGguYWJzKHN0YXJ0UG9pbnQueSAtIGVuZFBvaW50LnkpXG4gICAgKSA8PSAyXG4gIClcbiAgICByZXR1cm47XG4gIGlmIChcbiAgICBNYXRoLmFicyhzdGFydFBvaW50LnggLSBlbmRQb2ludC54KSA+IE1hdGguYWJzKHN0YXJ0UG9pbnQueSAtIGVuZFBvaW50LnkpXG4gICkge1xuICAgIGlmIChzdGFydFBvaW50LnggPiBlbmRQb2ludC54KSB7XG4gICAgICBsZXQgdGVtcCA9IGVuZFBvaW50O1xuICAgICAgZW5kUG9pbnQgPSBzdGFydFBvaW50O1xuICAgICAgc3RhcnRQb2ludCA9IHRlbXA7XG4gICAgfVxuICAgIGZvciAobGV0IHN0YXJ0WCA9IHN0YXJ0UG9pbnQueDsgc3RhcnRYIDw9IGVuZFBvaW50Lng7IHN0YXJ0WCsrKSB7XG4gICAgICBsZXQgeCA9IHNhZmVYKHN0YXJ0WCk7XG4gICAgICBsZXQgeSA9XG4gICAgICAgIHN0YXJ0UG9pbnQueSArXG4gICAgICAgIChlbmRQb2ludC55IC0gc3RhcnRQb2ludC55KSAqXG4gICAgICAgICAgKChzdGFydFggLSBzdGFydFBvaW50LngpIC8gKGVuZFBvaW50LnggLSBzdGFydFBvaW50LngpKTtcbiAgICAgIHkgPSBzYWZlWSh5KTtcbiAgICAgIG1hcFt4XVt5XSA9IGJ1aWxkaW5nVHlwZTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKHN0YXJ0UG9pbnQueSA+IGVuZFBvaW50LnkpIHtcbiAgICAgIGxldCB0ZW1wID0gZW5kUG9pbnQ7XG4gICAgICBlbmRQb2ludCA9IHN0YXJ0UG9pbnQ7XG4gICAgICBzdGFydFBvaW50ID0gdGVtcDtcbiAgICB9XG4gICAgZm9yIChsZXQgc3RhcnRZID0gc3RhcnRQb2ludC55OyBzdGFydFkgPD0gZW5kUG9pbnQueTsgc3RhcnRZKyspIHtcbiAgICAgIGxldCB5ID0gc2FmZVkoc3RhcnRZKTtcbiAgICAgIGxldCB4ID1cbiAgICAgICAgc3RhcnRQb2ludC54ICtcbiAgICAgICAgKGVuZFBvaW50LnggLSBzdGFydFBvaW50LngpICpcbiAgICAgICAgICAoKHN0YXJ0WSAtIHN0YXJ0UG9pbnQueSkgLyAoZW5kUG9pbnQueSAtIHN0YXJ0UG9pbnQueSkpO1xuICAgICAgeCA9IHNhZmVYKHgpO1xuICAgICAgbWFwW3hdW3ldID0gYnVpbGRpbmdUeXBlO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBzYWZlWCh4OiBudW1iZXIpOiBudW1iZXIge1xuICB4ID0gTWF0aC5mbG9vcih4KTtcbiAgaWYgKHggPCAwKSByZXR1cm4gMDtcbiAgaWYgKHggPj0gcm93TnVtKSByZXR1cm4gcm93TnVtIC0gMTtcbiAgcmV0dXJuIHg7XG59XG5cbmZ1bmN0aW9uIHNhZmVZKHk6IG51bWJlcik6IG51bWJlciB7XG4gIHkgPSBNYXRoLmZsb29yKHkpO1xuICBpZiAoeSA8IDApIHJldHVybiAwO1xuICBpZiAoeSA+PSBjb2xOdW0pIHJldHVybiBjb2xOdW0gLSAxO1xuICByZXR1cm4geTtcbn1cblxuZXhwb3J0IHsgYnVpbGRpbmdzR2VuZXJhdG9yIH07XG4iXSwic291cmNlUm9vdCI6IiJ9