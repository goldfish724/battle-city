var Game=function(t){var e={};function i(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(o,n,function(e){return t[e]}.bind(null,n));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1)}([function(t,e,i){"use strict";var o,n;Object.defineProperty(e,"__esModule",{value:!0}),e.EXPLOSION_RADIUS=e.BUILDING_RADIUS=e.BULLET_RADIUS=e.TANK_RADIUS=e.EXPLOSION_IMAGE=e.BULLET_IMAGE=e.BUILDING_IMAGE=e.TANK_IMAGE=e.IMAGE=e.CANVAS=e.AUDIO=e.ACTIONS=e.ACTION=e.BUILDINGS=e.BUILDING=e.EXPLOSION=e.DIRECTION=e.ENEMY_TANKS=e.TANK=void 0,function(t){t[t.UP=0]="UP",t[t.DOWN=1]="DOWN",t[t.LEFT=2]="LEFT",t[t.RIGHT=3]="RIGHT"}(o||(o={})),e.DIRECTION=o,function(t){t[t.PLAYER_TANK=0]="PLAYER_TANK",t[t.NORMAL_TANK=1]="NORMAL_TANK",t[t.SWIFT_TANK=2]="SWIFT_TANK",t[t.MEDIUM_TANK=3]="MEDIUM_TANK",t[t.HEAVY_TANK=4]="HEAVY_TANK"}(n||(n={})),e.TANK=n;e.TANK_RADIUS=20;e.BULLET_RADIUS=4;e.BUILDING_RADIUS=8;e.EXPLOSION_RADIUS=16;e.TANK_IMAGE=[[[[4,8,52,52],[68,8,52,52]],[[264,4,52,52],[328,4,52,52]],[[136,4,52,52],[204,4,52,52]],[[392,4,52,52],[460,4,52,52]]],[[[524,264,52,60],[588,264,52,60]],[[780,264,52,60],[844,264,52,60]],[[648,272,60,52],[712,272,60,52]],[[908,268,60,52],[972,268,60,52]]],[[[524,328,52,60],[588,328,52,60]],[[780,332,52,60],[844,332,52,60]],[[648,336,60,52],[712,336,60,52]],[[908,332,60,52],[972,332,60,52]]],[[[524,396,52,60],[588,396,52,60]],[[780,396,52,60],[844,396,52,60]],[[648,404,60,52],[712,404,60,52]],[[908,400,60,52],[972,400,60,52]]],[[[524,460,52,60],[588,460,52,60]],[[780,460,52,60],[844,460,52,60]],[[648,464,60,52],[712,464,60,52]],[[904,464,60,52],[968,464,60,52]]]];var a,s=[n.NORMAL_TANK,n.SWIFT_TANK,n.HEAVY_TANK];e.ENEMY_TANKS=s,function(t){t[t.BULLET_EXPLOSION=0]="BULLET_EXPLOSION",t[t.TANK_EXPLOSION=1]="TANK_EXPLOSION"}(a||(a={})),e.EXPLOSION=a;var r;e.EXPLOSION_IMAGE=[[1064,520,44,44],[1244,516,124,116]],function(t){t[t.BRICK=0]="BRICK",t[t.STEEL=1]="STEEL",t[t.JUNGLE=2]="JUNGLE",t[t.WATER=3]="WATER",t[t.ROAD=4]="ROAD",t[t.NONE=5]="NONE"}(r||(r={})),e.BUILDING=r;e.BULLET_IMAGE=[[1320,408,12,16],[1384,408,12,16],[1348,408,16,12],[1412,408,16,12]];e.BUILDING_IMAGE=[[1052,0,32,32],[1052,64,32,32],[1116,128,32,32],[1052,192,32,32]];var c,h=[r.BRICK,r.STEEL,r.JUNGLE];e.BUILDINGS=h,function(t){t[t.MOVE_UP=0]="MOVE_UP",t[t.MOVE_DOWN=1]="MOVE_DOWN",t[t.MOVE_LEFT=2]="MOVE_LEFT",t[t.MOVE_RIGHT=3]="MOVE_RIGHT",t[t.STAY=4]="STAY",t[t.SHOOT=5]="SHOOT",t[t.DO_NOTHING=6]="DO_NOTHING"}(c||(c={})),e.ACTION=c;var l=[c.MOVE_UP,c.MOVE_DOWN,c.MOVE_LEFT,c.MOVE_RIGHT,c.STAY,c.SHOOT,c.DO_NOTHING];e.ACTIONS=l;var d=new function(){this.start=document.getElementById("start"),this.collect=document.getElementById("collect"),this.shoot=document.getElementById("shoot"),this.explosion=document.getElementById("explosion"),this.pause=document.getElementById("pause"),this.pick=document.getElementById("pick"),this.level_up=document.getElementById("level_up"),this.idle=document.getElementById("idle"),this.move=document.getElementById("move"),this.hit=document.getElementById("hit"),this.be_hit=document.getElementById("be_hit"),this.game_over=document.getElementById("game_over")};e.AUDIO=d;var I=document.getElementById("canvas");e.CANVAS=I;var u=document.getElementById("sprites");e.IMAGE=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.context=e.GAME=e.main=void 0;var o,n=i(0),a=i(2),s=i(6),r=i(3),c=i(7),h=0,l=!1;e.context=o;var d=!1,I=!1,u=!1,O=!1,T=0,N=0,A={tanks:[],bullets:[],explosions:[],buildings:[]};function E(){var t=new a.Tank({x:o.canvas.width/2,y:o.canvas.height},n.DIRECTION.UP,n.TANK.PLAYER_TANK);A.tanks.unshift(t)}e.GAME=A,e.main=function(){e.context=o=n.CANVAS.getContext("2d"),o.canvas.width=window.innerWidth,o.canvas.height=window.innerHeight,c.buildingsGenerator(),function(){var t=window.localStorage.getItem("state");t||(t="");var e=JSON.parse(t),i=new a.Tank({x:o.canvas.width/2,y:o.canvas.height},n.DIRECTION.UP,n.TANK.PLAYER_TANK);null!=e&&(i.blood=e.blood,i.armor=e.armor,i.speed=e.speed,i.level=e.level,i.bullet.speed=e.bullet.speed,i.bullet.damage=e.bullet.damage);A.tanks.unshift(i)}(),n.AUDIO.start.play().then((function(){})),document.onkeydown=function(t){try{switch(t.code){case"KeyA":d=!0,A.tanks[0].moving=!0,A.tanks[0].direction=n.DIRECTION.LEFT;break;case"KeyD":I=!0,A.tanks[0].moving=!0,A.tanks[0].direction=n.DIRECTION.RIGHT;break;case"KeyW":u=!0,A.tanks[0].moving=!0,A.tanks[0].direction=n.DIRECTION.UP;break;case"KeyS":O=!0,A.tanks[0].moving=!0,A.tanks[0].direction=n.DIRECTION.DOWN;break;case"KeyP":l=!l,n.AUDIO.pause.play().then((function(){}));break;case"Space":A.tanks[0].shoot();break;case"F11":case"KeyR":location.reload();break;case"KeyB":E()}}catch(t){console.log(t.toString())}},document.onmousedown=function(t){0==t.button&&A.tanks[0].shoot()},document.onkeyup=function(t){switch(t.code){case"KeyA":d=!1;break;case"KeyD":I=!1;break;case"KeyW":u=!1;break;case"KeyS":O=!1;break;case"KeyC":A.buildings=[]}O||u||I||d||(A.tanks[0].moving=!1)},document.ontouchstart=function(t){T=t.touches[0].pageX,N=t.touches[0].pageY},document.ontouchend=function(t){var e=t.changedTouches[0].pageX,i=t.changedTouches[0].pageY,o=Math.abs(e-T),a=Math.abs(i-N);A.tanks[0]&&(A.tanks[0].moving=!0,A.tanks[0].shoot()),Math.max(o,a)<30||(A.tanks[0].direction=o>a?e>T?n.DIRECTION.RIGHT:n.DIRECTION.LEFT:i>N?n.DIRECTION.DOWN:n.DIRECTION.UP)},function t(){!function(){if(l)return;0===h&&Math.random()>.7&&A.tanks.push(new a.Tank({x:Math.random()*o.canvas.width,y:0},n.DIRECTION.DOWN,r.randomChooseFrom(n.ENEMY_TANKS)));h+=1,h%=60,function(){for(var t=0;t<A.bullets.length;t++)A.bullets[t].alive||A.bullets.splice(t,1);for(t=0;t<A.bullets.length;t++)A.bullets[t].move()}(),function(){for(var t=0;t<A.buildings.length;t++)A.buildings[t].alive||A.buildings.splice(t,1)}(),function(){for(var t=!1,e=0;e<A.tanks.length;e++)A.tanks[e].alive||(A.explosions.push({coordinate:A.tanks[e].coordinate,type:n.EXPLOSION.TANK_EXPLOSION}),A.tanks.splice(e,1),t=0==e);for(A.tanks[0].move(),A.tanks[0].lastShootCount+=1,e=1;e<A.tanks.length;e++)A.tanks[e].move(),A.tanks[e].lastShootCount+=1;if(h%5==0)for(e=1;e<A.tanks.length;e++){var i=A.tanks[0],o=A.tanks[e];s.AI(o,i)}t&&n.AUDIO.game_over.play().then((function(){E()}))}()}(),function(){o.clearRect(0,0,o.canvas.width,o.canvas.height);var t=A.tanks;t=(t=t.concat(A.bullets)).concat(A.buildings);for(var e=0;e<t.length;e++)r.drawEntity(t[e]);for(e=0;e<A.explosions.length;e++){var i=A.explosions[e];r.drawExplosion(i.type,i.coordinate)}(function(){o.font="20px monospace",o.fillStyle="white";var t=A.tanks[0];o.fillText("blood: "+t.blood.toFixed(1)+" armor: "+t.armor.toFixed(2),20,30),o.fillText("speed: "+t.speed.toFixed(1)+" level: "+t.level,20,50),o.fillText("shoot interval: "+t.shootInterval,20,70),o.fillText("bullet damage: "+t.bullet.damage.toFixed(1)+" bullet speed: "+t.bullet.speed.toFixed(1),20,90)})(),A.explosions=[]}(),window.localStorage.setItem("state",JSON.stringify(A.tanks[0])),requestAnimationFrame(t)}()}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Tank=void 0;var o=i(0),n=i(1),a=i(4),s=function(){function t(t,e,i){switch(this.coordinate=t,this.direction=e,this.lastShootCount=0,this.type=i,this.radius=o.TANK_RADIUS,this.shootInterval=60,this.alive=!0,this.moving=!0,this.imageTurn=!0,this.canTankPass=!1,this.canBulletPass=!1,this.actionList=[],this.bullet={damage:5,speed:10},this.blood=10,this.armor=.5,this.speed=2.5,this.attackInterval=40,this.level=1,this.type){case o.TANK.PLAYER_TANK:this.blood=10,this.armor=.6,this.speed=3,this.attackInterval=20,this.bullet.damage=5,this.bullet.speed=15;break;case o.TANK.NORMAL_TANK:this.blood=10,this.armor=.5,this.speed=2.5,this.attackInterval=40,this.bullet.damage=4,this.bullet.speed=10;break;case o.TANK.SWIFT_TANK:this.blood=5,this.armor=.3,this.speed=3.5,this.attackInterval=20,this.bullet.damage=3,this.bullet.speed=15;break;case o.TANK.HEAVY_TANK:this.blood=20,this.armor=.7,this.speed=.7,this.attackInterval=60,this.bullet.damage=10,this.bullet.speed=4;break;default:console.error("Unexpected tank type: "+this.type)}}return t.prototype.levelUp=function(){this.level++,this.blood=Math.min(30,this.blood+1),this.speed=Math.min(10,this.speed+.1),this.armor=Math.min(.8,this.armor+.04),this.bullet.speed=Math.min(25,this.bullet.speed+.25),this.bullet.damage=Math.min(30,this.bullet.damage+.5),this.shootInterval=Math.max(10,this.shootInterval-2)},t.prototype.beAttacked=function(t,e){this.blood-=Math.max(1,t.damage*(1-this.armor)),this.blood<=0&&(this.blood=0,this.alive=!1,o.AUDIO.explosion.play().then((function(){})),e.levelUp())},t.prototype.move=function(){if(this.moving){var e=n.GAME.tanks;e=e.concat(n.GAME.buildings);var i=0,a=0;switch(this.direction){case o.DIRECTION.UP:a=-this.speed;break;case o.DIRECTION.DOWN:a=this.speed;break;case o.DIRECTION.LEFT:i=-this.speed;break;case o.DIRECTION.RIGHT:i=this.speed}this.coordinate.x+=i,this.coordinate.y+=a;for(var s=0;s<e.length;s++)if(!e[s].canTankPass&&Math.abs(this.coordinate.y-e[s].coordinate.y)<this.radius+e[s].radius&&this.coordinate!==e[s].coordinate&&Math.abs(this.coordinate.x-e[s].coordinate.x)<this.radius+e[s].radius){!0,this.coordinate.x-=i,this.coordinate.y-=a;break}this.coordinate=t.bound(this.coordinate,this.radius)}},t.bound=function(t,e){return t.x<e?t.x=e:t.x+e>n.context.canvas.width&&(t.x=n.context.canvas.width-e),t.y<e?t.y=e:t.y+e>n.context.canvas.height&&(t.y=n.context.canvas.height-e),t},t.prototype.shoot=function(){this.lastShootCount>=this.shootInterval&&(n.GAME.bullets.push(new a.Bullet(this.coordinate,this.direction,this.bullet.damage,this.bullet.speed,this)),this.lastShootCount=0,this.type===o.TANK.PLAYER_TANK&&o.AUDIO.shoot.play().then((function(){})))},t.prototype.draw=function(){switch(this.type){case o.TANK.PLAYER_TANK:n.context.drawImage(o.IMAGE,32*this.direction,0,32,32,this.coordinate.x-16,this.coordinate.y-16,32,32);break;case o.TANK.NORMAL_TANK:n.context.drawImage(o.IMAGE,32*this.direction,32,32,32,this.coordinate.x-16,this.coordinate.y-16,32,32);break;case o.TANK.SWIFT_TANK:n.context.drawImage(o.IMAGE,32*(4+this.direction),32,32,32,this.coordinate.x-16,this.coordinate.y-16,32,32);break;case o.TANK.HEAVY_TANK:n.context.drawImage(o.IMAGE,32*(8+this.direction),64,32,32,this.coordinate.x-16,this.coordinate.y-16,32,32)}},t}();e.Tank=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.drawExplosion=e.drawEntity=e.randomChooseFrom=void 0;var o=i(1),n=i(0),a=i(2),s=i(5),r=i(4);e.randomChooseFrom=function(t){return t[Math.floor(Math.random()*t.length)]},e.drawEntity=function(t){var e,i=t.coordinate.x,c=t.coordinate.y,h=16,l=16;t instanceof a.Tank?(t.moving&&(t.imageTurn=!t.imageTurn),e=n.TANK_IMAGE[t.type][t.direction][Number(t.imageTurn)],h=2*n.TANK_RADIUS,l=2*n.TANK_RADIUS):t instanceof s.Building?(e=n.BUILDING_IMAGE[t.type],h=2*n.BUILDING_RADIUS,l=2*n.BUILDING_RADIUS):t instanceof r.Bullet&&(e=n.BULLET_IMAGE[t.direction],h=2*n.BULLET_RADIUS,l=2*n.BULLET_RADIUS),o.context.drawImage(n.IMAGE,e[0],e[1],e[2],e[3],i-h/2,c-l/2,h,l)},e.drawExplosion=function(t,e){var i=n.EXPLOSION_IMAGE[t];o.context.drawImage(n.IMAGE,i[0],i[1],i[2],i[3],e.x-n.EXPLOSION_RADIUS,e.y-n.EXPLOSION_RADIUS,2*n.EXPLOSION_RADIUS,2*n.EXPLOSION_RADIUS)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Bullet=void 0;var o=i(0),n=i(1),a=i(2),s=i(3),r=function(){function t(t,e,i,n,a){this.direction=e,this.shooter=a,this.canBulletPass=!1,this.canTankPass=!1;var s=0,r=0;switch(this.direction){case o.DIRECTION.UP:r=-20;break;case o.DIRECTION.DOWN:r=20;break;case o.DIRECTION.LEFT:s=-20;break;case o.DIRECTION.RIGHT:s=20}this.coordinate={x:t.x+s,y:t.y+r},this.damage=i,this.alive=!0,this.speed=n,this.radius=o.BULLET_RADIUS}return t.prototype.move=function(){if(this.alive)switch(this.direction){case o.DIRECTION.UP:this.coordinate.y-this.speed<=0?(this.coordinate.y=0,this.explosion()):this.checkAllObstacles(),this.coordinate.y-=this.speed;break;case o.DIRECTION.DOWN:this.coordinate.y+this.speed>=n.context.canvas.height?(this.coordinate.y=n.context.canvas.height,this.explosion()):this.checkAllObstacles(),this.coordinate.y+=this.speed;break;case o.DIRECTION.LEFT:this.coordinate.x-this.speed<=0?(this.coordinate.x=0,this.explosion()):this.checkAllObstacles(),this.coordinate.x-=this.speed;break;case o.DIRECTION.RIGHT:this.coordinate.x+this.speed>=n.context.canvas.width?(this.coordinate.x=n.context.canvas.width,this.explosion()):this.checkAllObstacles(),this.coordinate.x+=this.speed;break;default:console.error("Unexpected direction")}},t.prototype.explosion=function(){this.alive=!1,n.GAME.explosions.push({coordinate:this.coordinate,type:o.EXPLOSION.BULLET_EXPLOSION})},t.prototype.checkAllObstacles=function(){var e=n.GAME.tanks;e=e.concat(n.GAME.buildings);for(var i=0;i<e.length;i++)if(!e[i].canBulletPass&&e[i]!=this.shooter&&t.isHit(this.coordinate,e[i].coordinate,e[i].radius)){this.explosion(),e[i].beAttacked(this,this.shooter),e[i]instanceof a.Tank&&(this.shooter.type==o.TANK.PLAYER_TANK?o.AUDIO.hit.play().then((function(){})):e[i].type==o.TANK.PLAYER_TANK&&o.AUDIO.be_hit.play().then((function(){})));break}},t.prototype.draw=function(){s.drawEntity(this)},t.prototype.beAttacked=function(t,e){throw new Error("Method not implemented.")},t.isHit=function(t,e,i){return t.x>=e.x-i&&t.x<=e.x+i&&t.y>=e.y-i&&t.y<=e.y+i},t.prototype.levelUp=function(){},t}();e.Bullet=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Building=void 0;var o=i(0),n=i(1),a=function(){function t(t,e){switch(this.coordinate=t,this.alive=!0,this.type=e,this.radius=o.BUILDING_RADIUS,this.type){case o.BUILDING.BRICK:this.destroyLimit=10,this.canTankPass=!1,this.canBulletPass=!1;break;case o.BUILDING.STEEL:this.destroyLimit=20,this.canTankPass=!1,this.canBulletPass=!1;break;case o.BUILDING.JUNGLE:this.destroyLimit=100,this.canTankPass=!0,this.canBulletPass=!0;break;case o.BUILDING.WATER:this.destroyLimit=100,this.canTankPass=!1,this.canBulletPass=!0;break;default:this.destroyLimit=100,this.canTankPass=!0,this.canBulletPass=!0}}return t.prototype.beAttacked=function(t,e){t.damage>=this.destroyLimit&&(this.alive=!1)},t.prototype.draw=function(){this.alive&&n.context.drawImage(o.IMAGE,16*this.type,96,16,16,this.coordinate.x-8,this.coordinate.y-8,16,16)},t.prototype.levelUp=function(){},t}();e.Building=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AI=void 0;var o=i(0),n=i(3);e.AI=function(t,e){switch(t.actionList.pop()){case o.ACTION.MOVE_UP:t.moving=!0,t.direction=o.DIRECTION.UP;break;case o.ACTION.MOVE_DOWN:t.moving=!0,t.direction=o.DIRECTION.DOWN;break;case o.ACTION.MOVE_LEFT:t.moving=!0,t.direction=o.DIRECTION.LEFT;break;case o.ACTION.MOVE_RIGHT:t.moving=!0,t.direction=o.DIRECTION.RIGHT;break;case o.ACTION.STAY:t.moving=!1;break;case o.ACTION.SHOOT:t.shoot();break;case o.ACTION.DO_NOTHING:break;default:t.moving=!0;var i=Math.random();i<.5?(t.actionList.push(n.randomChooseFrom(o.ACTIONS)),t.actionList.concat([o.ACTION.SHOOT,o.ACTION.SHOOT,o.ACTION.SHOOT,o.ACTION.SHOOT])):i<.8?Math.floor(100*i)%2==0?t.coordinate.x<e.coordinate.x?t.actionList.push(o.ACTION.MOVE_RIGHT):t.actionList.push(o.ACTION.MOVE_LEFT):t.coordinate.y<e.coordinate.y?t.actionList.push(o.ACTION.MOVE_DOWN):t.actionList.push(o.ACTION.MOVE_UP):i<.8?t.actionList.concat([o.ACTION.MOVE_UP,o.ACTION.DO_NOTHING,o.ACTION.SHOOT,o.ACTION.MOVE_LEFT,o.ACTION.DO_NOTHING,o.ACTION.SHOOT,o.ACTION.MOVE_DOWN,o.ACTION.DO_NOTHING,o.ACTION.SHOOT,o.ACTION.MOVE_RIGHT,o.ACTION.DO_NOTHING,o.ACTION.SHOOT]):t.actionList.push(o.ACTION.SHOOT)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildingsGenerator=void 0;var o,n,a=i(0),s=i(5),r=i(1),c=[];function h(t,e,i){var o={x:i.x,y:e.y},n={x:e.x,y:i.y};l(t,e,o),l(t,e,n),l(t,n,i),l(t,o,i)}function l(t,e,i){if(Math.abs(e.x-i.x)>Math.abs(e.y-i.y)){if(e.x>i.x){var o=i;i=e,e=o}for(var n=e.x;n<=i.x;n++){var a=d(n);r=I(r=e.y+(i.y-e.y)*((n-e.x)/(i.x-e.x))),c[a][r]=t}}else{if(e.y>i.y){o=i;i=e,e=o}for(var s=e.y;s<=i.y;s++){var r=I(s);a=d(a=e.x+(i.x-e.x)*((s-e.y)/(i.y-e.y))),c[a][r]=t}}}function d(t){return(t=Math.floor(t))<0?0:t>=o?o-1:t}function I(t){return(t=Math.floor(t))<0?0:t>=n?n-1:t}e.buildingsGenerator=function(){o=Math.floor(r.context.canvas.width/16),n=Math.floor(r.context.canvas.height/16);for(var t=0;t<o;t++){for(var e=[],i=0;i<n;i++)e.push(a.BUILDING.NONE);c.push(e)}var d=10;for(h(a.BUILDING.BRICK,{x:d,y:d},{x:o-d,y:n-d}),h(a.BUILDING.BRICK,{x:6,y:6},{x:o-6,y:n-6}),l(a.BUILDING.BRICK,{x:d,y:d},{x:o-d,y:n-d}),l(a.BUILDING.STEEL,{x:d,y:n-d},{x:o-d,y:d}),t=0;t<o;t++)for(i=0;i<n;i++){var I=c[t][i];I!=a.BUILDING.NONE&&r.GAME.buildings.push(new s.Building({x:16*t,y:16*i},I))}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HYW1lL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL0dhbWUvLi9zcmMvQ29uc3RhbnRzLnRzIiwid2VicGFjazovL0dhbWUvLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vR2FtZS8uL3NyYy9tb2RlbHMvVGFuay50cyIsIndlYnBhY2s6Ly9HYW1lLy4vc3JjL1V0aWxzLnRzIiwid2VicGFjazovL0dhbWUvLi9zcmMvbW9kZWxzL0J1bGxldC50cyIsIndlYnBhY2s6Ly9HYW1lLy4vc3JjL21vZGVscy9CdWlsZGluZy50cyIsIndlYnBhY2s6Ly9HYW1lLy4vc3JjL0FJLnRzIiwid2VicGFjazovL0dhbWUvLi9zcmMvTWFwR2VuZXJhdG9yLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiRElSRUNUSU9OIiwiVEFOSyIsIlRBTktfUkFESVVTIiwiQlVMTEVUX1JBRElVUyIsIkJVSUxESU5HX1JBRElVUyIsIkVYUExPU0lPTl9SQURJVVMiLCJUQU5LX0lNQUdFIiwiRVhQTE9TSU9OIiwiRU5FTVlfVEFOS1MiLCJOT1JNQUxfVEFOSyIsIlNXSUZUX1RBTksiLCJIRUFWWV9UQU5LIiwiQlVJTERJTkciLCJFWFBMT1NJT05fSU1BR0UiLCJCVUxMRVRfSU1BR0UiLCJCVUlMRElOR19JTUFHRSIsIkFDVElPTiIsIkJVSUxESU5HUyIsIkJSSUNLIiwiU1RFRUwiLCJKVU5HTEUiLCJBQ1RJT05TIiwiTU9WRV9VUCIsIk1PVkVfRE9XTiIsIk1PVkVfTEVGVCIsIk1PVkVfUklHSFQiLCJTVEFZIiwiU0hPT1QiLCJET19OT1RISU5HIiwiQVVESU8iLCJzdGFydCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJjb2xsZWN0Iiwic2hvb3QiLCJleHBsb3Npb24iLCJwYXVzZSIsInBpY2siLCJsZXZlbF91cCIsImlkbGUiLCJtb3ZlIiwiaGl0IiwiYmVfaGl0IiwiZ2FtZV9vdmVyIiwiQ0FOVkFTIiwiSU1BR0UiLCJjb250ZXh0IiwiY291bnQiLCJwYXVzZWQiLCJrZXlBRG93biIsImtleUREb3duIiwia2V5V0Rvd24iLCJrZXlTRG93biIsInRvdWNoUG9pbnRYIiwidG91Y2hQb2ludFkiLCJHQU1FIiwidGFua3MiLCJidWxsZXRzIiwiZXhwbG9zaW9ucyIsImJ1aWxkaW5ncyIsImdlbmVyYXRlUGxheVRhbmsiLCJ0YW5rIiwiVGFuayIsIngiLCJjYW52YXMiLCJ3aWR0aCIsInkiLCJoZWlnaHQiLCJVUCIsIlBMQVlFUl9UQU5LIiwidW5zaGlmdCIsIm1haW4iLCJnZXRDb250ZXh0Iiwid2luZG93IiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiYnVpbGRpbmdzR2VuZXJhdG9yIiwiZGF0YSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzdGF0ZSIsIkpTT04iLCJwYXJzZSIsImJsb29kIiwiYXJtb3IiLCJzcGVlZCIsImxldmVsIiwiYnVsbGV0IiwiZGFtYWdlIiwibG9hZFBsYXllclRhbmsiLCJwbGF5IiwidGhlbiIsIm9ua2V5ZG93biIsImUiLCJjb2RlIiwibW92aW5nIiwiZGlyZWN0aW9uIiwiTEVGVCIsIlJJR0hUIiwiRE9XTiIsImxvY2F0aW9uIiwicmVsb2FkIiwiY29uc29sZSIsImxvZyIsInRvU3RyaW5nIiwib25tb3VzZWRvd24iLCJidXR0b24iLCJvbmtleXVwIiwib250b3VjaHN0YXJ0IiwidG91Y2hlcyIsInBhZ2VYIiwicGFnZVkiLCJvbnRvdWNoZW5kIiwiZW5kVG91Y2hQb2ludFgiLCJjaGFuZ2VkVG91Y2hlcyIsImVuZFRvdWNoUG9pbnRZIiwiZGVsdGFYIiwiTWF0aCIsImFicyIsImRlbHRhWSIsIm1heCIsInRpY2siLCJyYW5kb20iLCJwdXNoIiwicmFuZG9tQ2hvb3NlRnJvbSIsImxlbmd0aCIsImFsaXZlIiwic3BsaWNlIiwidXBkYXRlQnVsbGV0cyIsInVwZGF0ZUJ1aWxkaW5ncyIsImlzUGxheWVyRGllZCIsImNvb3JkaW5hdGUiLCJ0eXBlIiwiVEFOS19FWFBMT1NJT04iLCJsYXN0U2hvb3RDb3VudCIsInBsYXllclRhbmsiLCJlbmVteVRhbmsiLCJBSSIsInVwZGF0ZVRhbmtzIiwidXBkYXRlIiwiY2xlYXJSZWN0Iiwib2JqZWN0cyIsImNvbmNhdCIsImRyYXdFbnRpdHkiLCJkcmF3RXhwbG9zaW9uIiwiZm9udCIsImZpbGxTdHlsZSIsInBsYXllciIsImZpbGxUZXh0IiwidG9GaXhlZCIsInNob290SW50ZXJ2YWwiLCJzaG93U3RhdHVzIiwiZHJhdyIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ0aGlzIiwicmFkaXVzIiwiaW1hZ2VUdXJuIiwiY2FuVGFua1Bhc3MiLCJjYW5CdWxsZXRQYXNzIiwiYWN0aW9uTGlzdCIsImF0dGFja0ludGVydmFsIiwiZXJyb3IiLCJsZXZlbFVwIiwibWluIiwiYmVBdHRhY2tlZCIsImF0dGFja2VyIiwib2JzdGFjbGVzIiwieERlbHRhIiwieURlbHRhIiwiYm91bmQiLCJCdWxsZXQiLCJkcmF3SW1hZ2UiLCJhcnJheSIsImZsb29yIiwiZW50aXR5IiwicmVjdCIsIk51bWJlciIsIkJ1aWxkaW5nIiwic2hvb3RlciIsInhPZmZzZXQiLCJ5T2Zmc2V0IiwiY2hlY2tBbGxPYnN0YWNsZXMiLCJCVUxMRVRfRVhQTE9TSU9OIiwiaXNIaXQiLCJwYXJhbSIsIkVycm9yIiwiYnVsbGV0Q29vcmRpbmF0ZSIsInRhcmdldENvb3JkaW5hdGUiLCJ0YXJnZXRSYWRpdXMiLCJkZXN0cm95TGltaXQiLCJXQVRFUiIsImFnZW50IiwidGFyZ2V0IiwicG9wIiwicm93TnVtIiwiY29sTnVtIiwibWFwIiwiZ2VuZXJhdGVCbG9jayIsImJ1aWxkaW5nVHlwZSIsInN0YXJ0UG9pbnQiLCJlbmRQb2ludCIsInVwUmlnaHQiLCJib3R0b21MZWZ0IiwiZ2VuZXJhdGVMaW5lIiwidGVtcCIsInN0YXJ0WCIsInNhZmVYIiwic2FmZVkiLCJzdGFydFkiLCJyb3ciLCJjb2wiLCJOT05FIiwiY3VycmVudEJ1aWxkaW5nIl0sIm1hcHBpbmdzIjoicUJBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBMERmLE9BckRBRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxLQVF2RHJCLEVBQW9Cc0IsRUFBSSxTQUFTRCxFQUFPRSxHQUV2QyxHQURVLEVBQVBBLElBQVVGLEVBQVFyQixFQUFvQnFCLElBQy9CLEVBQVBFLEVBQVUsT0FBT0YsRUFDcEIsR0FBVyxFQUFQRSxHQUE4QixpQkFBVkYsR0FBc0JBLEdBQVNBLEVBQU1HLFdBQVksT0FBT0gsRUFDaEYsSUFBSUksRUFBS1gsT0FBT1ksT0FBTyxNQUd2QixHQUZBMUIsRUFBb0JrQixFQUFFTyxHQUN0QlgsT0FBT0MsZUFBZVUsRUFBSSxVQUFXLENBQUVULFlBQVksRUFBTUssTUFBT0EsSUFDdEQsRUFBUEUsR0FBNEIsaUJBQVRGLEVBQW1CLElBQUksSUFBSU0sS0FBT04sRUFBT3JCLEVBQW9CVSxFQUFFZSxFQUFJRSxFQUFLLFNBQVNBLEdBQU8sT0FBT04sRUFBTU0sSUFBUUMsS0FBSyxLQUFNRCxJQUM5SSxPQUFPRixHQUlSekIsRUFBb0I2QixFQUFJLFNBQVMxQixHQUNoQyxJQUFJUyxFQUFTVCxHQUFVQSxFQUFPcUIsV0FDN0IsV0FBd0IsT0FBT3JCLEVBQWdCLFNBQy9DLFdBQThCLE9BQU9BLEdBRXRDLE9BREFILEVBQW9CVSxFQUFFRSxFQUFRLElBQUtBLEdBQzVCQSxHQUlSWixFQUFvQmEsRUFBSSxTQUFTaUIsRUFBUUMsR0FBWSxPQUFPakIsT0FBT2tCLFVBQVVDLGVBQWUxQixLQUFLdUIsRUFBUUMsSUFHekcvQixFQUFvQmtDLEVBQUksR0FJakJsQyxFQUFvQkEsRUFBb0JtQyxFQUFJLEcsK0JDbEZyRCxJQUFLQyxFQU9BQyxFLDBTQVBMLFNBQUtELEdBQ0gsZUFDQSxtQkFDQSxtQkFDQSxxQkFKRixDQUFLQSxNQUFTLEtBZ01aLEVBQUFBLFlBekxGLFNBQUtDLEdBQ0gsaUNBQ0EsaUNBQ0EsK0JBQ0EsaUNBQ0EsK0JBTEYsQ0FBS0EsTUFBSSxLQXVMUCxFQUFBQSxPQWVBLEVBQUFDLFlBOUxrQixHQStMbEIsRUFBQUMsY0E5TG9CLEVBK0xwQixFQUFBQyxnQkE5THNCLEVBK0x0QixFQUFBQyxpQkE5THVCLEdBdUx2QixFQUFBQyxXQXBMaUIsQ0FDakIsQ0FDRSxDQUNFLENBQUMsRUFBRyxFQUFHLEdBQUksSUFDWCxDQUFDLEdBQUksRUFBRyxHQUFJLEtBRWQsQ0FDRSxDQUFDLElBQUssRUFBRyxHQUFJLElBQ2IsQ0FBQyxJQUFLLEVBQUcsR0FBSSxLQUVmLENBQ0UsQ0FBQyxJQUFLLEVBQUcsR0FBSSxJQUNiLENBQUMsSUFBSyxFQUFHLEdBQUksS0FFZixDQUNFLENBQUMsSUFBSyxFQUFHLEdBQUksSUFDYixDQUFDLElBQUssRUFBRyxHQUFJLE1BR2pCLENBQ0UsQ0FDRSxDQUFDLElBQUssSUFBSyxHQUFJLElBQ2YsQ0FBQyxJQUFLLElBQUssR0FBSSxLQUVqQixDQUNFLENBQUMsSUFBSyxJQUFLLEdBQUksSUFDZixDQUFDLElBQUssSUFBSyxHQUFJLEtBRWpCLENBQ0UsQ0FBQyxJQUFLLElBQUssR0FBSSxJQUNmLENBQUMsSUFBSyxJQUFLLEdBQUksS0FFakIsQ0FDRSxDQUFDLElBQUssSUFBSyxHQUFJLElBQ2YsQ0FBQyxJQUFLLElBQUssR0FBSSxNQUduQixDQUNFLENBQ0UsQ0FBQyxJQUFLLElBQUssR0FBSSxJQUNmLENBQUMsSUFBSyxJQUFLLEdBQUksS0FFakIsQ0FDRSxDQUFDLElBQUssSUFBSyxHQUFJLElBQ2YsQ0FBQyxJQUFLLElBQUssR0FBSSxLQUVqQixDQUNFLENBQUMsSUFBSyxJQUFLLEdBQUksSUFDZixDQUFDLElBQUssSUFBSyxHQUFJLEtBRWpCLENBQ0UsQ0FBQyxJQUFLLElBQUssR0FBSSxJQUNmLENBQUMsSUFBSyxJQUFLLEdBQUksTUFHbkIsQ0FDRSxDQUNFLENBQUMsSUFBSyxJQUFLLEdBQUksSUFDZixDQUFDLElBQUssSUFBSyxHQUFJLEtBRWpCLENBQ0UsQ0FBQyxJQUFLLElBQUssR0FBSSxJQUNmLENBQUMsSUFBSyxJQUFLLEdBQUksS0FFakIsQ0FDRSxDQUFDLElBQUssSUFBSyxHQUFJLElBQ2YsQ0FBQyxJQUFLLElBQUssR0FBSSxLQUVqQixDQUNFLENBQUMsSUFBSyxJQUFLLEdBQUksSUFDZixDQUFDLElBQUssSUFBSyxHQUFJLE1BR25CLENBQ0UsQ0FDRSxDQUFDLElBQUssSUFB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LEVBQU0sRUFBR0EsRUFBTWYsRUFBUWUsSUFDOUIsSUFBU0MsRUFBTSxFQUFHQSxFQUFNZixFQUFRZSxJQUFPLENBQ3JDLElBQUlFLEVBQWtCaEIsRUFBSWEsR0FBS0MsR0FDM0JFLEdBQW1CLEVBQUExTSxTQUFTeU0sTUFDOUIsRUFBQTlKLEtBQUtJLFVBQVVnRSxLQUNiLElBQUksRUFBQXdELFNBQ0YsQ0FDRXBILEVBQVMsR0FBTm9KLEVBQ0hqSixFQUFTLEdBQU5rSixHQUVMRSIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMSk7XG4iLCJlbnVtIERJUkVDVElPTiB7XG4gIFVQLFxuICBET1dOLFxuICBMRUZULFxuICBSSUdIVCxcbn1cblxuZW51bSBUQU5LIHtcbiAgUExBWUVSX1RBTkssXG4gIE5PUk1BTF9UQU5LID0gMSxcbiAgU1dJRlRfVEFOSyxcbiAgTUVESVVNX1RBTkssXG4gIEhFQVZZX1RBTkssXG59XG5cbmNvbnN0IFRBTktfUkFESVVTID0gMjA7XG5jb25zdCBCVUxMRVRfUkFESVVTID0gNDtcbmNvbnN0IEJVSUxESU5HX1JBRElVUyA9IDg7XG5jb25zdCBFWFBMT1NJT05fUkFESVVTID0gMTY7XG5cbi8vIHR5cGUsIGRpcmVjdGlvblxuY29uc3QgVEFOS19JTUFHRSA9IFtcbiAgW1xuICAgIFtcbiAgICAgIFs0LCA4LCA1MiwgNTJdLFxuICAgICAgWzY4LCA4LCA1MiwgNTJdLFxuICAgIF0sXG4gICAgW1xuICAgICAgWzI2NCwgNCwgNTIsIDUyXSxcbiAgICAgIFszMjgsIDQsIDUyLCA1Ml0sXG4gICAgXSxcbiAgICBbXG4gICAgICBbMTM2LCA0LCA1MiwgNTJdLFxuICAgICAgWzIwNCwgNCwgNTIsIDUyXSxcbiAgICBdLFxuICAgIFtcbiAgICAgIFszOTIsIDQsIDUyLCA1Ml0sXG4gICAgICBbNDYwLCA0LCA1MiwgNTJdLFxuICAgIF0sXG4gIF0sXG4gIFtcbiAgICBbXG4gICAgICBbNTI0LCAyNjQsIDUyLCA2MF0sXG4gICAgICBbNTg4LCAyNjQsIDUyLCA2MF0sXG4gICAgXSxcbiAgICBbXG4gICAgICBbNzgwLCAyNjQsIDUyLCA2MF0sXG4gICAgICBbODQ0LCAyNjQsIDUyLCA2MF0sXG4gICAgXSxcbiAgICBbXG4gICAgICBbNjQ4LCAyNzIsIDYwLCA1Ml0sXG4gICAgICBbNzEyLCAyNzIsIDYwLCA1Ml0sXG4gICAgXSxcbiAgICBbXG4gICAgICBbOTA4LCAyNjgsIDYwLCA1Ml0sXG4gICAgICBbOTcyLCAyNjgsIDYwLCA1Ml0sXG4gICAgXSxcbiAgXSxcbiAgW1xuICAgIFtcbiAgICAgIFs1MjQsIDMyOCwgNTIsIDYwXSxcbiAgICAgIFs1ODgsIDMyOCwgNTIsIDYwXSxcbiAgICBdLFxuICAgIFtcbiAgICAgIFs3ODAsIDMzMiwgNTIsIDYwXSxcbiAgICAgIFs4NDQsIDMzMiwgNTIsIDYwXSxcbiAgICBdLFxuICAgIFtcbiAgICAgIFs2NDgsIDMzNiwgNjAsIDUyXSxcbiAgICAgIFs3MTIsIDMzNiwgNjAsIDUyXSxcbiAgICBdLFxuICAgIFtcbiAgICAgIFs5MDgsIDMzMiwgNjAsIDUyXSxcbiAgICAgIFs5NzIsIDMzMiwgNjAsIDUyXSxcbiAgICBdLFxuICBdLFxuICBbXG4gICAgW1xuICAgICAgWzUyNCwgMzk2LCA1MiwgNjBdLFxuICAgICAgWzU4OCwgMzk2LCA1MiwgNjBdLFxuICAgIF0sXG4gICAgW1xuICAgICAgWzc4MCwgMzk2LCA1MiwgNjBdLFxuICAgICAgWzg0NCwgMzk2LCA1MiwgNjBdLFxuICAgIF0sXG4gICAgW1xuICAgICAgWzY0OCwgNDA0LCA2MCwgNTJdLFxuICAgICAgWzcxMiwgNDA0LCA2MCwgNTJdLFxuICAgIF0sXG4gICAgW1xuICAgICAgWzkwOCwgNDAwLCA2MCwgNTJdLFxuICAgICAgWzk3MiwgNDAwLCA2MCwgNTJdLFxuICAgIF0sXG4gIF0sXG4gIFtcbiAgICBbXG4gICAgICBbNTI0LCA0NjAsIDUyLCA2MF0sXG4gICAgICBbNTg4LCA0NjAsIDUyLCA2MF0sXG4gICAgXSxcbiAgICBbXG4gICAgICBbNzgwLCA0NjAsIDUyLCA2MF0sXG4gICAgICBbODQ0LCA0NjAsIDUyLCA2MF0sXG4gICAgXSxcbiAgICBbXG4gICAgICBbNjQ4LCA0NjQsIDYwLCA1Ml0sXG4gICAgICBbNzEyLCA0NjQsIDYwLCA1Ml0sXG4gICAgXSxcbiAgICBbXG4gICAgICBbOTA0LCA0NjQsIDYwLCA1Ml0sXG4gICAgICBbOTY4LCA0NjQsIDYwLCA1Ml0sXG4gICAgXSxcbiAgXSxcbl07XG5cbmNvbnN0IEVORU1ZX1RBTktTID0gW1RBTksuTk9STUFMX1RBTkssIFRBTksuU1dJRlRfVEFOSywgVEFOSy5IRUFWWV9UQU5LXTtcblxuZW51bSBFWFBMT1NJT04ge1xuICBCVUxMRVRfRVhQTE9TSU9OLFxuICBUQU5LX0VYUExPU0lPTixcbn1cblxuY29uc3QgRVhQTE9TSU9OX0lNQUdFID0gW1xuICBbMTA2NCwgNTIwLCA0NCwgNDRdLFxuICBbMTI0NCwgNTE2LCAxMjQsIDExNl0sXG5dO1xuXG5lbnVtIEJVSUxESU5HIHtcbiAgQlJJQ0ssXG4gIFNURUVMLFxuICBKVU5HTEUsXG4gIFdBVEVSLFxuICBST0FELFxuICBOT05FLFxufVxuY29uc3QgQlVMTEVUX0lNQUdFID0gW1xuICBbMTMyMCwgNDA4LCAxMiwgMTZdLFxuICBbMTM4NCwgNDA4LCAxMiwgMTZdLFxuICBbMTM0OCwgNDA4LCAxNiwgMTJdLFxuICBbMTQxMiwgNDA4LCAxNiwgMTJdLFxuXTtcblxuY29uc3QgQlVJTERJTkdfSU1BR0UgPSBbXG4gIFsxMDUyLCAwLCAzMiwgMzJdLFxuICBbMTA1MiwgNjQsIDMyLCAzMl0sXG4gIFsxMTE2LCAxMjgsIDMyLCAzMl0sXG4gIFsxMDUyLCAxOTIsIDMyLCAzMl0sXG5dO1xuXG5jb25zdCBCVUlMRElOR1MgPSBbQlVJTERJTkcuQlJJQ0ssIEJVSUxESU5HLlNURUVMLCBCVUlMRElORy5KVU5HTEVdO1xuXG5lbnVtIEFDVElPTiB7XG4gIE1PVkVfVVAsXG4gIE1PVkVfRE9XTixcbiAgTU9WRV9MRUZULFxuICBNT1ZFX1JJR0hULFxuICBTVEFZLFxuICBTSE9PVCxcbiAgRE9fTk9USElORyxcbn1cblxuY29uc3QgQUNUSU9OUyA9IFtcbiAgQUNUSU9OLk1PVkVfVVAsXG4gIEFDVElPTi5NT1ZFX0RPV04sXG4gIEFDVElPTi5NT1ZFX0xFRlQsXG4gIEFDVElPTi5NT1ZFX1JJR0hULFxuICBBQ1RJT04uU1RBWSxcbiAgQUNUSU9OLlNIT09ULFxuICBBQ1RJT04uRE9fTk9USElORyxcbl07XG5cbmNsYXNzIEF1ZGlvTWFuYWdlciB7XG4gIHN0YXJ0ID0gPEhUTUxBdWRpb0VsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdGFydFwiKTtcbiAgY29sbGVjdCA9IDxIVE1MQXVkaW9FbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29sbGVjdFwiKTtcbiAgc2hvb3QgPSA8SFRNTEF1ZGlvRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNob290XCIpO1xuICBleHBsb3Npb24gPSA8SFRNTEF1ZGlvRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImV4cGxvc2lvblwiKTtcbiAgcGF1c2UgPSA8SFRNTEF1ZGlvRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBhdXNlXCIpO1xuICBwaWNrID0gPEhUTUxBdWRpb0VsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwaWNrXCIpO1xuICBsZXZlbF91cCA9IDxIVE1MQXVkaW9FbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGV2ZWxfdXBcIik7XG4gIGlkbGUgPSA8SFRNTEF1ZGlvRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImlkbGVcIik7XG4gIG1vdmUgPSA8SFRNTEF1ZGlvRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1vdmVcIik7XG4gIGhpdCA9IDxIVE1MQXVkaW9FbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaGl0XCIpO1xuICBiZV9oaXQgPSA8SFRNTEF1ZGlvRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJlX2hpdFwiKTtcbiAgZ2FtZV9vdmVyID0gPEhUTUxBdWRpb0VsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnYW1lX292ZXJcIik7XG59XG5cbmNvbnN0IEFVRElPID0gbmV3IEF1ZGlvTWFuYWdlcigpO1xuY29uc3QgQ0FOVkFTID0gPEhUTUxDYW52YXNFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpO1xuY29uc3QgSU1BR0UgPSA8SFRNTEltYWdlRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwcml0ZXNcIik7XG5cbmV4cG9ydCB7XG4gIFRBTkssXG4gIEVORU1ZX1RBTktTLFxuICBESVJFQ1RJT04sXG4gIEVYUExPU0lPTixcbiAgQlVJTERJTkcsXG4gIEJVSUxESU5HUyxcbiAgQUNUSU9OLFxuICBBQ1RJT05TLFxuICBBVURJTyxcbiAgQ0FOVkFTLFxuICBJTUFHRSxcbiAgVEFOS19JTUFHRSxcbiAgQlVJTERJTkdfSU1BR0UsXG4gIEJVTExFVF9JTUFHRSxcbiAgRVhQTE9TSU9OX0lNQUdFLFxuICBUQU5LX1JBRElVUyxcbiAgQlVMTEVUX1JBRElVUyxcbiAgQlVJTERJTkdfUkFESVVTLFxuICBFWFBMT1NJT05fUkFESVVTLFxufTtcbiIsImltcG9ydCB7XG4gIEFVRElPLFxuICBDQU5WQVMsXG4gIERJUkVDVElPTixcbiAgRU5FTVlfVEFOS1MsXG4gIEVYUExPU0lPTixcbiAgSU1BR0UsXG4gIFRBTkssXG59IGZyb20gXCIuL0NvbnN0YW50c1wiO1xuXG5pbXBvcnQgeyBUYW5rIH0gZnJvbSBcIi4vbW9kZWxzL1RhbmtcIjtcbmltcG9ydCB7IEJ1bGxldCB9IGZyb20gXCIuL21vZGVscy9CdWxsZXRcIjtcbmltcG9ydCB7IEJ1aWxkaW5nIH0gZnJvbSBcIi4vbW9kZWxzL0J1aWxkaW5nXCI7XG5cbmltcG9ydCB7IEVudGl0eSB9IGZyb20gXCIuL21vZGVscy9HZW5lcmFsXCI7XG5pbXBvcnQgeyBBSSB9IGZyb20gXCIuL0FJXCI7XG5pbXBvcnQgeyByYW5kb21DaG9vc2VGcm9tLCBkcmF3RW50aXR5LCBkcmF3RXhwbG9zaW9uIH0gZnJvbSBcIi4vVXRpbHNcIjtcbmltcG9ydCB7IGJ1aWxkaW5nc0dlbmVyYXRvciB9IGZyb20gXCIuL01hcEdlbmVyYXRvclwiO1xuXG5sZXQgY291bnQgPSAwO1xubGV0IHBhdXNlZCA9IGZhbHNlO1xubGV0IGNvbnRleHQ6IGFueTtcblxubGV0IGtleUFEb3duOiBib29sZWFuID0gZmFsc2U7XG5sZXQga2V5RERvd246IGJvb2xlYW4gPSBmYWxzZTtcbmxldCBrZXlXRG93bjogYm9vbGVhbiA9IGZhbHNlO1xubGV0IGtleVNEb3duOiBib29sZWFuID0gZmFsc2U7XG5cbmxldCB0b3VjaFBvaW50WCA9IDA7XG5sZXQgdG91Y2hQb2ludFkgPSAwO1xuXG5jb25zdCBHQU1FOiB7XG4gIHRhbmtzOiBUYW5rW107XG4gIGJ1bGxldHM6IEJ1bGxldFtdO1xuICBleHBsb3Npb25zOiBhbnlbXTtcbiAgYnVpbGRpbmdzOiBCdWlsZGluZ1tdO1xufSA9IHtcbiAgdGFua3M6IFtdLFxuICBidWxsZXRzOiBbXSxcbiAgZXhwbG9zaW9uczogW10sXG4gIGJ1aWxkaW5nczogW10sXG59O1xuXG5mdW5jdGlvbiBtYWluKCkge1xuICBjb250ZXh0ID0gQ0FOVkFTLmdldENvbnRleHQoXCIyZFwiKTtcbiAgY29udGV4dC5jYW52YXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgY29udGV4dC5jYW52YXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICBidWlsZGluZ3NHZW5lcmF0b3IoKTtcbiAgbG9hZFBsYXllclRhbmsoKTtcbiAgQVVESU8uc3RhcnQucGxheSgpLnRoZW4oKCkgPT4ge30pO1xuICByZWdpc3RlckV2ZW50KCk7XG4gIGZ1bmN0aW9uIHRpY2soKSB7XG4gICAgdXBkYXRlKCk7XG4gICAgZHJhdygpO1xuICAgIHNhdmVQbGF5ZXJUYW5rKCk7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRpY2spO1xuICB9XG4gIHRpY2soKTtcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVQbGF5VGFuaygpIHtcbiAgbGV0IHRhbmsgPSBuZXcgVGFuayhcbiAgICB7IHg6IGNvbnRleHQuY2FudmFzLndpZHRoIC8gMiwgeTogY29udGV4dC5jYW52YXMuaGVpZ2h0IH0sXG4gICAgRElSRUNUSU9OLlVQLFxuICAgIFRBTksuUExBWUVSX1RBTktcbiAgKTtcbiAgR0FNRS50YW5rcy51bnNoaWZ0KHRhbmspO1xufVxuXG5mdW5jdGlvbiBzYXZlUGxheWVyVGFuaygpIHtcbiAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwic3RhdGVcIiwgSlNPTi5zdHJpbmdpZnkoR0FNRS50YW5rc1swXSkpO1xufVxuXG5mdW5jdGlvbiBsb2FkUGxheWVyVGFuaygpIHtcbiAgbGV0IGRhdGEgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJzdGF0ZVwiKTtcbiAgaWYgKCFkYXRhKSBkYXRhID0gXCJcIjtcbiAgbGV0IHN0YXRlID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgbGV0IHRhbmsgPSBuZXcgVGFuayhcbiAgICB7IHg6IGNvbnRleHQuY2FudmFzLndpZHRoIC8gMiwgeTogY29udGV4dC5jYW52YXMuaGVpZ2h0IH0sXG4gICAgRElSRUNUSU9OLlVQLFxuICAgIFRBTksuUExBWUVSX1RBTktcbiAgKTtcbiAgaWYgKHN0YXRlICE9IG51bGwpIHtcbiAgICB0YW5rLmJsb29kID0gc3RhdGUuYmxvb2Q7XG4gICAgdGFuay5hcm1vciA9IHN0YXRlLmFybW9yO1xuICAgIHRhbmsuc3BlZWQgPSBzdGF0ZS5zcGVlZDtcbiAgICB0YW5rLmxldmVsID0gc3RhdGUubGV2ZWw7XG4gICAgdGFuay5idWxsZXQuc3BlZWQgPSBzdGF0ZS5idWxsZXQuc3BlZWQ7XG4gICAgdGFuay5idWxsZXQuZGFtYWdlID0gc3RhdGUuYnVsbGV0LmRhbWFnZTtcbiAgfVxuICBHQU1FLnRhbmtzLnVuc2hpZnQodGFuayk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgaWYgKHBhdXNlZCkgcmV0dXJuO1xuICBpZiAoY291bnQgPT09IDApIHtcbiAgICBpZiAoTWF0aC5yYW5kb20oKSA+IDAuNykge1xuICAgICAgR0FNRS50YW5rcy5wdXNoKFxuICAgICAgICBuZXcgVGFuayhcbiAgICAgICAgICB7XG4gICAgICAgICAgICB4OiBNYXRoLnJhbmRvbSgpICogY29udGV4dC5jYW52YXMud2lkdGgsXG4gICAgICAgICAgICB5OiAwLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgRElSRUNUSU9OLkRPV04sXG4gICAgICAgICAgcmFuZG9tQ2hvb3NlRnJvbShFTkVNWV9UQU5LUylcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgY291bnQgKz0gMTtcbiAgY291bnQgJT0gNjA7XG4gIGZ1bmN0aW9uIHVwZGF0ZUJ1bGxldHMoKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBHQU1FLmJ1bGxldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghR0FNRS5idWxsZXRzW2ldLmFsaXZlKSB7XG4gICAgICAgIEdBTUUuYnVsbGV0cy5zcGxpY2UoaSwgMSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgR0FNRS5idWxsZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBHQU1FLmJ1bGxldHNbaV0ubW92ZSgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVRhbmtzKCkge1xuICAgIGxldCBpc1BsYXllckRpZWQgPSBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IEdBTUUudGFua3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghR0FNRS50YW5rc1tpXS5hbGl2ZSkge1xuICAgICAgICBHQU1FLmV4cGxvc2lvbnMucHVzaCh7XG4gICAgICAgICAgY29vcmRpbmF0ZTogR0FNRS50YW5rc1tpXS5jb29yZGluYXRlLFxuICAgICAgICAgIHR5cGU6IEVYUExPU0lPTi5UQU5LX0VYUExPU0lPTixcbiAgICAgICAgfSk7XG4gICAgICAgIEdBTUUudGFua3Muc3BsaWNlKGksIDEpO1xuICAgICAgICBpc1BsYXllckRpZWQgPSBpID09IDA7XG4gICAgICB9XG4gICAgfVxuICAgIEdBTUUudGFua3NbMF0ubW92ZSgpO1xuICAgIEdBTUUudGFua3NbMF0ubGFzdFNob290Q291bnQgKz0gMTtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IEdBTUUudGFua3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIEdBTUUudGFua3NbaV0ubW92ZSgpO1xuICAgICAgR0FNRS50YW5rc1tpXS5sYXN0U2hvb3RDb3VudCArPSAxO1xuICAgIH1cbiAgICBpZiAoY291bnQgJSA1ID09PSAwKSB7XG4gICAgICBmb3IgKGxldCBpID0gMTsgaSA8IEdBTUUudGFua3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgcGxheWVyVGFuayA9IEdBTUUudGFua3NbMF07XG4gICAgICAgIGNvbnN0IGVuZW15VGFuayA9IEdBTUUudGFua3NbaV07XG4gICAgICAgIEFJKGVuZW15VGFuaywgcGxheWVyVGFuayk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpc1BsYXllckRpZWQpIHtcbiAgICAgIEFVRElPLmdhbWVfb3Zlci5wbGF5KCkudGhlbigoKSA9PiB7XG4gICAgICAgIGdlbmVyYXRlUGxheVRhbmsoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUJ1aWxkaW5ncygpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IEdBTUUuYnVpbGRpbmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoIUdBTUUuYnVpbGRpbmdzW2ldLmFsaXZlKSB7XG4gICAgICAgIEdBTUUuYnVpbGRpbmdzLnNwbGljZShpLCAxKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB1cGRhdGVCdWxsZXRzKCk7XG4gIHVwZGF0ZUJ1aWxkaW5ncygpO1xuICB1cGRhdGVUYW5rcygpO1xufVxuXG5mdW5jdGlvbiBkcmF3KCkge1xuICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCBjb250ZXh0LmNhbnZhcy53aWR0aCwgY29udGV4dC5jYW52YXMuaGVpZ2h0KTtcbiAgbGV0IG9iamVjdHM6IEVudGl0eVtdID0gR0FNRS50YW5rcztcbiAgb2JqZWN0cyA9IG9iamVjdHMuY29uY2F0KEdBTUUuYnVsbGV0cyk7XG4gIG9iamVjdHMgPSBvYmplY3RzLmNvbmNhdChHQU1FLmJ1aWxkaW5ncyk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgb2JqZWN0cy5sZW5ndGg7IGkrKykge1xuICAgIGRyYXdFbnRpdHkob2JqZWN0c1tpXSk7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBHQU1FLmV4cGxvc2lvbnMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBleHBsb3Npb24gPSBHQU1FLmV4cGxvc2lvbnNbaV07XG4gICAgZHJhd0V4cGxvc2lvbihleHBsb3Npb24udHlwZSwgZXhwbG9zaW9uLmNvb3JkaW5hdGUpO1xuICB9XG4gIHNob3dTdGF0dXMoKTtcbiAgR0FNRS5leHBsb3Npb25zID0gW107XG59XG5cbmZ1bmN0aW9uIHNob3dTdGF0dXMoKSB7XG4gIGNvbnRleHQuZm9udCA9IFwiMjBweCBtb25vc3BhY2VcIjtcbiAgY29udGV4dC5maWxsU3R5bGUgPSBcIndoaXRlXCI7XG4gIGxldCBwbGF5ZXIgPSBHQU1FLnRhbmtzWzBdO1xuICBjb250ZXh0LmZpbGxUZXh0KFxuICAgIGBibG9vZDogJHtwbGF5ZXIuYmxvb2QudG9GaXhlZCgxKX0gYXJtb3I6ICR7cGxheWVyLmFybW9yLnRvRml4ZWQoMil9YCxcbiAgICAyMCxcbiAgICAzMFxuICApO1xuICBjb250ZXh0LmZpbGxUZXh0KFxuICAgIGBzcGVlZDogJHtwbGF5ZXIuc3BlZWQudG9GaXhlZCgxKX0gbGV2ZWw6ICR7cGxheWVyLmxldmVsfWAsXG4gICAgMjAsXG4gICAgNTBcbiAgKTtcbiAgY29udGV4dC5maWxsVGV4dChgc2hvb3QgaW50ZXJ2YWw6ICR7cGxheWVyLnNob290SW50ZXJ2YWx9YCwgMjAsIDcwKTtcbiAgY29udGV4dC5maWxsVGV4dChcbiAgICBgYnVsbGV0IGRhbWFnZTogJHtwbGF5ZXIuYnVsbGV0LmRhbWFnZS50b0ZpeGVkKFxuICAgICAgMVxuICAgICl9IGJ1bGxldCBzcGVlZDogJHtwbGF5ZXIuYnVsbGV0LnNwZWVkLnRvRml4ZWQoMSl9YCxcbiAgICAyMCxcbiAgICA5MFxuICApO1xufVxuXG5mdW5jdGlvbiByZWdpc3RlckV2ZW50KCkge1xuICBkb2N1bWVudC5vbmtleWRvd24gPSBmdW5jdGlvbiAoZSkge1xuICAgIHRyeSB7XG4gICAgICBzd2l0Y2ggKGUuY29kZSkge1xuICAgICAgICBjYXNlIFwiS2V5QVwiOlxuICAgICAgICAgIGtleUFEb3duID0gdHJ1ZTtcbiAgICAgICAgICBHQU1FLnRhbmtzWzBdLm1vdmluZyA9IHRydWU7XG4gICAgICAgICAgR0FNRS50YW5rc1swXS5kaXJlY3Rpb24gPSBESVJFQ1RJT04uTEVGVDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIktleURcIjpcbiAgICAgICAgICBrZXlERG93biA9IHRydWU7XG4gICAgICAgICAgR0FNRS50YW5rc1swXS5tb3ZpbmcgPSB0cnVlO1xuICAgICAgICAgIEdBTUUudGFua3NbMF0uZGlyZWN0aW9uID0gRElSRUNUSU9OLlJJR0hUO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiS2V5V1wiOlxuICAgICAgICAgIGtleVdEb3duID0gdHJ1ZTtcbiAgICAgICAgICBHQU1FLnRhbmtzWzBdLm1vdmluZyA9IHRydWU7XG4gICAgICAgICAgR0FNRS50YW5rc1swXS5kaXJlY3Rpb24gPSBESVJFQ1RJT04uVVA7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJLZXlTXCI6XG4gICAgICAgICAga2V5U0Rvd24gPSB0cnVlO1xuICAgICAgICAgIEdBTUUudGFua3NbMF0ubW92aW5nID0gdHJ1ZTtcbiAgICAgICAgICBHQU1FLnRhbmtzWzBdLmRpcmVjdGlvbiA9IERJUkVDVElPTi5ET1dOO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiS2V5UFwiOlxuICAgICAgICAgIHBhdXNlZCA9ICFwYXVzZWQ7XG4gICAgICAgICAgQVVESU8ucGF1c2UucGxheSgpLnRoZW4oKCkgPT4ge30pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiU3BhY2VcIjpcbiAgICAgICAgICBHQU1FLnRhbmtzWzBdLnNob290KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJGMTFcIjpcbiAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIktleVJcIjpcbiAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIktleUJcIjpcbiAgICAgICAgICBnZW5lcmF0ZVBsYXlUYW5rKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5sb2coZS50b1N0cmluZygpKTtcbiAgICB9XG4gIH07XG5cbiAgZG9jdW1lbnQub25tb3VzZWRvd24gPSBmdW5jdGlvbiAoZSkge1xuICAgIGlmIChlLmJ1dHRvbiA9PSAwKSB7XG4gICAgICBHQU1FLnRhbmtzWzBdLnNob290KCk7XG4gICAgfVxuICB9O1xuXG4gIGRvY3VtZW50Lm9ua2V5dXAgPSBmdW5jdGlvbiAoZSkge1xuICAgIHN3aXRjaCAoZS5jb2RlKSB7XG4gICAgICBjYXNlIFwiS2V5QVwiOlxuICAgICAgICBrZXlBRG93biA9IGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJLZXlEXCI6XG4gICAgICAgIGtleUREb3duID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIktleVdcIjpcbiAgICAgICAga2V5V0Rvd24gPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiS2V5U1wiOlxuICAgICAgICBrZXlTRG93biA9IGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJLZXlDXCI6XG4gICAgICAgIEdBTUUuYnVpbGRpbmdzID0gW107XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGlmICgha2V5U0Rvd24gJiYgIWtleVdEb3duICYmICFrZXlERG93biAmJiAha2V5QURvd24pXG4gICAgICBHQU1FLnRhbmtzWzBdLm1vdmluZyA9IGZhbHNlO1xuICB9O1xuXG4gIGRvY3VtZW50Lm9udG91Y2hzdGFydCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdG91Y2hQb2ludFggPSBlLnRvdWNoZXNbMF0ucGFnZVg7XG4gICAgdG91Y2hQb2ludFkgPSBlLnRvdWNoZXNbMF0ucGFnZVk7XG4gIH07XG5cbiAgZG9jdW1lbnQub250b3VjaGVuZCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgbGV0IGVuZFRvdWNoUG9pbnRYID0gZS5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWDtcbiAgICBsZXQgZW5kVG91Y2hQb2ludFkgPSBlLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZO1xuICAgIGxldCBkZWx0YVggPSBNYXRoLmFicyhlbmRUb3VjaFBvaW50WCAtIHRvdWNoUG9pbnRYKTtcbiAgICBsZXQgZGVsdGFZID0gTWF0aC5hYnMoZW5kVG91Y2hQb2ludFkgLSB0b3VjaFBvaW50WSk7XG4gICAgaWYgKEdBTUUudGFua3NbMF0pIHtcbiAgICAgIEdBTUUudGFua3NbMF0ubW92aW5nID0gdHJ1ZTtcbiAgICAgIEdBTUUudGFua3NbMF0uc2hvb3QoKTtcbiAgICB9XG4gICAgaWYgKE1hdGgubWF4KGRlbHRhWCwgZGVsdGFZKSA8IDMwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChkZWx0YVggPiBkZWx0YVkpIHtcbiAgICAgIGlmIChlbmRUb3VjaFBvaW50WCA+IHRvdWNoUG9pbnRYKSB7XG4gICAgICAgIEdBTUUudGFua3NbMF0uZGlyZWN0aW9uID0gRElSRUNUSU9OLlJJR0hUO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgR0FNRS50YW5rc1swXS5kaXJlY3Rpb24gPSBESVJFQ1RJT04uTEVGVDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGVuZFRvdWNoUG9pbnRZID4gdG91Y2hQb2ludFkpIHtcbiAgICAgICAgR0FNRS50YW5rc1swXS5kaXJlY3Rpb24gPSBESVJFQ1RJT04uRE9XTjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIEdBTUUudGFua3NbMF0uZGlyZWN0aW9uID0gRElSRUNUSU9OLlVQO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1cblxuZXhwb3J0IHsgbWFpbiwgR0FNRSwgY29udGV4dCB9O1xuIiwiaW1wb3J0IHsgQVVESU8sIERJUkVDVElPTiwgSU1BR0UsIFRBTkssIFRBTktfUkFESVVTIH0gZnJvbSBcIi4uL0NvbnN0YW50c1wiO1xuXG5pbXBvcnQgeyBjb250ZXh0LCBHQU1FIH0gZnJvbSBcIi4uL2luZGV4XCI7XG5cbmltcG9ydCB7IENvb3JkaW5hdGUsIEVudGl0eSB9IGZyb20gXCIuL0dlbmVyYWxcIjtcblxuaW1wb3J0IHsgQnVsbGV0IH0gZnJvbSBcIi4vQnVsbGV0XCI7XG5cbmNsYXNzIFRhbmsgaW1wbGVtZW50cyBFbnRpdHkge1xuICBjb29yZGluYXRlOiBDb29yZGluYXRlO1xuICBkaXJlY3Rpb246IERJUkVDVElPTjtcbiAgbGFzdFNob290Q291bnQ6IG51bWJlcjtcbiAgdHlwZTogVEFOSztcbiAgcmFkaXVzOiBudW1iZXI7XG4gIHNob290SW50ZXJ2YWw6IG51bWJlcjtcbiAgYWxpdmU6IGJvb2xlYW47XG4gIG1vdmluZzogYm9vbGVhbjtcbiAgaW1hZ2VUdXJuOiBib29sZWFuO1xuICBjYW5UYW5rUGFzczogYm9vbGVhbjtcbiAgY2FuQnVsbGV0UGFzczogYm9vbGVhbjtcbiAgYWN0aW9uTGlzdDogYW55W107XG4gIGJ1bGxldDogeyBkYW1hZ2U6IG51bWJlcjsgc3BlZWQ6IG51bWJlciB9O1xuICBibG9vZDogbnVtYmVyO1xuICBhcm1vcjogbnVtYmVyO1xuICBzcGVlZDogbnVtYmVyO1xuICBhdHRhY2tJbnRlcnZhbDogbnVtYmVyO1xuICBsZXZlbDogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKGNvb3JkaW5hdGU6IENvb3JkaW5hdGUsIGRpcmVjdGlvbjogRElSRUNUSU9OLCB0eXBlOiBUQU5LKSB7XG4gICAgdGhpcy5jb29yZGluYXRlID0gY29vcmRpbmF0ZTtcbiAgICB0aGlzLmRpcmVjdGlvbiA9IGRpcmVjdGlvbjtcbiAgICB0aGlzLmxhc3RTaG9vdENvdW50ID0gMDtcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIHRoaXMucmFkaXVzID0gVEFOS19SQURJVVM7XG4gICAgdGhpcy5zaG9vdEludGVydmFsID0gNjA7XG4gICAgdGhpcy5hbGl2ZSA9IHRydWU7XG4gICAgdGhpcy5tb3ZpbmcgPSB0cnVlO1xuICAgIHRoaXMuaW1hZ2VUdXJuID0gdHJ1ZTtcbiAgICB0aGlzLmNhblRhbmtQYXNzID0gZmFsc2U7XG4gICAgdGhpcy5jYW5CdWxsZXRQYXNzID0gZmFsc2U7XG4gICAgdGhpcy5hY3Rpb25MaXN0ID0gW107XG4gICAgdGhpcy5idWxsZXQgPSB7XG4gICAgICBkYW1hZ2U6IDUsXG4gICAgICBzcGVlZDogMTAsXG4gICAgfTtcbiAgICB0aGlzLmJsb29kID0gMTA7XG4gICAgdGhpcy5hcm1vciA9IDAuNTtcbiAgICB0aGlzLnNwZWVkID0gMi41O1xuICAgIHRoaXMuYXR0YWNrSW50ZXJ2YWwgPSA0MDtcbiAgICB0aGlzLmxldmVsID0gMTtcbiAgICBzd2l0Y2ggKHRoaXMudHlwZSkge1xuICAgICAgY2FzZSBUQU5LLlBMQVlFUl9UQU5LOlxuICAgICAgICB0aGlzLmJsb29kID0gMTA7XG4gICAgICAgIHRoaXMuYXJtb3IgPSAwLjY7XG4gICAgICAgIHRoaXMuc3BlZWQgPSAzO1xuICAgICAgICB0aGlzLmF0dGFja0ludGVydmFsID0gMjA7XG4gICAgICAgIHRoaXMuYnVsbGV0LmRhbWFnZSA9IDU7XG4gICAgICAgIHRoaXMuYnVsbGV0LnNwZWVkID0gMTU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBUQU5LLk5PUk1BTF9UQU5LOlxuICAgICAgICB0aGlzLmJsb29kID0gMTA7XG4gICAgICAgIHRoaXMuYXJtb3IgPSAwLjU7XG4gICAgICAgIHRoaXMuc3BlZWQgPSAyLjU7XG4gICAgICAgIHRoaXMuYXR0YWNrSW50ZXJ2YWwgPSA0MDtcbiAgICAgICAgdGhpcy5idWxsZXQuZGFtYWdlID0gNDtcbiAgICAgICAgdGhpcy5idWxsZXQuc3BlZWQgPSAxMDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFRBTksuU1dJRlRfVEFOSzpcbiAgICAgICAgdGhpcy5ibG9vZCA9IDU7XG4gICAgICAgIHRoaXMuYXJtb3IgPSAwLjM7XG4gICAgICAgIHRoaXMuc3BlZWQgPSAzLjU7XG4gICAgICAgIHRoaXMuYXR0YWNrSW50ZXJ2YWwgPSAyMDtcbiAgICAgICAgdGhpcy5idWxsZXQuZGFtYWdlID0gMztcbiAgICAgICAgdGhpcy5idWxsZXQuc3BlZWQgPSAxNTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFRBTksuSEVBVllfVEFOSzpcbiAgICAgICAgdGhpcy5ibG9vZCA9IDIwO1xuICAgICAgICB0aGlzLmFybW9yID0gMC43O1xuICAgICAgICB0aGlzLnNwZWVkID0gMC43O1xuICAgICAgICB0aGlzLmF0dGFja0ludGVydmFsID0gNjA7XG4gICAgICAgIHRoaXMuYnVsbGV0LmRhbWFnZSA9IDEwO1xuICAgICAgICB0aGlzLmJ1bGxldC5zcGVlZCA9IDQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlVuZXhwZWN0ZWQgdGFuayB0eXBlOiBcIiArIHRoaXMudHlwZSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIGxldmVsVXAoKTogdm9pZCB7XG4gICAgdGhpcy5sZXZlbCsrO1xuICAgIHRoaXMuYmxvb2QgPSBNYXRoLm1pbigzMCwgdGhpcy5ibG9vZCArIDEpO1xuICAgIHRoaXMuc3BlZWQgPSBNYXRoLm1pbigxMCwgdGhpcy5zcGVlZCArIDAuMSk7XG4gICAgdGhpcy5hcm1vciA9IE1hdGgubWluKDAuOCwgdGhpcy5hcm1vciArIDAuMDQpO1xuICAgIHRoaXMuYnVsbGV0LnNwZWVkID0gTWF0aC5taW4oMjUsIHRoaXMuYnVsbGV0LnNwZWVkICsgMC4yNSk7XG4gICAgdGhpcy5idWxsZXQuZGFtYWdlID0gTWF0aC5taW4oMzAsIHRoaXMuYnVsbGV0LmRhbWFnZSArIDAuNSk7XG4gICAgdGhpcy5zaG9vdEludGVydmFsID0gTWF0aC5tYXgoMTAsIHRoaXMuc2hvb3RJbnRlcnZhbCAtIDIpO1xuICB9XG5cbiAgYmVBdHRhY2tlZChidWxsZXQ6IHsgZGFtYWdlOiBudW1iZXIgfSwgYXR0YWNrZXI6IEVudGl0eSkge1xuICAgIHRoaXMuYmxvb2QgLT0gTWF0aC5tYXgoMSwgYnVsbGV0LmRhbWFnZSAqICgxIC0gdGhpcy5hcm1vcikpO1xuICAgIGlmICh0aGlzLmJsb29kIDw9IDApIHtcbiAgICAgIHRoaXMuYmxvb2QgPSAwO1xuICAgICAgdGhpcy5hbGl2ZSA9IGZhbHNlO1xuICAgICAgQVVESU8uZXhwbG9zaW9uLnBsYXkoKS50aGVuKCgpID0+IHt9KTtcbiAgICAgIGF0dGFja2VyLmxldmVsVXAoKTtcbiAgICB9XG4gIH1cblxuICBtb3ZlKCkge1xuICAgIGlmICh0aGlzLm1vdmluZykge1xuICAgICAgbGV0IG92ZXJsYXBwaW5nID0gZmFsc2U7XG4gICAgICBsZXQgb2JzdGFjbGVzOiBFbnRpdHlbXSA9IEdBTUUudGFua3M7XG4gICAgICBvYnN0YWNsZXMgPSBvYnN0YWNsZXMuY29uY2F0KEdBTUUuYnVpbGRpbmdzKTtcbiAgICAgIGxldCB4RGVsdGEgPSAwO1xuICAgICAgbGV0IHlEZWx0YSA9IDA7XG4gICAgICBzd2l0Y2ggKHRoaXMuZGlyZWN0aW9uKSB7XG4gICAgICAgIGNhc2UgRElSRUNUSU9OLlVQOlxuICAgICAgICAgIHlEZWx0YSA9IC10aGlzLnNwZWVkO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIERJUkVDVElPTi5ET1dOOlxuICAgICAgICAgIHlEZWx0YSA9IHRoaXMuc3BlZWQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgRElSRUNUSU9OLkxFRlQ6XG4gICAgICAgICAgeERlbHRhID0gLXRoaXMuc3BlZWQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgRElSRUNUSU9OLlJJR0hUOlxuICAgICAgICAgIHhEZWx0YSA9IHRoaXMuc3BlZWQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICB0aGlzLmNvb3JkaW5hdGUueCArPSB4RGVsdGE7XG4gICAgICB0aGlzLmNvb3JkaW5hdGUueSArPSB5RGVsdGE7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9ic3RhY2xlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAob2JzdGFjbGVzW2ldLmNhblRhbmtQYXNzKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAgIE1hdGguYWJzKHRoaXMuY29vcmRpbmF0ZS55IC0gb2JzdGFjbGVzW2ldLmNvb3JkaW5hdGUueSkgPFxuICAgICAgICAgICAgdGhpcy5yYWRpdXMgKyBvYnN0YWNsZXNbaV0ucmFkaXVzICYmXG4gICAgICAgICAgdGhpcy5jb29yZGluYXRlICE9PSBvYnN0YWNsZXNbaV0uY29vcmRpbmF0ZSAmJlxuICAgICAgICAgIE1hdGguYWJzKHRoaXMuY29vcmRpbmF0ZS54IC0gb2JzdGFjbGVzW2ldLmNvb3JkaW5hdGUueCkgPFxuICAgICAgICAgICAgdGhpcy5yYWRpdXMgKyBvYnN0YWNsZXNbaV0ucmFkaXVzXG4gICAgICAgICkge1xuICAgICAgICAgIG92ZXJsYXBwaW5nID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLmNvb3JkaW5hdGUueCAtPSB4RGVsdGE7XG4gICAgICAgICAgdGhpcy5jb29yZGluYXRlLnkgLT0geURlbHRhO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY29vcmRpbmF0ZSA9IFRhbmsuYm91bmQodGhpcy5jb29yZGluYXRlLCB0aGlzLnJhZGl1cyk7IC8vIE1ha2UgdGhlIHRhbmsgdW5hYmxlIHRvIGNyb3NzIHRoZSBib3JkZXJcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYm91bmQoY29vcmRpbmF0ZTogQ29vcmRpbmF0ZSwgcmFkaXVzOiBudW1iZXIpIHtcbiAgICBpZiAoY29vcmRpbmF0ZS54IDwgcmFkaXVzKSB7XG4gICAgICBjb29yZGluYXRlLnggPSByYWRpdXM7XG4gICAgfSBlbHNlIGlmIChjb29yZGluYXRlLnggKyByYWRpdXMgPiBjb250ZXh0LmNhbnZhcy53aWR0aCkge1xuICAgICAgY29vcmRpbmF0ZS54ID0gY29udGV4dC5jYW52YXMud2lkdGggLSByYWRpdXM7XG4gICAgfVxuICAgIGlmIChjb29yZGluYXRlLnkgPCByYWRpdXMpIHtcbiAgICAgIGNvb3JkaW5hdGUueSA9IHJhZGl1cztcbiAgICB9IGVsc2UgaWYgKGNvb3JkaW5hdGUueSArIHJhZGl1cyA+IGNvbnRleHQuY2FudmFzLmhlaWdodCkge1xuICAgICAgY29vcmRpbmF0ZS55ID0gY29udGV4dC5jYW52YXMuaGVpZ2h0IC0gcmFkaXVzO1xuICAgIH1cblxuICAgIHJldHVybiBjb29yZGluYXRlO1xuICB9XG5cbiAgc2hvb3QoKSB7XG4gICAgaWYgKHRoaXMubGFzdFNob290Q291bnQgPj0gdGhpcy5zaG9vdEludGVydmFsKSB7XG4gICAgICBHQU1FLmJ1bGxldHMucHVzaChcbiAgICAgICAgbmV3IEJ1bGxldChcbiAgICAgICAgICB0aGlzLmNvb3JkaW5hdGUsXG4gICAgICAgICAgdGhpcy5kaXJlY3Rpb24sXG4gICAgICAgICAgdGhpcy5idWxsZXQuZGFtYWdlLFxuICAgICAgICAgIHRoaXMuYnVsbGV0LnNwZWVkLFxuICAgICAgICAgIHRoaXNcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICAgIHRoaXMubGFzdFNob290Q291bnQgPSAwO1xuICAgICAgaWYgKHRoaXMudHlwZSA9PT0gVEFOSy5QTEFZRVJfVEFOSykge1xuICAgICAgICBBVURJTy5zaG9vdC5wbGF5KCkudGhlbigoKSA9PiB7fSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZHJhdygpIHtcbiAgICBzd2l0Y2ggKHRoaXMudHlwZSkge1xuICAgICAgY2FzZSBUQU5LLlBMQVlFUl9UQU5LOlxuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShcbiAgICAgICAgICBJTUFHRSxcbiAgICAgICAgICAzMiAqIHRoaXMuZGlyZWN0aW9uLFxuICAgICAgICAgIDAsXG4gICAgICAgICAgMzIsXG4gICAgICAgICAgMzIsXG4gICAgICAgICAgdGhpcy5jb29yZGluYXRlLnggLSAxNixcbiAgICAgICAgICB0aGlzLmNvb3JkaW5hdGUueSAtIDE2LFxuICAgICAgICAgIDMyLFxuICAgICAgICAgIDMyXG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBUQU5LLk5PUk1BTF9UQU5LOlxuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShcbiAgICAgICAgICBJTUFHRSxcbiAgICAgICAgICAzMiAqIHRoaXMuZGlyZWN0aW9uLFxuICAgICAgICAgIDMyLFxuICAgICAgICAgIDMyLFxuICAgICAgICAgIDMyLFxuICAgICAgICAgIHRoaXMuY29vcmRpbmF0ZS54IC0gMTYsXG4gICAgICAgICAgdGhpcy5jb29yZGluYXRlLnkgLSAxNixcbiAgICAgICAgICAzMixcbiAgICAgICAgICAzMlxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgVEFOSy5TV0lGVF9UQU5LOlxuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShcbiAgICAgICAgICBJTUFHRSxcbiAgICAgICAgICAzMiAqICg0ICsgdGhpcy5kaXJlY3Rpb24pLFxuICAgICAgICAgIDMyLFxuICAgICAgICAgIDMyLFxuICAgICAgICAgIDMyLFxuICAgICAgICAgIHRoaXMuY29vcmRpbmF0ZS54IC0gMTYsXG4gICAgICAgICAgdGhpcy5jb29yZGluYXRlLnkgLSAxNixcbiAgICAgICAgICAzMixcbiAgICAgICAgICAzMlxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgVEFOSy5IRUFWWV9UQU5LOlxuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShcbiAgICAgICAgICBJTUFHRSxcbiAgICAgICAgICAzMiAqICg4ICsgdGhpcy5kaXJlY3Rpb24pLFxuICAgICAgICAgIDMyICogMixcbiAgICAgICAgICAzMixcbiAgICAgICAgICAzMixcbiAgICAgICAgICB0aGlzLmNvb3JkaW5hdGUueCAtIDE2LFxuICAgICAgICAgIHRoaXMuY29vcmRpbmF0ZS55IC0gMTYsXG4gICAgICAgICAgMzIsXG4gICAgICAgICAgMzJcbiAgICAgICAgKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHsgVGFuayB9O1xuIiwiaW1wb3J0IHsgQ29vcmRpbmF0ZSwgRW50aXR5IH0gZnJvbSBcIi4vbW9kZWxzL0dlbmVyYWxcIjtcbmltcG9ydCB7IGNvbnRleHQgfSBmcm9tIFwiLi9pbmRleFwiO1xuaW1wb3J0IHtcbiAgQlVJTERJTkdfSU1BR0UsXG4gIEJVSUxESU5HX1JBRElVUyxcbiAgQlVMTEVUX0lNQUdFLFxuICBCVUxMRVRfUkFESVVTLFxuICBFWFBMT1NJT04sXG4gIEVYUExPU0lPTl9JTUFHRSxcbiAgRVhQTE9TSU9OX1JBRElVUyxcbiAgSU1BR0UsXG4gIFRBTktfSU1BR0UsXG4gIFRBTktfUkFESVVTLFxufSBmcm9tIFwiLi9Db25zdGFudHNcIjtcbmltcG9ydCB7IFRhbmsgfSBmcm9tIFwiLi9tb2RlbHMvVGFua1wiO1xuaW1wb3J0IHsgQnVpbGRpbmcgfSBmcm9tIFwiLi9tb2RlbHMvQnVpbGRpbmdcIjtcbmltcG9ydCB7IEJ1bGxldCB9IGZyb20gXCIuL21vZGVscy9CdWxsZXRcIjtcblxuZnVuY3Rpb24gcmFuZG9tQ2hvb3NlRnJvbShhcnJheTogQXJyYXk8YW55Pikge1xuICByZXR1cm4gYXJyYXlbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYXJyYXkubGVuZ3RoKV07XG59XG5cbmZ1bmN0aW9uIHJhbmRvbURlY2lzaW9uTWFrZXIocHJvYmFiaWxpdHk6IG51bWJlcik6IGJvb2xlYW4ge1xuICByZXR1cm4gcHJvYmFiaWxpdHkgPiBNYXRoLnJhbmRvbSgpO1xufVxuXG5mdW5jdGlvbiByYW5kb21OdW1iZXIoc3RhcnQ6IG51bWJlciwgZW5kOiBudW1iZXIpOiBudW1iZXIge1xuICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGVuZCAtIHN0YXJ0KSkgKyBzdGFydDtcbn1cblxuZnVuY3Rpb24gZHJhd0VudGl0eShlbnRpdHk6IEVudGl0eSkge1xuICBsZXQgeCA9IGVudGl0eS5jb29yZGluYXRlLng7XG4gIGxldCB5ID0gZW50aXR5LmNvb3JkaW5hdGUueTtcbiAgbGV0IHJlY3Q6IGFueTtcbiAgbGV0IHdpZHRoID0gMTY7XG4gIGxldCBoZWlnaHQgPSAxNjtcbiAgaWYgKGVudGl0eSBpbnN0YW5jZW9mIFRhbmspIHtcbiAgICBpZiAoZW50aXR5Lm1vdmluZykgZW50aXR5LmltYWdlVHVybiA9ICFlbnRpdHkuaW1hZ2VUdXJuO1xuICAgIHJlY3QgPSBUQU5LX0lNQUdFW2VudGl0eS50eXBlXVtlbnRpdHkuZGlyZWN0aW9uXVtOdW1iZXIoZW50aXR5LmltYWdlVHVybildO1xuICAgIHdpZHRoID0gMiAqIFRBTktfUkFESVVTO1xuICAgIGhlaWdodCA9IDIgKiBUQU5LX1JBRElVUztcbiAgfSBlbHNlIGlmIChlbnRpdHkgaW5zdGFuY2VvZiBCdWlsZGluZykge1xuICAgIHJlY3QgPSBCVUlMRElOR19JTUFHRVtlbnRpdHkudHlwZV07XG4gICAgd2lkdGggPSAyICogQlVJTERJTkdfUkFESVVTO1xuICAgIGhlaWdodCA9IDIgKiBCVUlMRElOR19SQURJVVM7XG4gIH0gZWxzZSBpZiAoZW50aXR5IGluc3RhbmNlb2YgQnVsbGV0KSB7XG4gICAgcmVjdCA9IEJVTExFVF9JTUFHRVtlbnRpdHkuZGlyZWN0aW9uXTtcbiAgICB3aWR0aCA9IDIgKiBCVUxMRVRfUkFESVVTO1xuICAgIGhlaWdodCA9IDIgKiBCVUxMRVRfUkFESVVTO1xuICB9XG4gIGNvbnRleHQuZHJhd0ltYWdlKFxuICAgIElNQUdFLFxuICAgIHJlY3RbMF0sXG4gICAgcmVjdFsxXSxcbiAgICByZWN0WzJdLFxuICAgIHJlY3RbM10sXG4gICAgeCAtIHdpZHRoIC8gMixcbiAgICB5IC0gaGVpZ2h0IC8gMixcbiAgICB3aWR0aCxcbiAgICBoZWlnaHRcbiAgKTtcbn1cblxuZnVuY3Rpb24gZHJhd0V4cGxvc2lvbih0eXBlOiBFWFBMT1NJT04sIGNvb3JkaW5hdGU6IENvb3JkaW5hdGUpIHtcbiAgbGV0IHJlY3QgPSBFWFBMT1NJT05fSU1BR0VbdHlwZV07XG4gIGNvbnRleHQuZHJhd0ltYWdlKFxuICAgIElNQUdFLFxuICAgIHJlY3RbMF0sXG4gICAgcmVjdFsxXSxcbiAgICByZWN0WzJdLFxuICAgIHJlY3RbM10sXG4gICAgY29vcmRpbmF0ZS54IC0gRVhQTE9TSU9OX1JBRElVUyxcbiAgICBjb29yZGluYXRlLnkgLSBFWFBMT1NJT05fUkFESVVTLFxuICAgIEVYUExPU0lPTl9SQURJVVMgKiAyLFxuICAgIEVYUExPU0lPTl9SQURJVVMgKiAyXG4gICk7XG59XG5cbmV4cG9ydCB7IHJhbmRvbUNob29zZUZyb20sIGRyYXdFbnRpdHksIGRyYXdFeHBsb3Npb24gfTtcbiIsImltcG9ydCB7XG4gIEFVRElPLFxuICBCVUxMRVRfUkFESVVTLFxuICBESVJFQ1RJT04sXG4gIEVYUExPU0lPTixcbiAgSU1BR0UsXG4gIFRBTkssXG59IGZyb20gXCIuLi9Db25zdGFudHNcIjtcblxuaW1wb3J0IHsgY29udGV4dCwgR0FNRSB9IGZyb20gXCIuLi9pbmRleFwiO1xuXG5pbXBvcnQgeyBUYW5rIH0gZnJvbSBcIi4vVGFua1wiO1xuXG5pbXBvcnQgeyBDb29yZGluYXRlLCBFbnRpdHkgfSBmcm9tIFwiLi9HZW5lcmFsXCI7XG5pbXBvcnQgeyBkcmF3RW50aXR5IH0gZnJvbSBcIi4uL1V0aWxzXCI7XG5cbmNsYXNzIEJ1bGxldCBpbXBsZW1lbnRzIEVudGl0eSB7XG4gIGNhblRhbmtQYXNzOiBib29sZWFuO1xuICBjYW5CdWxsZXRQYXNzOiBib29sZWFuO1xuICBzaG9vdGVyOiBUYW5rO1xuICBkaXJlY3Rpb246IERJUkVDVElPTjtcbiAgY29vcmRpbmF0ZTogQ29vcmRpbmF0ZTtcbiAgZGFtYWdlOiBudW1iZXI7XG4gIGFsaXZlOiBib29sZWFuO1xuICBzcGVlZDogbnVtYmVyO1xuICByYWRpdXM6IG51bWJlcjtcbiAgdHlwZTogYW55O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGNvb3JkaW5hdGU6IENvb3JkaW5hdGUsXG4gICAgZGlyZWN0aW9uOiBESVJFQ1RJT04sXG4gICAgZGFtYWdlOiBudW1iZXIsXG4gICAgc3BlZWQ6IG51bWJlcixcbiAgICBzaG9vdGVyOiBUYW5rXG4gICkge1xuICAgIHRoaXMuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuICAgIHRoaXMuc2hvb3RlciA9IHNob290ZXI7XG4gICAgdGhpcy5jYW5CdWxsZXRQYXNzID0gZmFsc2U7XG4gICAgdGhpcy5jYW5UYW5rUGFzcyA9IGZhbHNlO1xuICAgIGxldCB4T2Zmc2V0ID0gMDtcbiAgICBsZXQgeU9mZnNldCA9IDA7XG4gICAgc3dpdGNoICh0aGlzLmRpcmVjdGlvbikge1xuICAgICAgY2FzZSBESVJFQ1RJT04uVVA6XG4gICAgICAgIHlPZmZzZXQgPSAtMjA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBESVJFQ1RJT04uRE9XTjpcbiAgICAgICAgeU9mZnNldCA9IDIwO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgRElSRUNUSU9OLkxFRlQ6XG4gICAgICAgIHhPZmZzZXQgPSAtMjA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBESVJFQ1RJT04uUklHSFQ6XG4gICAgICAgIHhPZmZzZXQgPSAyMDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgdGhpcy5jb29yZGluYXRlID0ge1xuICAgICAgeDogY29vcmRpbmF0ZS54ICsgeE9mZnNldCxcbiAgICAgIHk6IGNvb3JkaW5hdGUueSArIHlPZmZzZXQsXG4gICAgfTtcbiAgICB0aGlzLmRhbWFnZSA9IGRhbWFnZTtcbiAgICB0aGlzLmFsaXZlID0gdHJ1ZTtcbiAgICB0aGlzLnNwZWVkID0gc3BlZWQ7XG4gICAgdGhpcy5yYWRpdXMgPSBCVUxMRVRfUkFESVVTO1xuICB9XG5cbiAgbW92ZSgpIHtcbiAgICBpZiAodGhpcy5hbGl2ZSkge1xuICAgICAgc3dpdGNoICh0aGlzLmRpcmVjdGlvbikge1xuICAgICAgICBjYXNlIERJUkVDVElPTi5VUDpcbiAgICAgICAgICBpZiAodGhpcy5jb29yZGluYXRlLnkgLSB0aGlzLnNwZWVkIDw9IDApIHtcbiAgICAgICAgICAgIHRoaXMuY29vcmRpbmF0ZS55ID0gMDtcbiAgICAgICAgICAgIHRoaXMuZXhwbG9zaW9uKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tBbGxPYnN0YWNsZXMoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5jb29yZGluYXRlLnkgLT0gdGhpcy5zcGVlZDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBESVJFQ1RJT04uRE9XTjpcbiAgICAgICAgICBpZiAodGhpcy5jb29yZGluYXRlLnkgKyB0aGlzLnNwZWVkID49IGNvbnRleHQuY2FudmFzLmhlaWdodCkge1xuICAgICAgICAgICAgdGhpcy5jb29yZGluYXRlLnkgPSBjb250ZXh0LmNhbnZhcy5oZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLmV4cGxvc2lvbigpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrQWxsT2JzdGFjbGVzKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuY29vcmRpbmF0ZS55ICs9IHRoaXMuc3BlZWQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgRElSRUNUSU9OLkxFRlQ6XG4gICAgICAgICAgaWYgKHRoaXMuY29vcmRpbmF0ZS54IC0gdGhpcy5zcGVlZCA8PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmNvb3JkaW5hdGUueCA9IDA7XG4gICAgICAgICAgICB0aGlzLmV4cGxvc2lvbigpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrQWxsT2JzdGFjbGVzKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuY29vcmRpbmF0ZS54IC09IHRoaXMuc3BlZWQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgRElSRUNUSU9OLlJJR0hUOlxuICAgICAgICAgIGlmICh0aGlzLmNvb3JkaW5hdGUueCArIHRoaXMuc3BlZWQgPj0gY29udGV4dC5jYW52YXMud2lkdGgpIHtcbiAgICAgICAgICAgIHRoaXMuY29vcmRpbmF0ZS54ID0gY29udGV4dC5jYW52YXMud2lkdGg7XG4gICAgICAgICAgICB0aGlzLmV4cGxvc2lvbigpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrQWxsT2JzdGFjbGVzKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuY29vcmRpbmF0ZS54ICs9IHRoaXMuc3BlZWQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIlVuZXhwZWN0ZWQgZGlyZWN0aW9uXCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGV4cGxvc2lvbigpIHtcbiAgICB0aGlzLmFsaXZlID0gZmFsc2U7XG4gICAgR0FNRS5leHBsb3Npb25zLnB1c2goe1xuICAgICAgY29vcmRpbmF0ZTogdGhpcy5jb29yZGluYXRlLFxuICAgICAgdHlwZTogRVhQTE9TSU9OLkJVTExFVF9FWFBMT1NJT04sXG4gICAgfSk7XG4gIH1cblxuICBjaGVja0FsbE9ic3RhY2xlcygpIHtcbiAgICBsZXQgb2JzdGFjbGVzOiBFbnRpdHlbXSA9IEdBTUUudGFua3M7XG4gICAgb2JzdGFjbGVzID0gb2JzdGFjbGVzLmNvbmNhdChHQU1FLmJ1aWxkaW5ncyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYnN0YWNsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChvYnN0YWNsZXNbaV0uY2FuQnVsbGV0UGFzcyB8fCBvYnN0YWNsZXNbaV0gPT0gdGhpcy5zaG9vdGVyKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICBCdWxsZXQuaXNIaXQoXG4gICAgICAgICAgdGhpcy5jb29yZGluYXRlLFxuICAgICAgICAgIG9ic3RhY2xlc1tpXS5jb29yZGluYXRlLFxuICAgICAgICAgIG9ic3RhY2xlc1tpXS5yYWRpdXNcbiAgICAgICAgKVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuZXhwbG9zaW9uKCk7XG4gICAgICAgIG9ic3RhY2xlc1tpXS5iZUF0dGFja2VkKHRoaXMsIHRoaXMuc2hvb3Rlcik7XG4gICAgICAgIGlmIChvYnN0YWNsZXNbaV0gaW5zdGFuY2VvZiBUYW5rKSB7XG4gICAgICAgICAgaWYgKHRoaXMuc2hvb3Rlci50eXBlID09IFRBTksuUExBWUVSX1RBTkspIHtcbiAgICAgICAgICAgIEFVRElPLmhpdC5wbGF5KCkudGhlbigoKSA9PiB7fSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChvYnN0YWNsZXNbaV0udHlwZSA9PSBUQU5LLlBMQVlFUl9UQU5LKSB7XG4gICAgICAgICAgICBBVURJTy5iZV9oaXQucGxheSgpLnRoZW4oKCkgPT4ge30pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBkcmF3KCkge1xuICAgIGRyYXdFbnRpdHkodGhpcyk7XG4gIH1cblxuICBiZUF0dGFja2VkKHBhcmFtOiBCdWxsZXQsIGF0dGFja2VyOiBFbnRpdHkpOiB2b2lkIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgfVxuXG4gIHN0YXRpYyBpc0hpdChcbiAgICBidWxsZXRDb29yZGluYXRlOiBDb29yZGluYXRlLFxuICAgIHRhcmdldENvb3JkaW5hdGU6IENvb3JkaW5hdGUsXG4gICAgdGFyZ2V0UmFkaXVzOiBudW1iZXJcbiAgKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIGJ1bGxldENvb3JkaW5hdGUueCA+PSB0YXJnZXRDb29yZGluYXRlLnggLSB0YXJnZXRSYWRpdXMgJiZcbiAgICAgIGJ1bGxldENvb3JkaW5hdGUueCA8PSB0YXJnZXRDb29yZGluYXRlLnggKyB0YXJnZXRSYWRpdXMgJiZcbiAgICAgIGJ1bGxldENvb3JkaW5hdGUueSA+PSB0YXJnZXRDb29yZGluYXRlLnkgLSB0YXJnZXRSYWRpdXMgJiZcbiAgICAgIGJ1bGxldENvb3JkaW5hdGUueSA8PSB0YXJnZXRDb29yZGluYXRlLnkgKyB0YXJnZXRSYWRpdXNcbiAgICApO1xuICB9XG5cbiAgbGV2ZWxVcCgpOiB2b2lkIHt9XG59XG5cbmV4cG9ydCB7IEJ1bGxldCB9O1xuIiwiaW1wb3J0IHsgQlVJTERJTkcsIEJVSUxESU5HX1JBRElVUywgSU1BR0UgfSBmcm9tIFwiLi4vQ29uc3RhbnRzXCI7XG5cbmltcG9ydCB7IGNvbnRleHQgfSBmcm9tIFwiLi4vaW5kZXhcIjtcblxuaW1wb3J0IHsgQ29vcmRpbmF0ZSwgRW50aXR5IH0gZnJvbSBcIi4vR2VuZXJhbFwiO1xuXG5pbXBvcnQgeyBCdWxsZXQgfSBmcm9tIFwiLi9CdWxsZXRcIjtcblxuY2xhc3MgQnVpbGRpbmcgaW1wbGVtZW50cyBFbnRpdHkge1xuICBjb29yZGluYXRlOiBDb29yZGluYXRlO1xuICBhbGl2ZTogYm9vbGVhbjtcbiAgcmFkaXVzOiBudW1iZXI7XG4gIHR5cGU6IEJVSUxESU5HO1xuICBkZXN0cm95TGltaXQ6IG51bWJlcjtcbiAgY2FuVGFua1Bhc3M6IGJvb2xlYW47XG4gIGNhbkJ1bGxldFBhc3M6IGJvb2xlYW47XG5cbiAgY29uc3RydWN0b3IoY29vcmRpbmF0ZTogQ29vcmRpbmF0ZSwgdHlwZTogQlVJTERJTkcpIHtcbiAgICB0aGlzLmNvb3JkaW5hdGUgPSBjb29yZGluYXRlO1xuICAgIHRoaXMuYWxpdmUgPSB0cnVlO1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgdGhpcy5yYWRpdXMgPSBCVUlMRElOR19SQURJVVM7XG4gICAgc3dpdGNoICh0aGlzLnR5cGUpIHtcbiAgICAgIGNhc2UgQlVJTERJTkcuQlJJQ0s6XG4gICAgICAgIHRoaXMuZGVzdHJveUxpbWl0ID0gMTA7XG4gICAgICAgIHRoaXMuY2FuVGFua1Bhc3MgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jYW5CdWxsZXRQYXNzID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBCVUlMRElORy5TVEVFTDpcbiAgICAgICAgdGhpcy5kZXN0cm95TGltaXQgPSAyMDtcbiAgICAgICAgdGhpcy5jYW5UYW5rUGFzcyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNhbkJ1bGxldFBhc3MgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEJVSUxESU5HLkpVTkdMRTpcbiAgICAgICAgdGhpcy5kZXN0cm95TGltaXQgPSAxMDA7XG4gICAgICAgIHRoaXMuY2FuVGFua1Bhc3MgPSB0cnVlO1xuICAgICAgICB0aGlzLmNhbkJ1bGxldFBhc3MgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQlVJTERJTkcuV0FURVI6XG4gICAgICAgIHRoaXMuZGVzdHJveUxpbWl0ID0gMTAwO1xuICAgICAgICB0aGlzLmNhblRhbmtQYXNzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY2FuQnVsbGV0UGFzcyA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhpcy5kZXN0cm95TGltaXQgPSAxMDA7XG4gICAgICAgIHRoaXMuY2FuVGFua1Bhc3MgPSB0cnVlO1xuICAgICAgICB0aGlzLmNhbkJ1bGxldFBhc3MgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBiZUF0dGFja2VkKGJ1bGxldDogQnVsbGV0LCBhdHRhY2tlcjogRW50aXR5KSB7XG4gICAgaWYgKGJ1bGxldC5kYW1hZ2UgPj0gdGhpcy5kZXN0cm95TGltaXQpIHtcbiAgICAgIHRoaXMuYWxpdmUgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBkcmF3KCkge1xuICAgIGlmICh0aGlzLmFsaXZlKSB7XG4gICAgICBjb250ZXh0LmRyYXdJbWFnZShcbiAgICAgICAgSU1BR0UsXG4gICAgICAgIDE2ICogdGhpcy50eXBlLFxuICAgICAgICA5NixcbiAgICAgICAgMTYsXG4gICAgICAgIDE2LFxuICAgICAgICB0aGlzLmNvb3JkaW5hdGUueCAtIDgsXG4gICAgICAgIHRoaXMuY29vcmRpbmF0ZS55IC0gOCxcbiAgICAgICAgMTYsXG4gICAgICAgIDE2XG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGxldmVsVXAoKTogdm9pZCB7fVxufVxuXG5leHBvcnQgeyBCdWlsZGluZyB9O1xuIiwiaW1wb3J0IHsgVGFuayB9IGZyb20gXCIuL21vZGVscy9UYW5rXCI7XG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi9tb2RlbHMvR2VuZXJhbFwiO1xuaW1wb3J0IHsgQUNUSU9OLCBBQ1RJT05TLCBESVJFQ1RJT04gfSBmcm9tIFwiLi9Db25zdGFudHNcIjtcbmltcG9ydCB7IHJhbmRvbUNob29zZUZyb20gfSBmcm9tIFwiLi9VdGlsc1wiO1xuXG5mdW5jdGlvbiBBSShhZ2VudDogVGFuaywgdGFyZ2V0OiBFbnRpdHkpIHtcbiAgc3dpdGNoIChhZ2VudC5hY3Rpb25MaXN0LnBvcCgpKSB7XG4gICAgY2FzZSBBQ1RJT04uTU9WRV9VUDpcbiAgICAgIGFnZW50Lm1vdmluZyA9IHRydWU7XG4gICAgICBhZ2VudC5kaXJlY3Rpb24gPSBESVJFQ1RJT04uVVA7XG4gICAgICBicmVhaztcbiAgICBjYXNlIEFDVElPTi5NT1ZFX0RPV046XG4gICAgICBhZ2VudC5tb3ZpbmcgPSB0cnVlO1xuICAgICAgYWdlbnQuZGlyZWN0aW9uID0gRElSRUNUSU9OLkRPV047XG4gICAgICBicmVhaztcbiAgICBjYXNlIEFDVElPTi5NT1ZFX0xFRlQ6XG4gICAgICBhZ2VudC5tb3ZpbmcgPSB0cnVlO1xuICAgICAgYWdlbnQuZGlyZWN0aW9uID0gRElSRUNUSU9OLkxFRlQ7XG4gICAgICBicmVhaztcbiAgICBjYXNlIEFDVElPTi5NT1ZFX1JJR0hUOlxuICAgICAgYWdlbnQubW92aW5nID0gdHJ1ZTtcbiAgICAgIGFnZW50LmRpcmVjdGlvbiA9IERJUkVDVElPTi5SSUdIVDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQUNUSU9OLlNUQVk6XG4gICAgICBhZ2VudC5tb3ZpbmcgPSBmYWxzZTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQUNUSU9OLlNIT09UOlxuICAgICAgYWdlbnQuc2hvb3QoKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQUNUSU9OLkRPX05PVEhJTkc6XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgYWdlbnQubW92aW5nID0gdHJ1ZTtcbiAgICAgIGNvbnN0IHJhbmRvbSA9IE1hdGgucmFuZG9tKCk7XG4gICAgICBpZiAocmFuZG9tIDwgMC41KSB7XG4gICAgICAgIGFnZW50LmFjdGlvbkxpc3QucHVzaChyYW5kb21DaG9vc2VGcm9tKEFDVElPTlMpKTtcbiAgICAgICAgYWdlbnQuYWN0aW9uTGlzdC5jb25jYXQoW1xuICAgICAgICAgIEFDVElPTi5TSE9PVCxcbiAgICAgICAgICBBQ1RJT04uU0hPT1QsXG4gICAgICAgICAgQUNUSU9OLlNIT09ULFxuICAgICAgICAgIEFDVElPTi5TSE9PVCxcbiAgICAgICAgXSk7XG4gICAgICB9IGVsc2UgaWYgKHJhbmRvbSA8IDAuOCkge1xuICAgICAgICBpZiAoTWF0aC5mbG9vcihyYW5kb20gKiAxMDApICUgMiA9PT0gMCkge1xuICAgICAgICAgIGlmIChhZ2VudC5jb29yZGluYXRlLnggPCB0YXJnZXQuY29vcmRpbmF0ZS54KSB7XG4gICAgICAgICAgICBhZ2VudC5hY3Rpb25MaXN0LnB1c2goQUNUSU9OLk1PVkVfUklHSFQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhZ2VudC5hY3Rpb25MaXN0LnB1c2goQUNUSU9OLk1PVkVfTEVGVCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChhZ2VudC5jb29yZGluYXRlLnkgPCB0YXJnZXQuY29vcmRpbmF0ZS55KSB7XG4gICAgICAgICAgICBhZ2VudC5hY3Rpb25MaXN0LnB1c2goQUNUSU9OLk1PVkVfRE9XTik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFnZW50LmFjdGlvbkxpc3QucHVzaChBQ1RJT04uTU9WRV9VUCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHJhbmRvbSA8IDAuOCkge1xuICAgICAgICBhZ2VudC5hY3Rpb25MaXN0LmNvbmNhdChbXG4gICAgICAgICAgQUNUSU9OLk1PVkVfVVAsXG4gICAgICAgICAgQUNUSU9OLkRPX05PVEhJTkcsXG4gICAgICAgICAgQUNUSU9OLlNIT09ULFxuICAgICAgICAgIEFDVElPTi5NT1ZFX0xFRlQsXG4gICAgICAgICAgQUNUSU9OLkRPX05PVEhJTkcsXG4gICAgICAgICAgQUNUSU9OLlNIT09ULFxuICAgICAgICAgIEFDVElPTi5NT1ZFX0RPV04sXG4gICAgICAgICAgQUNUSU9OLkRPX05PVEhJTkcsXG4gICAgICAgICAgQUNUSU9OLlNIT09ULFxuICAgICAgICAgIEFDVElPTi5NT1ZFX1JJR0hULFxuICAgICAgICAgIEFDVElPTi5ET19OT1RISU5HLFxuICAgICAgICAgIEFDVElPTi5TSE9PVCxcbiAgICAgICAgXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhZ2VudC5hY3Rpb25MaXN0LnB1c2goQUNUSU9OLlNIT09UKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICB9XG59XG5cbmV4cG9ydCB7IEFJIH07XG4iLCJpbXBvcnQgeyBCVUlMRElORyB9IGZyb20gXCIuL0NvbnN0YW50c1wiO1xuaW1wb3J0IHsgQnVpbGRpbmcgfSBmcm9tIFwiLi9tb2RlbHMvQnVpbGRpbmdcIjtcbmltcG9ydCB7IGNvbnRleHQsIEdBTUUgfSBmcm9tIFwiLi9pbmRleFwiO1xuaW1wb3J0IHsgQ29vcmRpbmF0ZSB9IGZyb20gXCIuL21vZGVscy9HZW5lcmFsXCI7XG5cbmNvbnN0IG1hcDogQlVJTERJTkdbXVtdID0gW107XG5sZXQgcm93TnVtOiBudW1iZXI7XG5sZXQgY29sTnVtOiBudW1iZXI7XG5cbmZ1bmN0aW9uIGJ1aWxkaW5nc0dlbmVyYXRvcigpIHtcbiAgcm93TnVtID0gTWF0aC5mbG9vcihjb250ZXh0LmNhbnZhcy53aWR0aCAvIDE2KTtcbiAgY29sTnVtID0gTWF0aC5mbG9vcihjb250ZXh0LmNhbnZhcy5oZWlnaHQgLyAxNik7XG4gIC8vIGluaXRpYWxpemUgbWFwXG4gIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IHJvd051bTsgcm93KyspIHtcbiAgICBsZXQgdGVtcCA9IFtdO1xuICAgIGZvciAobGV0IGNvbCA9IDA7IGNvbCA8IGNvbE51bTsgY29sKyspIHtcbiAgICAgIHRlbXAucHVzaChCVUlMRElORy5OT05FKTtcbiAgICB9XG4gICAgbWFwLnB1c2godGVtcCk7XG4gIH1cbiAgbGV0IGkgPSAxMDtcbiAgbGV0IGogPSBpIC0gNDtcbiAgZ2VuZXJhdGVCbG9jayhcbiAgICBCVUlMRElORy5CUklDSyxcbiAgICB7IHg6IGksIHk6IGkgfSxcbiAgICB7IHg6IHJvd051bSAtIGksIHk6IGNvbE51bSAtIGkgfVxuICApO1xuICBnZW5lcmF0ZUJsb2NrKFxuICAgIEJVSUxESU5HLkJSSUNLLFxuICAgIHsgeDogaiwgeTogaiB9LFxuICAgIHsgeDogcm93TnVtIC0gaiwgeTogY29sTnVtIC0gaiB9XG4gICk7XG4gIGdlbmVyYXRlTGluZShcbiAgICBCVUlMRElORy5CUklDSyxcbiAgICB7IHg6IGksIHk6IGkgfSxcbiAgICB7IHg6IHJvd051bSAtIGksIHk6IGNvbE51bSAtIGkgfVxuICApO1xuICBnZW5lcmF0ZUxpbmUoXG4gICAgQlVJTERJTkcuU1RFRUwsXG4gICAgeyB4OiBpLCB5OiBjb2xOdW0gLSBpIH0sXG4gICAgeyB4OiByb3dOdW0gLSBpLCB5OiBpIH1cbiAgKTtcbiAgLy8gZmlsbCBtYXAgd2l0aCBnZW5lcmF0ZWQgYnVpbGRpbmdzXG4gIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IHJvd051bTsgcm93KyspIHtcbiAgICBmb3IgKGxldCBjb2wgPSAwOyBjb2wgPCBjb2xOdW07IGNvbCsrKSB7XG4gICAgICBsZXQgY3VycmVudEJ1aWxkaW5nID0gbWFwW3Jvd11bY29sXTtcbiAgICAgIGlmIChjdXJyZW50QnVpbGRpbmcgIT0gQlVJTERJTkcuTk9ORSkge1xuICAgICAgICBHQU1FLmJ1aWxkaW5ncy5wdXNoKFxuICAgICAgICAgIG5ldyBCdWlsZGluZyhcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgeDogcm93ICogMTYsXG4gICAgICAgICAgICAgIHk6IGNvbCAqIDE2LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGN1cnJlbnRCdWlsZGluZ1xuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVCbG9jayhcbiAgYnVpbGRpbmdUeXBlOiBCVUlMRElORyxcbiAgc3RhcnRQb2ludDogQ29vcmRpbmF0ZSxcbiAgZW5kUG9pbnQ6IENvb3JkaW5hdGVcbikge1xuICBsZXQgdXBSaWdodDogQ29vcmRpbmF0ZSA9IHsgeDogZW5kUG9pbnQueCwgeTogc3RhcnRQb2ludC55IH07XG4gIGxldCBib3R0b21MZWZ0OiBDb29yZGluYXRlID0geyB4OiBzdGFydFBvaW50LngsIHk6IGVuZFBvaW50LnkgfTtcbiAgZ2VuZXJhdGVMaW5lKGJ1aWxkaW5nVHlwZSwgc3RhcnRQb2ludCwgdXBSaWdodCk7XG4gIGdlbmVyYXRlTGluZShidWlsZGluZ1R5cGUsIHN0YXJ0UG9pbnQsIGJvdHRvbUxlZnQpO1xuICBnZW5lcmF0ZUxpbmUoYnVpbGRpbmdUeXBlLCBib3R0b21MZWZ0LCBlbmRQb2ludCk7XG4gIGdlbmVyYXRlTGluZShidWlsZGluZ1R5cGUsIHVwUmlnaHQsIGVuZFBvaW50KTtcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVMaW5lKFxuICBidWlsZGluZ1R5cGU6IEJVSUxESU5HLFxuICBzdGFydFBvaW50OiBDb29yZGluYXRlLFxuICBlbmRQb2ludDogQ29vcmRpbmF0ZVxuKSB7XG4gIGlmIChcbiAgICBNYXRoLmFicyhzdGFydFBvaW50LnggLSBlbmRQb2ludC54KSA+IE1hdGguYWJzKHN0YXJ0UG9pbnQueSAtIGVuZFBvaW50LnkpXG4gICkge1xuICAgIGlmIChzdGFydFBvaW50LnggPiBlbmRQb2ludC54KSB7XG4gICAgICBsZXQgdGVtcCA9IGVuZFBvaW50O1xuICAgICAgZW5kUG9pbnQgPSBzdGFydFBvaW50O1xuICAgICAgc3RhcnRQb2ludCA9IHRlbXA7XG4gICAgfVxuICAgIGZvciAobGV0IHN0YXJ0WCA9IHN0YXJ0UG9pbnQueDsgc3RhcnRYIDw9IGVuZFBvaW50Lng7IHN0YXJ0WCsrKSB7XG4gICAgICBsZXQgeCA9IHNhZmVYKHN0YXJ0WCk7XG4gICAgICBsZXQgeSA9XG4gICAgICAgIHN0YXJ0UG9pbnQueSArXG4gICAgICAgIChlbmRQb2ludC55IC0gc3RhcnRQb2ludC55KSAqXG4gICAgICAgICAgKChzdGFydFggLSBzdGFydFBvaW50LngpIC8gKGVuZFBvaW50LnggLSBzdGFydFBvaW50LngpKTtcbiAgICAgIHkgPSBzYWZlWSh5KTtcbiAgICAgIG1hcFt4XVt5XSA9IGJ1aWxkaW5nVHlwZTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKHN0YXJ0UG9pbnQueSA+IGVuZFBvaW50LnkpIHtcbiAgICAgIGxldCB0ZW1wID0gZW5kUG9pbnQ7XG4gICAgICBlbmRQb2ludCA9IHN0YXJ0UG9pbnQ7XG4gICAgICBzdGFydFBvaW50ID0gdGVtcDtcbiAgICB9XG4gICAgZm9yIChsZXQgc3RhcnRZID0gc3RhcnRQb2ludC55OyBzdGFydFkgPD0gZW5kUG9pbnQueTsgc3RhcnRZKyspIHtcbiAgICAgIGxldCB5ID0gc2FmZVkoc3RhcnRZKTtcbiAgICAgIGxldCB4ID1cbiAgICAgICAgc3RhcnRQb2ludC54ICtcbiAgICAgICAgKGVuZFBvaW50LnggLSBzdGFydFBvaW50LngpICpcbiAgICAgICAgICAoKHN0YXJ0WSAtIHN0YXJ0UG9pbnQueSkgLyAoZW5kUG9pbnQueSAtIHN0YXJ0UG9pbnQueSkpO1xuICAgICAgeCA9IHNhZmVYKHgpO1xuICAgICAgbWFwW3hdW3ldID0gYnVpbGRpbmdUeXBlO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBzYWZlWCh4OiBudW1iZXIpOiBudW1iZXIge1xuICB4ID0gTWF0aC5mbG9vcih4KTtcbiAgaWYgKHggPCAwKSByZXR1cm4gMDtcbiAgaWYgKHggPj0gcm93TnVtKSByZXR1cm4gcm93TnVtIC0gMTtcbiAgcmV0dXJuIHg7XG59XG5cbmZ1bmN0aW9uIHNhZmVZKHk6IG51bWJlcik6IG51bWJlciB7XG4gIHkgPSBNYXRoLmZsb29yKHkpO1xuICBpZiAoeSA8IDApIHJldHVybiAwO1xuICBpZiAoeSA+PSBjb2xOdW0pIHJldHVybiBjb2xOdW0gLSAxO1xuICByZXR1cm4geTtcbn1cblxuZXhwb3J0IHsgYnVpbGRpbmdzR2VuZXJhdG9yIH07XG4iXSwic291cmNlUm9vdCI6IiJ9