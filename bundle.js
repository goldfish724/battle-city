var Game=function(t){var e={};function i(a){if(e[a])return e[a].exports;var s=e[a]={i:a,l:!1,exports:{}};return t[a].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(a,s,function(e){return t[e]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXT=e.GAME=e.main=void 0;var a,s=i(1),o=i(2),n=0;e.CONTEXT=a;var r={tanks:[],bullets:[],explosions:[],buildings:[]};function c(t,e){switch(t.actionList.pop()){case s.ACTION.MOVE_UP:t.moving=!0,t.direction=s.DIRECTION.UP;break;case s.ACTION.MOVE_DOWN:t.moving=!0,t.direction=s.DIRECTION.DOWN;break;case s.ACTION.MOVE_LEFT:t.moving=!0,t.direction=s.DIRECTION.LEFT;break;case s.ACTION.MOVE_RIGHT:t.moving=!0,t.direction=s.DIRECTION.RIGHT;break;case s.ACTION.STAY:t.moving=!1;break;case s.ACTION.SHOOT:t.shoot();break;case s.ACTION.DO_NOTHING:break;default:t.moving=!0;var i=Math.random();i<.5?(t.actionList.push(O(s.ACTIONS)),t.actionList.concat([s.ACTION.SHOOT,s.ACTION.SHOOT,s.ACTION.SHOOT,s.ACTION.SHOOT])):i<.8?Math.floor(100*i)%2==0?t.coordinate.x<e.coordinate.x?t.actionList.push(s.ACTION.MOVE_RIGHT):t.actionList.push(s.ACTION.MOVE_LEFT):t.coordinate.y<e.coordinate.y?t.actionList.push(s.ACTION.MOVE_DOWN):t.actionList.push(s.ACTION.MOVE_UP):i<.8?t.actionList.concat([s.ACTION.MOVE_UP,s.ACTION.DO_NOTHING,s.ACTION.SHOOT,s.ACTION.MOVE_LEFT,s.ACTION.DO_NOTHING,s.ACTION.SHOOT,s.ACTION.MOVE_DOWN,s.ACTION.DO_NOTHING,s.ACTION.SHOOT,s.ACTION.MOVE_RIGHT,s.ACTION.DO_NOTHING,s.ACTION.SHOOT]):t.actionList.push(s.ACTION.SHOOT)}}e.GAME=r,e.main=function(){e.CONTEXT=a=s.CANVAS.getContext("2d"),a.canvas.width=window.innerWidth,a.canvas.height=window.innerHeight,function(){for(var t=Math.floor(a.canvas.width/16),e=Math.floor(a.canvas.height/16),i=0;i<15+Math.floor(10*Math.random());i++){var n=O(s.BUILDINGS),c=Math.floor(Math.random()*t),h=Math.floor(Math.random()*e),d=2,T=2;Math.floor(10*Math.random())%2==0?d=Math.floor(Math.random()*(t-c)):T=Math.floor(Math.random()*(e-h));for(var l=c;l<c+d;l++)for(var N=h;N<h+T;N++)r.buildings.push(new o.Building({x:16*l,y:16*N},n))}}();var t=new o.Tank({x:a.canvas.width/2,y:a.canvas.height},s.DIRECTION.UP,s.TANK.PLAYER_TANK);r.tanks.push(t),s.AUDIO.start.play(),function t(){!function(){0===n&&Math.random()>.7&&r.tanks.push(new o.Tank({x:Math.random()*a.canvas.width,y:0},s.DIRECTION.DOWN,O(s.ENEMY_TANKS)));n+=1,n%=60,function(){for(var t=0;t<r.bullets.length;t++)r.bullets[t].alive||r.bullets.splice(t,1);for(t=0;t<r.bullets.length;t++)r.bullets[t].move()}(),function(){for(var t=0;t<r.buildings.length;t++)r.buildings[t].alive||r.buildings.splice(t,1)}(),function(){for(var t=0;t<r.tanks.length;t++)r.tanks[t].alive||(r.explosions.push({coordinate:r.tanks[t].coordinate,type:s.EXPLOSION.TANK_EXPLOSION}),r.tanks.splice(t,1));r.tanks[0].move(),r.tanks[0].lastShootCount+=1;for(t=1;t<r.tanks.length;t++)r.tanks[t].move(),r.tanks[t].lastShootCount+=1;if(n%5==0)for(t=1;t<r.tanks.length;t++){var e=r.tanks[0];c(r.tanks[t],e)}}()}(),function(){a.clearRect(0,0,a.canvas.width,a.canvas.height);var t=r.tanks;t=(t=t.concat(r.bullets)).concat(r.buildings);for(var e=0;e<t.length;e++)t[e].draw();for(e=0;e<r.explosions.length;e++){var i=r.explosions[e];i.type===s.EXPLOSION.TANK_EXPLOSION?a.drawImage(s.IMAGE,320,0,32,32,i.coordinate.x-16,i.coordinate.y-16,32,32):i.type===s.EXPLOSION.BULLET_EXPLOSION&&a.drawImage(s.IMAGE,352,0,32,32,i.coordinate.x-16,i.coordinate.y-16,32,32)}r.explosions=[]}(),requestAnimationFrame(t)}()};var h=!1,d=!1,T=!1,l=!1;function O(t){return t[Math.floor(Math.random()*t.length)]}document.onkeydown=function(t){try{switch(t.code){case"KeyA":h=!0,r.tanks[0].moving=!0,r.tanks[0].direction=s.DIRECTION.LEFT;break;case"KeyD":d=!0,r.tanks[0].moving=!0,r.tanks[0].direction=s.DIRECTION.RIGHT;break;case"KeyW":T=!0,r.tanks[0].moving=!0,r.tanks[0].direction=s.DIRECTION.UP;break;case"KeyS":l=!0,r.tanks[0].moving=!0,r.tanks[0].direction=s.DIRECTION.DOWN;break;case"Space":r.tanks[0].shoot();break;case"F11":case"KeyR":location.reload();break;case"KeyB":r.tanks[0]=new o.Tank({x:a.canvas.width/2,y:a.canvas.height},s.DIRECTION.UP,s.TANK.PLAYER_TANK)}}catch(t){console.log(t.toString())}},document.onkeyup=function(t){switch(t.code){case"KeyA":h=!1;break;case"KeyD":d=!1;break;case"KeyW":T=!1;break;case"KeyS":l=!1;break;case"KeyC":r.buildings=[]}l||T||d||h||(r.tanks[0].moving=!1)}},function(t,e,i){"use strict";var a;Object.defineProperty(e,"__esModule",{value:!0}),e.IMAGE=e.CANVAS=e.AUDIO=e.ACTIONS=e.ACTION=e.BUILDINGS=e.BUILDING=e.EXPLOSION=e.DIRECTION=e.ENEMY_TANKS=e.TANK=void 0,function(t){t[t.PLAYER_TANK=0]="PLAYER_TANK",t[t.NORMAL_TANK=1]="NORMAL_TANK",t[t.SWIFT_TANK=2]="SWIFT_TANK",t[t.HEAVY_TANK=3]="HEAVY_TANK"}(a||(a={})),e.TANK=a;var s,o,n,r=[a.NORMAL_TANK,a.SWIFT_TANK,a.HEAVY_TANK];e.ENEMY_TANKS=r,function(t){t[t.UP=0]="UP",t[t.DOWN=1]="DOWN",t[t.LEFT=2]="LEFT",t[t.RIGHT=3]="RIGHT"}(s||(s={})),e.DIRECTION=s,function(t){t[t.TANK_EXPLOSION=0]="TANK_EXPLOSION",t[t.BULLET_EXPLOSION=1]="BULLET_EXPLOSION"}(o||(o={})),e.EXPLOSION=o,function(t){t[t.BRICK=0]="BRICK",t[t.CEMENT=1]="CEMENT",t[t.TREE=2]="TREE",t[t.WATER=3]="WATER",t[t.ROAD=4]="ROAD"}(n||(n={})),e.BUILDING=n;var c,h=[n.BRICK,n.CEMENT,n.TREE,n.WATER];e.BUILDINGS=h,function(t){t[t.MOVE_UP=0]="MOVE_UP",t[t.MOVE_DOWN=1]="MOVE_DOWN",t[t.MOVE_LEFT=2]="MOVE_LEFT",t[t.MOVE_RIGHT=3]="MOVE_RIGHT",t[t.STAY=4]="STAY",t[t.SHOOT=5]="SHOOT",t[t.DO_NOTHING=6]="DO_NOTHING"}(c||(c={})),e.ACTION=c;var d=[c.MOVE_UP,c.MOVE_DOWN,c.MOVE_LEFT,c.MOVE_RIGHT,c.STAY,c.SHOOT,c.DO_NOTHING];e.ACTIONS=d;var T=new function(){this.start=document.getElementById("start"),this.collect=document.getElementById("collect"),this.shoot=document.getElementById("shoot"),this.explosion=document.getElementById("explosion"),this.pause=document.getElementById("pause"),this.pick=document.getElementById("pick"),this.level_up=document.getElementById("level_up")};e.AUDIO=T;var l=document.getElementById("canvas");e.CANVAS=l;var O=document.getElementById("sprites");e.IMAGE=O},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Building=e.Coordinate=e.Bullet=e.Tank=void 0;var a=i(1),s=i(0),o=function(t,e){this.x=t,this.y=e};e.Coordinate=o;var n=function(){function t(t,e,i){switch(this.coordinate=t,this.direction=e,this.lastShootCount=0,this.type=i,this.radius=16,this.shootInterval=60,this.alive=!0,this.moving=!0,this.canTankPass=!1,this.canBulletPass=!1,this.actionList=[],this.bullet={damage:5,speed:10},this.blood=10,this.armor=.5,this.speed=2.5,this.attackInterval=40,this.type){case a.TANK.PLAYER_TANK:this.blood=10,this.armor=.6,this.speed=3,this.attackInterval=20,this.bullet.damage=5,this.bullet.speed=15;break;case a.TANK.NORMAL_TANK:this.blood=10,this.armor=.5,this.speed=2.5,this.attackInterval=40,this.bullet.damage=4,this.bullet.speed=10;break;case a.TANK.SWIFT_TANK:this.blood=5,this.armor=.3,this.speed=3.5,this.attackInterval=20,this.bullet.damage=3,this.bullet.speed=20;break;case a.TANK.HEAVY_TANK:this.blood=20,this.armor=.7,this.speed=1,this.attackInterval=60,this.bullet.damage=7,this.bullet.speed=7;break;default:console.error("Unexpected tank type: "+this.type)}}return t.prototype.beAttacked=function(t){this.blood-=t.damage*this.armor,this.blood<=0&&(this.blood=0,this.alive=!1,a.AUDIO.explosion.play())},t.prototype.move=function(){if(this.moving){var e=s.GAME.tanks;e=e.concat(s.GAME.buildings);var i=0,o=0;switch(this.direction){case a.DIRECTION.UP:o=-this.speed;break;case a.DIRECTION.DOWN:o=this.speed;break;case a.DIRECTION.LEFT:i=-this.speed;break;case a.DIRECTION.RIGHT:i=this.speed}this.coordinate.x+=i,this.coordinate.y+=o;for(var n=0;n<e.length;n++)if(!e[n].canTankPass&&Math.abs(this.coordinate.y-e[n].coordinate.y)<this.radius+e[n].radius-2&&this.coordinate!==e[n].coordinate&&Math.abs(this.coordinate.x-e[n].coordinate.x)<this.radius+e[n].radius-2){!0,this.coordinate.x-=i,this.coordinate.y-=o;break}this.coordinate=t.bound(this.coordinate,this.radius)}},t.bound=function(t,e){return t.x<e?t.x=e:t.x+e>s.CONTEXT.canvas.width&&(t.x=s.CONTEXT.canvas.width-e),t.y<e?t.y=e:t.y+e>s.CONTEXT.canvas.height&&(t.y=s.CONTEXT.canvas.height-e),t},t.prototype.shoot=function(){this.lastShootCount>=this.shootInterval&&(s.GAME.bullets.push(new r(this.coordinate,this.direction,this.bullet.damage,this.bullet.speed)),this.lastShootCount=0,this.type===a.TANK.PLAYER_TANK&&a.AUDIO.shoot.play())},t.prototype.draw=function(){switch(this.type){case a.TANK.PLAYER_TANK:s.CONTEXT.drawImage(a.IMAGE,32*this.direction,0,32,32,this.coordinate.x-16,this.coordinate.y-16,32,32);break;case a.TANK.NORMAL_TANK:s.CONTEXT.drawImage(a.IMAGE,32*this.direction,32,32,32,this.coordinate.x-16,this.coordinate.y-16,32,32);break;case a.TANK.SWIFT_TANK:s.CONTEXT.drawImage(a.IMAGE,32*(4+this.direction),32,32,32,this.coordinate.x-16,this.coordinate.y-16,32,32);break;case a.TANK.HEAVY_TANK:s.CONTEXT.drawImage(a.IMAGE,32*(8+this.direction),64,32,32,this.coordinate.x-16,this.coordinate.y-16,32,32)}},t}();e.Tank=n;var r=function(){function t(t,e,i,s){this.direction=e;var o=0,n=0;switch(this.direction){case a.DIRECTION.UP:n=-20;break;case a.DIRECTION.DOWN:n=20;break;case a.DIRECTION.LEFT:o=-20;break;case a.DIRECTION.RIGHT:o=20}this.coordinate={x:t.x+o,y:t.y+n},this.damage=i,this.alive=!0,this.speed=s,this.radius=1}return t.prototype.beAttacked=function(t){throw new Error("Method not implemented.")},t.prototype.move=function(){if(this.alive)switch(this.direction){case a.DIRECTION.UP:this.coordinate.y-this.speed<=0?(this.coordinate.y=0,this.explosion()):this.checkAllObstacles(),this.coordinate.y-=this.speed;break;case a.DIRECTION.DOWN:this.coordinate.y+this.speed>=s.CONTEXT.canvas.height?(this.coordinate.y=s.CONTEXT.canvas.height,this.explosion()):this.checkAllObstacles(),this.coordinate.y+=this.speed;break;case a.DIRECTION.LEFT:this.coordinate.x-this.speed<=0?(this.coordinate.x=0,this.explosion()):this.checkAllObstacles(),this.coordinate.x-=this.speed;break;case a.DIRECTION.RIGHT:this.coordinate.x+this.speed>=s.CONTEXT.canvas.width?(this.coordinate.x=s.CONTEXT.canvas.width,this.explosion()):this.checkAllObstacles(),this.coordinate.x+=this.speed;break;default:console.error("Unexpected direction")}},t.prototype.explosion=function(){this.alive=!1,s.GAME.explosions.push({coordinate:this.coordinate,type:a.EXPLOSION.BULLET_EXPLOSION})},t.prototype.checkAllObstacles=function(){var e=s.GAME.tanks;e=e.concat(s.GAME.buildings);for(var i=0;i<e.length;i++)if(!e[i].canBulletPass&&t.isHit(this.coordinate,e[i].coordinate,e[i].radius)){this.explosion(),e[i].beAttacked(this);break}},t.prototype.draw=function(){s.CONTEXT.drawImage(a.IMAGE,6*this.direction+80,96,6,6,this.coordinate.x-3,this.coordinate.y-3,6,6)},t.isHit=function(t,e,i){return t.x>=e.x-i&&t.x<=e.x+i&&t.y>=e.y-i&&t.y<=e.y+i},t}();e.Bullet=r;var c=function(){function t(t,e){switch(this.coordinate=t,this.alive=!0,this.type=e,this.radius=8,this.type){case a.BUILDING.BRICK:this.destroyLimit=2,this.canTankPass=!1,this.canBulletPass=!1;break;case a.BUILDING.CEMENT:this.destroyLimit=6,this.canTankPass=!1,this.canBulletPass=!1;break;case a.BUILDING.TREE:this.destroyLimit=1,this.canTankPass=!0,this.canBulletPass=!0;break;case a.BUILDING.WATER:this.destroyLimit=100,this.canTankPass=!1,this.canBulletPass=!0;break;default:this.destroyLimit=100,this.canTankPass=!0,this.canBulletPass=!0}}return t.prototype.beAttacked=function(t){t.damage>=this.destroyLimit&&(this.alive=!1)},t.prototype.draw=function(){this.alive&&s.CONTEXT.drawImage(a.IMAGE,16*this.type,96,16,16,this.coordinate.x-8,this.coordinate.y-8,16,16)},t}();e.Building=c}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9HYW1lL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL0dhbWUvLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vR2FtZS8uL3NyYy9jb25zdGFudC50cyIsIndlYnBhY2s6Ly9HYW1lLy4vc3JjL21vZGVsLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiQ09OVEVYVCIsIkdBTUUiLCJtYWluIiwiY29uc3RhbnRfMSIsIm1vZGVsXzEiLCJjb3VudCIsInRhbmtzIiwiYnVsbGV0cyIsImV4cGxvc2lvbnMiLCJidWlsZGluZ3MiLCJBSSIsImFnZW50IiwidGFyZ2V0IiwiYWN0aW9uTGlzdCIsInBvcCIsIkFDVElPTiIsIk1PVkVfVVAiLCJtb3ZpbmciLCJkaXJlY3Rpb24iLCJESVJFQ1RJT04iLCJVUCIsIk1PVkVfRE9XTiIsIkRPV04iLCJNT1ZFX0xFRlQiLCJMRUZUIiwiTU9WRV9SSUdIVCIsIlJJR0hUIiwiU1RBWSIsIlNIT09UIiwic2hvb3QiLCJET19OT1RISU5HIiwicmFuZG9tIiwiTWF0aCIsInB1c2giLCJyYW5kb21DaG9vc2VGcm9tIiwiQUNUSU9OUyIsImNvbmNhdCIsImZsb29yIiwiY29vcmRpbmF0ZSIsIngiLCJ5IiwiQ0FOVkFTIiwiZ2V0Q29udGV4dCIsImNhbnZhcyIsIndpZHRoIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImhlaWdodCIsImlubmVySGVpZ2h0IiwieFJhbmdlIiwieVJhbmdlIiwiYnVpbGRpbmdUeXBlIiwiQlVJTERJTkdTIiwiaV8xIiwiaiIsIkJ1aWxkaW5nIiwiYnVpbGRpbmdzR2VuZXJhdG9yIiwidGFuayIsIlRhbmsiLCJUQU5LIiwiUExBWUVSX1RBTksiLCJBVURJTyIsInN0YXJ0IiwicGxheSIsInRpY2siLCJFTkVNWV9UQU5LUyIsImxlbmd0aCIsImFsaXZlIiwic3BsaWNlIiwibW92ZSIsInVwZGF0ZUJ1bGxldHMiLCJ1cGRhdGVCdWlsZGluZ3MiLCJ0eXBlIiwiRVhQTE9TSU9OIiwiVEFOS19FWFBMT1NJT04iLCJsYXN0U2hvb3RDb3VudCIsInBsYXllclRhbmsiLCJ1cGRhdGVUYW5rcyIsInVwZGF0ZSIsImNsZWFyUmVjdCIsIm9iamVjdHMiLCJkcmF3IiwiZXhwbG9zaW9uIiwiZHJhd0ltYWdlIiwiSU1BR0UiLCJCVUxMRVRfRVhQTE9TSU9OIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwia2V5QURvd24iLCJrZXlERG93biIsImtleVdEb3duIiwia2V5U0Rvd24iLCJhcnJheSIsImRvY3VtZW50Iiwib25rZXlkb3duIiwiZSIsImNvZGUiLCJsb2NhdGlvbiIsInJlbG9hZCIsImNvbnNvbGUiLCJsb2ciLCJ0b1N0cmluZyIsIm9ua2V5dXAiLCJCVUlMRElORyIsIk5PUk1BTF9UQU5LIiwiU1dJRlRfVEFOSyIsIkhFQVZZX1RBTksiLCJCUklDSyIsIkNFTUVOVCIsIlRSRUUiLCJXQVRFUiIsInRoaXMiLCJnZXRFbGVtZW50QnlJZCIsImNvbGxlY3QiLCJwYXVzZSIsInBpY2siLCJsZXZlbF91cCIsIkNvb3JkaW5hdGUiLCJCdWxsZXQiLCJpbmRleF8xIiwicmFkaXVzIiwic2hvb3RJbnRlcnZhbCIsImNhblRhbmtQYXNzIiwiY2FuQnVsbGV0UGFzcyIsImJ1bGxldCIsImRhbWFnZSIsInNwZWVkIiwiYmxvb2QiLCJhcm1vciIsImF0dGFja0ludGVydmFsIiwiZXJyb3IiLCJiZUF0dGFja2VkIiwib2JzdGFjbGVzIiwieERlbHRhIiwieURlbHRhIiwiYWJzIiwiYm91bmQiLCJ4T2Zmc2V0IiwieU9mZnNldCIsInBhcmFtIiwiRXJyb3IiLCJjaGVja0FsbE9ic3RhY2xlcyIsImlzSGl0IiwiYnVsbGV0Q29vcmRpbmF0ZSIsInRhcmdldENvb3JkaW5hdGUiLCJ0YXJnZXRSYWRpdXMiLCJkZXN0cm95TGltaXQiXSwibWFwcGluZ3MiOiJxQkFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUEwRGYsT0FyREFGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZWIsRUFBUyxhQUFjLENBQUVtQixPQUFPLEtBUXZEckIsRUFBb0JzQixFQUFJLFNBQVNELEVBQU9FLEdBRXZDLEdBRFUsRUFBUEEsSUFBVUYsRUFBUXJCLEVBQW9CcUIsSUFDL0IsRUFBUEUsRUFBVSxPQUFPRixFQUNwQixHQUFXLEVBQVBFLEdBQThCLGlCQUFWRixHQUFzQkEsR0FBU0EsRUFB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VCxLQUFLdEMsTUFDVCxLQUFLckUsRUFBV21HLFNBQVNJLE1BQ3JCSSxLQUFLbUMsYUFBZSxFQUNwQm5DLEtBQUtXLGFBQWMsRUFDbkJYLEtBQUtZLGVBQWdCLEVBQ3JCLE1BQ0osS0FBS3ZILEVBQVdtRyxTQUFTSyxPQUNyQkcsS0FBS21DLGFBQWUsRUFDcEJuQyxLQUFLVyxhQUFjLEVBQ25CWCxLQUFLWSxlQUFnQixFQUNyQixNQUNKLEtBQUt2SCxFQUFXbUcsU0FBU00sS0FDckJFLEtBQUttQyxhQUFlLEVBQ3BCbkMsS0FBS1csYUFBYyxFQUNuQlgsS0FBS1ksZUFBZ0IsRUFDckIsTUFDSixLQUFLdkgsRUFBV21HLFNBQVNPLE1BQ3JCQyxLQUFLbUMsYUFBZSxJQUNwQm5DLEtBQUtXLGFBQWMsRUFDbkJYLEtBQUtZLGVBQWdCLEVBQ3JCLE1BQ0osUUFDSVosS0FBS21DLGFBQWUsSUFDcEJuQyxLQUFLVyxhQUFjLEVBQ25CWCxLQUFLWSxlQUFnQixHQWNqQyxPQVZBbkUsRUFBUzNELFVBQVVzSSxXQUFhLFNBQVVQLEdBQ2xDQSxFQUFPQyxRQUFVZCxLQUFLbUMsZUFDdEJuQyxLQUFLM0MsT0FBUSxJQUdyQlosRUFBUzNELFVBQVVxRixLQUFPLFdBQ2xCNkIsS0FBSzNDLE9BQ0xtRCxFQUFRdEgsUUFBUW1GLFVBQVVoRixFQUFXaUYsTUFBTyxHQUFNMEIsS0FBUyxLQUFHLEdBQUksR0FBSSxHQUFJQSxLQUFLeEUsV0FBV0MsRUFBSSxFQUFHdUUsS0FBS3hFLFdBQVdFLEVBQUksRUFBRyxHQUFJLEtBRzdIZSxFQTVDa0IsR0E4QzdCekYsRUFBUXlGLFNBQVdBIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5DT05URVhUID0gZXhwb3J0cy5HQU1FID0gZXhwb3J0cy5tYWluID0gdm9pZCAwO1xudmFyIGNvbnN0YW50XzEgPSByZXF1aXJlKFwiLi9jb25zdGFudFwiKTtcbnZhciBtb2RlbF8xID0gcmVxdWlyZShcIi4vbW9kZWxcIik7XG52YXIgY291bnQgPSAwO1xudmFyIENPTlRFWFQ7XG5leHBvcnRzLkNPTlRFWFQgPSBDT05URVhUO1xudmFyIEdBTUUgPSB7XG4gICAgdGFua3M6IFtdLFxuICAgIGJ1bGxldHM6IFtdLFxuICAgIGV4cGxvc2lvbnM6IFtdLFxuICAgIGJ1aWxkaW5nczogW11cbn07XG5leHBvcnRzLkdBTUUgPSBHQU1FO1xuZnVuY3Rpb24gbWFpbigpIHtcbiAgICBleHBvcnRzLkNPTlRFWFQgPSBDT05URVhUID0gY29uc3RhbnRfMS5DQU5WQVMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBDT05URVhULmNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgIENPTlRFWFQuY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICBidWlsZGluZ3NHZW5lcmF0b3IoKTtcbiAgICB2YXIgdGFuayA9IG5ldyBtb2RlbF8xLlRhbmsoeyB4OiBDT05URVhULmNhbnZhcy53aWR0aCAvIDIsIHk6IENPTlRFWFQuY2FudmFzLmhlaWdodCB9LCBjb25zdGFudF8xLkRJUkVDVElPTi5VUCwgY29uc3RhbnRfMS5UQU5LLlBMQVlFUl9UQU5LKTtcbiAgICBHQU1FLnRhbmtzLnB1c2godGFuayk7XG4gICAgY29uc3RhbnRfMS5BVURJTy5zdGFydC5wbGF5KCk7XG4gICAgZnVuY3Rpb24gdGljaygpIHtcbiAgICAgICAgdXBkYXRlKCk7XG4gICAgICAgIGRyYXcoKTtcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRpY2spO1xuICAgIH1cbiAgICB0aWNrKCk7XG59XG5leHBvcnRzLm1haW4gPSBtYWluO1xuZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgIGlmIChjb3VudCA9PT0gMCkge1xuICAgICAgICBpZiAoTWF0aC5yYW5kb20oKSA+IDAuNykge1xuICAgICAgICAgICAgR0FNRS50YW5rcy5wdXNoKG5ldyBtb2RlbF8xLlRhbmsoe1xuICAgICAgICAgICAgICAgIHg6IE1hdGgucmFuZG9tKCkgKiBDT05URVhULmNhbnZhcy53aWR0aCxcbiAgICAgICAgICAgICAgICB5OiAwXG4gICAgICAgICAgICB9LCBjb25zdGFudF8xLkRJUkVDVElPTi5ET1dOLCByYW5kb21DaG9vc2VGcm9tKGNvbnN0YW50XzEuRU5FTVlfVEFOS1MpKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY291bnQgKz0gMTtcbiAgICBjb3VudCAlPSA2MDtcbiAgICB1cGRhdGVCdWxsZXRzKCk7XG4gICAgdXBkYXRlQnVpbGRpbmdzKCk7XG4gICAgdXBkYXRlVGFua3MoKTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZUJ1bGxldHMoKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBHQU1FLmJ1bGxldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCFHQU1FLmJ1bGxldHNbaV0uYWxpdmUpIHtcbiAgICAgICAgICAgIEdBTUUuYnVsbGV0cy5zcGxpY2UoaSwgMSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBHQU1FLmJ1bGxldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgR0FNRS5idWxsZXRzW2ldLm1vdmUoKTtcbiAgICB9XG59XG5mdW5jdGlvbiB1cGRhdGVUYW5rcygpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IEdBTUUudGFua3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCFHQU1FLnRhbmtzW2ldLmFsaXZlKSB7XG4gICAgICAgICAgICBHQU1FLmV4cGxvc2lvbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgY29vcmRpbmF0ZTogR0FNRS50YW5rc1tpXS5jb29yZGluYXRlLFxuICAgICAgICAgICAgICAgIHR5cGU6IGNvbnN0YW50XzEuRVhQTE9TSU9OLlRBTktfRVhQTE9TSU9OXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIEdBTUUudGFua3Muc3BsaWNlKGksIDEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIEdBTUUudGFua3NbMF0ubW92ZSgpO1xuICAgIEdBTUUudGFua3NbMF0ubGFzdFNob290Q291bnQgKz0gMTtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IEdBTUUudGFua3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgR0FNRS50YW5rc1tpXS5tb3ZlKCk7XG4gICAgICAgIEdBTUUudGFua3NbaV0ubGFzdFNob290Q291bnQgKz0gMTtcbiAgICB9XG4gICAgaWYgKGNvdW50ICUgNSA9PT0gMCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IEdBTUUudGFua3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwbGF5ZXJUYW5rID0gR0FNRS50YW5rc1swXTtcbiAgICAgICAgICAgIHZhciBlbmVteVRhbmsgPSBHQU1FLnRhbmtzW2ldO1xuICAgICAgICAgICAgQUkoZW5lbXlUYW5rLCBwbGF5ZXJUYW5rKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIEFJKGFnZW50LCB0YXJnZXQpIHtcbiAgICBzd2l0Y2ggKGFnZW50LmFjdGlvbkxpc3QucG9wKCkpIHtcbiAgICAgICAgY2FzZSBjb25zdGFudF8xLkFDVElPTi5NT1ZFX1VQOlxuICAgICAgICAgICAgYWdlbnQubW92aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIGFnZW50LmRpcmVjdGlvbiA9IGNvbnN0YW50XzEuRElSRUNUSU9OLlVQO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgY29uc3RhbnRfMS5BQ1RJT04uTU9WRV9ET1dOOlxuICAgICAgICAgICAgYWdlbnQubW92aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIGFnZW50LmRpcmVjdGlvbiA9IGNvbnN0YW50XzEuRElSRUNUSU9OLkRPV047XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBjb25zdGFudF8xLkFDVElPTi5NT1ZFX0xFRlQ6XG4gICAgICAgICAgICBhZ2VudC5tb3ZpbmcgPSB0cnVlO1xuICAgICAgICAgICAgYWdlbnQuZGlyZWN0aW9uID0gY29uc3RhbnRfMS5ESVJFQ1RJT04uTEVGVDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIGNvbnN0YW50XzEuQUNUSU9OLk1PVkVfUklHSFQ6XG4gICAgICAgICAgICBhZ2VudC5tb3ZpbmcgPSB0cnVlO1xuICAgICAgICAgICAgYWdlbnQuZGlyZWN0aW9uID0gY29uc3RhbnRfMS5ESVJFQ1RJT04uUklHSFQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBjb25zdGFudF8xLkFDVElPTi5TVEFZOlxuICAgICAgICAgICAgYWdlbnQubW92aW5nID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBjb25zdGFudF8xLkFDVElPTi5TSE9PVDpcbiAgICAgICAgICAgIGFnZW50LnNob290KCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBjb25zdGFudF8xLkFDVElPTi5ET19OT1RISU5HOlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBhZ2VudC5tb3ZpbmcgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIHJhbmRvbSA9IE1hdGgucmFuZG9tKCk7XG4gICAgICAgICAgICBpZiAocmFuZG9tIDwgMC41KSB7XG4gICAgICAgICAgICAgICAgYWdlbnQuYWN0aW9uTGlzdC5wdXNoKHJhbmRvbUNob29zZUZyb20oY29uc3RhbnRfMS5BQ1RJT05TKSk7XG4gICAgICAgICAgICAgICAgYWdlbnQuYWN0aW9uTGlzdC5jb25jYXQoW2NvbnN0YW50XzEuQUNUSU9OLlNIT09ULCBjb25zdGFudF8xLkFDVElPTi5TSE9PVCwgY29uc3RhbnRfMS5BQ1RJT04uU0hPT1QsIGNvbnN0YW50XzEuQUNUSU9OLlNIT09UXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChyYW5kb20gPCAwLjgpIHtcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5mbG9vcihyYW5kb20gKiAxMDApICUgMiA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWdlbnQuY29vcmRpbmF0ZS54IDwgdGFyZ2V0LmNvb3JkaW5hdGUueCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWdlbnQuYWN0aW9uTGlzdC5wdXNoKGNvbnN0YW50XzEuQUNUSU9OLk1PVkVfUklHSFQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWdlbnQuYWN0aW9uTGlzdC5wdXNoKGNvbnN0YW50XzEuQUNUSU9OLk1PVkVfTEVGVCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhZ2VudC5jb29yZGluYXRlLnkgPCB0YXJnZXQuY29vcmRpbmF0ZS55KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZ2VudC5hY3Rpb25MaXN0LnB1c2goY29uc3RhbnRfMS5BQ1RJT04uTU9WRV9ET1dOKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFnZW50LmFjdGlvbkxpc3QucHVzaChjb25zdGFudF8xLkFDVElPTi5NT1ZFX1VQKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHJhbmRvbSA8IDAuOCkge1xuICAgICAgICAgICAgICAgIGFnZW50LmFjdGlvbkxpc3QuY29uY2F0KFtjb25zdGFudF8xLkFDVElPTi5NT1ZFX1VQLCBjb25zdGFudF8xLkFDVElPTi5ET19OT1RISU5HLCBjb25zdGFudF8xLkFDVElPTi5TSE9PVCwgY29uc3RhbnRfMS5BQ1RJT04uTU9WRV9MRUZULCBjb25zdGFudF8xLkFDVElPTi5ET19OT1RISU5HLCBjb25zdGFudF8xLkFDVElPTi5TSE9PVCwgY29uc3RhbnRfMS5BQ1RJT04uTU9WRV9ET1dOLCBjb25zdGFudF8xLkFDVElPTi5ET19OT1RISU5HLCBjb25zdGFudF8xLkFDVElPTi5TSE9PVCwgY29uc3RhbnRfMS5BQ1RJT04uTU9WRV9SSUdIVCwgY29uc3RhbnRfMS5BQ1RJT04uRE9fTk9USElORywgY29uc3RhbnRfMS5BQ1RJT04uU0hPT1RdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGFnZW50LmFjdGlvbkxpc3QucHVzaChjb25zdGFudF8xLkFDVElPTi5TSE9PVCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG59XG5mdW5jdGlvbiB1cGRhdGVCdWlsZGluZ3MoKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBHQU1FLmJ1aWxkaW5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoIUdBTUUuYnVpbGRpbmdzW2ldLmFsaXZlKSB7XG4gICAgICAgICAgICBHQU1FLmJ1aWxkaW5ncy5zcGxpY2UoaSwgMSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBkcmF3KCkge1xuICAgIENPTlRFWFQuY2xlYXJSZWN0KDAsIDAsIENPTlRFWFQuY2FudmFzLndpZHRoLCBDT05URVhULmNhbnZhcy5oZWlnaHQpO1xuICAgIHZhciBvYmplY3RzID0gR0FNRS50YW5rcztcbiAgICBvYmplY3RzID0gb2JqZWN0cy5jb25jYXQoR0FNRS5idWxsZXRzKTtcbiAgICBvYmplY3RzID0gb2JqZWN0cy5jb25jYXQoR0FNRS5idWlsZGluZ3MpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqZWN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBvYmplY3RzW2ldLmRyYXcoKTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBHQU1FLmV4cGxvc2lvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGV4cGxvc2lvbiA9IEdBTUUuZXhwbG9zaW9uc1tpXTtcbiAgICAgICAgaWYgKGV4cGxvc2lvbi50eXBlID09PSBjb25zdGFudF8xLkVYUExPU0lPTi5UQU5LX0VYUExPU0lPTikge1xuICAgICAgICAgICAgQ09OVEVYVC5kcmF3SW1hZ2UoY29uc3RhbnRfMS5JTUFHRSwgMzIwLCAwLCAzMiwgMzIsIGV4cGxvc2lvbi5jb29yZGluYXRlLnggLSAxNiwgZXhwbG9zaW9uLmNvb3JkaW5hdGUueSAtIDE2LCAzMiwgMzIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGV4cGxvc2lvbi50eXBlID09PSBjb25zdGFudF8xLkVYUExPU0lPTi5CVUxMRVRfRVhQTE9TSU9OKSB7XG4gICAgICAgICAgICBDT05URVhULmRyYXdJbWFnZShjb25zdGFudF8xLklNQUdFLCAzNTIsIDAsIDMyLCAzMiwgZXhwbG9zaW9uLmNvb3JkaW5hdGUueCAtIDE2LCBleHBsb3Npb24uY29vcmRpbmF0ZS55IC0gMTYsIDMyLCAzMik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgR0FNRS5leHBsb3Npb25zID0gW107XG59XG52YXIga2V5QURvd24gPSBmYWxzZTtcbnZhciBrZXlERG93biA9IGZhbHNlO1xudmFyIGtleVdEb3duID0gZmFsc2U7XG52YXIga2V5U0Rvd24gPSBmYWxzZTtcbmRvY3VtZW50Lm9ua2V5ZG93biA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgc3dpdGNoIChlLmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJLZXlBXCI6XG4gICAgICAgICAgICAgICAga2V5QURvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIEdBTUUudGFua3NbMF0ubW92aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBHQU1FLnRhbmtzWzBdLmRpcmVjdGlvbiA9IGNvbnN0YW50XzEuRElSRUNUSU9OLkxFRlQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiS2V5RFwiOlxuICAgICAgICAgICAgICAgIGtleUREb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBHQU1FLnRhbmtzWzBdLm1vdmluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgR0FNRS50YW5rc1swXS5kaXJlY3Rpb24gPSBjb25zdGFudF8xLkRJUkVDVElPTi5SSUdIVDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJLZXlXXCI6XG4gICAgICAgICAgICAgICAga2V5V0Rvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIEdBTUUudGFua3NbMF0ubW92aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBHQU1FLnRhbmtzWzBdLmRpcmVjdGlvbiA9IGNvbnN0YW50XzEuRElSRUNUSU9OLlVQO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIktleVNcIjpcbiAgICAgICAgICAgICAgICBrZXlTRG93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgR0FNRS50YW5rc1swXS5tb3ZpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIEdBTUUudGFua3NbMF0uZGlyZWN0aW9uID0gY29uc3RhbnRfMS5ESVJFQ1RJT04uRE9XTjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJTcGFjZVwiOlxuICAgICAgICAgICAgICAgIEdBTUUudGFua3NbMF0uc2hvb3QoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJGMTFcIjpcbiAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJLZXlSXCI6XG4gICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiS2V5QlwiOlxuICAgICAgICAgICAgICAgIEdBTUUudGFua3NbMF0gPSBuZXcgbW9kZWxfMS5UYW5rKHtcbiAgICAgICAgICAgICAgICAgICAgeDogQ09OVEVYVC5jYW52YXMud2lkdGggLyAyLFxuICAgICAgICAgICAgICAgICAgICB5OiBDT05URVhULmNhbnZhcy5oZWlnaHRcbiAgICAgICAgICAgICAgICB9LCBjb25zdGFudF8xLkRJUkVDVElPTi5VUCwgY29uc3RhbnRfMS5UQU5LLlBMQVlFUl9UQU5LKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5sb2coZS50b1N0cmluZygpKTtcbiAgICB9XG59O1xuZG9jdW1lbnQub25rZXl1cCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgc3dpdGNoIChlLmNvZGUpIHtcbiAgICAgICAgY2FzZSBcIktleUFcIjpcbiAgICAgICAgICAgIGtleUFEb3duID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIktleURcIjpcbiAgICAgICAgICAgIGtleUREb3duID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIktleVdcIjpcbiAgICAgICAgICAgIGtleVdEb3duID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIktleVNcIjpcbiAgICAgICAgICAgIGtleVNEb3duID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIktleUNcIjpcbiAgICAgICAgICAgIEdBTUUuYnVpbGRpbmdzID0gW107XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBpZiAoIWtleVNEb3duICYmICFrZXlXRG93biAmJiAha2V5RERvd24gJiYgIWtleUFEb3duKVxuICAgICAgICBHQU1FLnRhbmtzWzBdLm1vdmluZyA9IGZhbHNlO1xufTtcbmZ1bmN0aW9uIHJhbmRvbUNob29zZUZyb20oYXJyYXkpIHtcbiAgICByZXR1cm4gYXJyYXlbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYXJyYXkubGVuZ3RoKV07XG59XG5mdW5jdGlvbiBidWlsZGluZ3NHZW5lcmF0b3IoKSB7XG4gICAgdmFyIHhSYW5nZSA9IE1hdGguZmxvb3IoQ09OVEVYVC5jYW52YXMud2lkdGggLyAxNik7XG4gICAgdmFyIHlSYW5nZSA9IE1hdGguZmxvb3IoQ09OVEVYVC5jYW52YXMuaGVpZ2h0IC8gMTYpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTUgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCk7IGkrKykge1xuICAgICAgICB2YXIgYnVpbGRpbmdUeXBlID0gcmFuZG9tQ2hvb3NlRnJvbShjb25zdGFudF8xLkJVSUxESU5HUyk7XG4gICAgICAgIHZhciB4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogeFJhbmdlKTtcbiAgICAgICAgdmFyIHkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB5UmFuZ2UpO1xuICAgICAgICB2YXIgd2lkdGggPSAyO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gMjtcbiAgICAgICAgaWYgKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKSAlIDIgPT09IDApIHtcbiAgICAgICAgICAgIHdpZHRoID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHhSYW5nZSAtIHgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGhlaWdodCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICh5UmFuZ2UgLSB5KSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaV8xID0geDsgaV8xIDwgeCArIHdpZHRoOyBpXzErKykge1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IHk7IGogPCB5ICsgaGVpZ2h0OyBqKyspIHtcbiAgICAgICAgICAgICAgICBHQU1FLmJ1aWxkaW5ncy5wdXNoKG5ldyBtb2RlbF8xLkJ1aWxkaW5nKHtcbiAgICAgICAgICAgICAgICAgICAgeDogaV8xICogMTYsXG4gICAgICAgICAgICAgICAgICAgIHk6IGogKiAxNlxuICAgICAgICAgICAgICAgIH0sIGJ1aWxkaW5nVHlwZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLklNQUdFID0gZXhwb3J0cy5DQU5WQVMgPSBleHBvcnRzLkFVRElPID0gZXhwb3J0cy5BQ1RJT05TID0gZXhwb3J0cy5BQ1RJT04gPSBleHBvcnRzLkJVSUxESU5HUyA9IGV4cG9ydHMuQlVJTERJTkcgPSBleHBvcnRzLkVYUExPU0lPTiA9IGV4cG9ydHMuRElSRUNUSU9OID0gZXhwb3J0cy5FTkVNWV9UQU5LUyA9IGV4cG9ydHMuVEFOSyA9IHZvaWQgMDtcbnZhciBUQU5LO1xuKGZ1bmN0aW9uIChUQU5LKSB7XG4gICAgVEFOS1tUQU5LW1wiUExBWUVSX1RBTktcIl0gPSAwXSA9IFwiUExBWUVSX1RBTktcIjtcbiAgICBUQU5LW1RBTktbXCJOT1JNQUxfVEFOS1wiXSA9IDFdID0gXCJOT1JNQUxfVEFOS1wiO1xuICAgIFRBTktbVEFOS1tcIlNXSUZUX1RBTktcIl0gPSAyXSA9IFwiU1dJRlRfVEFOS1wiO1xuICAgIFRBTktbVEFOS1tcIkhFQVZZX1RBTktcIl0gPSAzXSA9IFwiSEVBVllfVEFOS1wiO1xufSkoVEFOSyB8fCAoVEFOSyA9IHt9KSk7XG5leHBvcnRzLlRBTksgPSBUQU5LO1xudmFyIEVORU1ZX1RBTktTID0gW1RBTksuTk9STUFMX1RBTkssIFRBTksuU1dJRlRfVEFOSywgVEFOSy5IRUFWWV9UQU5LXTtcbmV4cG9ydHMuRU5FTVlfVEFOS1MgPSBFTkVNWV9UQU5LUztcbnZhciBESVJFQ1RJT047XG4oZnVuY3Rpb24gKERJUkVDVElPTikge1xuICAgIERJUkVDVElPTltESVJFQ1RJT05bXCJVUFwiXSA9IDBdID0gXCJVUFwiO1xuICAgIERJUkVDVElPTltESVJFQ1RJT05bXCJET1dOXCJdID0gMV0gPSBcIkRPV05cIjtcbiAgICBESVJFQ1RJT05bRElSRUNUSU9OW1wiTEVGVFwiXSA9IDJdID0gXCJMRUZUXCI7XG4gICAgRElSRUNUSU9OW0RJUkVDVElPTltcIlJJR0hUXCJdID0gM10gPSBcIlJJR0hUXCI7XG59KShESVJFQ1RJT04gfHwgKERJUkVDVElPTiA9IHt9KSk7XG5leHBvcnRzLkRJUkVDVElPTiA9IERJUkVDVElPTjtcbnZhciBFWFBMT1NJT047XG4oZnVuY3Rpb24gKEVYUExPU0lPTikge1xuICAgIEVYUExPU0lPTltFWFBMT1NJT05bXCJUQU5LX0VYUExPU0lPTlwiXSA9IDBdID0gXCJUQU5LX0VYUExPU0lPTlwiO1xuICAgIEVYUExPU0lPTltFWFBMT1NJT05bXCJCVUxMRVRfRVhQTE9TSU9OXCJdID0gMV0gPSBcIkJVTExFVF9FWFBMT1NJT05cIjtcbn0pKEVYUExPU0lPTiB8fCAoRVhQTE9TSU9OID0ge30pKTtcbmV4cG9ydHMuRVhQTE9TSU9OID0gRVhQTE9TSU9OO1xudmFyIEJVSUxESU5HO1xuKGZ1bmN0aW9uIChCVUlMRElORykge1xuICAgIEJVSUxESU5HW0JVSUxESU5HW1wiQlJJQ0tcIl0gPSAwXSA9IFwiQlJJQ0tcIjtcbiAgICBCVUlMRElOR1tCVUlMRElOR1tcIkNFTUVOVFwiXSA9IDFdID0gXCJDRU1FTlRcIjtcbiAgICBCVUlMRElOR1tCVUlMRElOR1tcIlRSRUVcIl0gPSAyXSA9IFwiVFJFRVwiO1xuICAgIEJVSUxESU5HW0JVSUxESU5HW1wiV0FURVJcIl0gPSAzXSA9IFwiV0FURVJcIjtcbiAgICBCVUlMRElOR1tCVUlMRElOR1tcIlJPQURcIl0gPSA0XSA9IFwiUk9BRFwiO1xufSkoQlVJTERJTkcgfHwgKEJVSUxESU5HID0ge30pKTtcbmV4cG9ydHMuQlVJTERJTkcgPSBCVUlMRElORztcbnZhciBCVUlMRElOR1MgPSBbQlVJTERJTkcuQlJJQ0ssIEJVSUxESU5HLkNFTUVOVCwgQlVJTERJTkcuVFJFRSwgQlVJTERJTkcuV0FURVJdO1xuZXhwb3J0cy5CVUlMRElOR1MgPSBCVUlMRElOR1M7XG52YXIgQUNUSU9OO1xuKGZ1bmN0aW9uIChBQ1RJT04pIHtcbiAgICBBQ1RJT05bQUNUSU9OW1wiTU9WRV9VUFwiXSA9IDBdID0gXCJNT1ZFX1VQXCI7XG4gICAgQUNUSU9OW0FDVElPTltcIk1PVkVfRE9XTlwiXSA9IDFdID0gXCJNT1ZFX0RPV05cIjtcbiAgICBBQ1RJT05bQUNUSU9OW1wiTU9WRV9MRUZUXCJdID0gMl0gPSBcIk1PVkVfTEVGVFwiO1xuICAgIEFDVElPTltBQ1RJT05bXCJNT1ZFX1JJR0hUXCJdID0gM10gPSBcIk1PVkVfUklHSFRcIjtcbiAgICBBQ1RJT05bQUNUSU9OW1wiU1RBWVwiXSA9IDRdID0gXCJTVEFZXCI7XG4gICAgQUNUSU9OW0FDVElPTltcIlNIT09UXCJdID0gNV0gPSBcIlNIT09UXCI7XG4gICAgQUNUSU9OW0FDVElPTltcIkRPX05PVEhJTkdcIl0gPSA2XSA9IFwiRE9fTk9USElOR1wiO1xufSkoQUNUSU9OIHx8IChBQ1RJT04gPSB7fSkpO1xuZXhwb3J0cy5BQ1RJT04gPSBBQ1RJT047XG52YXIgQUNUSU9OUyA9IFtBQ1RJT04uTU9WRV9VUCwgQUNUSU9OLk1PVkVfRE9XTiwgQUNUSU9OLk1PVkVfTEVGVCwgQUNUSU9OLk1PVkVfUklHSFQsIEFDVElPTi5TVEFZLCBBQ1RJT04uU0hPT1QsIEFDVElPTi5ET19OT1RISU5HXTtcbmV4cG9ydHMuQUNUSU9OUyA9IEFDVElPTlM7XG52YXIgQXVkaW9NYW5hZ2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEF1ZGlvTWFuYWdlcigpIHtcbiAgICAgICAgdGhpcy5zdGFydCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3RhcnRcIik7XG4gICAgICAgIHRoaXMuY29sbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29sbGVjdFwiKTtcbiAgICAgICAgdGhpcy5zaG9vdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hvb3RcIik7XG4gICAgICAgIHRoaXMuZXhwbG9zaW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJleHBsb3Npb25cIik7XG4gICAgICAgIHRoaXMucGF1c2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBhdXNlXCIpO1xuICAgICAgICB0aGlzLnBpY2sgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBpY2tcIik7XG4gICAgICAgIHRoaXMubGV2ZWxfdXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxldmVsX3VwXCIpO1xuICAgIH1cbiAgICByZXR1cm4gQXVkaW9NYW5hZ2VyO1xufSgpKTtcbnZhciBBVURJTyA9IG5ldyBBdWRpb01hbmFnZXIoKTtcbmV4cG9ydHMuQVVESU8gPSBBVURJTztcbnZhciBDQU5WQVMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FudmFzJyk7XG5leHBvcnRzLkNBTlZBUyA9IENBTlZBUztcbnZhciBJTUFHRSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcHJpdGVzJyk7XG5leHBvcnRzLklNQUdFID0gSU1BR0U7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQnVpbGRpbmcgPSBleHBvcnRzLkNvb3JkaW5hdGUgPSBleHBvcnRzLkJ1bGxldCA9IGV4cG9ydHMuVGFuayA9IHZvaWQgMDtcbnZhciBjb25zdGFudF8xID0gcmVxdWlyZShcIi4vY29uc3RhbnRcIik7XG52YXIgaW5kZXhfMSA9IHJlcXVpcmUoXCIuL2luZGV4XCIpO1xudmFyIENvb3JkaW5hdGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ29vcmRpbmF0ZSh4LCB5KSB7XG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgfVxuICAgIHJldHVybiBDb29yZGluYXRlO1xufSgpKTtcbmV4cG9ydHMuQ29vcmRpbmF0ZSA9IENvb3JkaW5hdGU7XG52YXIgVGFuayA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUYW5rKGNvb3JkaW5hdGUsIGRpcmVjdGlvbiwgdHlwZSkge1xuICAgICAgICB0aGlzLmNvb3JkaW5hdGUgPSBjb29yZGluYXRlO1xuICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IGRpcmVjdGlvbjtcbiAgICAgICAgdGhpcy5sYXN0U2hvb3RDb3VudCA9IDA7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMucmFkaXVzID0gMTY7XG4gICAgICAgIHRoaXMuc2hvb3RJbnRlcnZhbCA9IDYwO1xuICAgICAgICB0aGlzLmFsaXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5tb3ZpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLmNhblRhbmtQYXNzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY2FuQnVsbGV0UGFzcyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFjdGlvbkxpc3QgPSBbXTtcbiAgICAgICAgdGhpcy5idWxsZXQgPSB7XG4gICAgICAgICAgICBkYW1hZ2U6IDUsXG4gICAgICAgICAgICBzcGVlZDogMTBcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5ibG9vZCA9IDEwO1xuICAgICAgICB0aGlzLmFybW9yID0gMC41O1xuICAgICAgICB0aGlzLnNwZWVkID0gMi41O1xuICAgICAgICB0aGlzLmF0dGFja0ludGVydmFsID0gNDA7XG4gICAgICAgIHN3aXRjaCAodGhpcy50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIGNvbnN0YW50XzEuVEFOSy5QTEFZRVJfVEFOSzpcbiAgICAgICAgICAgICAgICB0aGlzLmJsb29kID0gMTA7XG4gICAgICAgICAgICAgICAgdGhpcy5hcm1vciA9IDAuNjtcbiAgICAgICAgICAgICAgICB0aGlzLnNwZWVkID0gMztcbiAgICAgICAgICAgICAgICB0aGlzLmF0dGFja0ludGVydmFsID0gMjA7XG4gICAgICAgICAgICAgICAgdGhpcy5idWxsZXQuZGFtYWdlID0gNTtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1bGxldC5zcGVlZCA9IDE1O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb25zdGFudF8xLlRBTksuTk9STUFMX1RBTks6XG4gICAgICAgICAgICAgICAgdGhpcy5ibG9vZCA9IDEwO1xuICAgICAgICAgICAgICAgIHRoaXMuYXJtb3IgPSAwLjU7XG4gICAgICAgICAgICAgICAgdGhpcy5zcGVlZCA9IDIuNTtcbiAgICAgICAgICAgICAgICB0aGlzLmF0dGFja0ludGVydmFsID0gNDA7XG4gICAgICAgICAgICAgICAgdGhpcy5idWxsZXQuZGFtYWdlID0gNDtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1bGxldC5zcGVlZCA9IDEwO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb25zdGFudF8xLlRBTksuU1dJRlRfVEFOSzpcbiAgICAgICAgICAgICAgICB0aGlzLmJsb29kID0gNTtcbiAgICAgICAgICAgICAgICB0aGlzLmFybW9yID0gMC4zO1xuICAgICAgICAgICAgICAgIHRoaXMuc3BlZWQgPSAzLjU7XG4gICAgICAgICAgICAgICAgdGhpcy5hdHRhY2tJbnRlcnZhbCA9IDIwO1xuICAgICAgICAgICAgICAgIHRoaXMuYnVsbGV0LmRhbWFnZSA9IDM7XG4gICAgICAgICAgICAgICAgdGhpcy5idWxsZXQuc3BlZWQgPSAyMDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRfMS5UQU5LLkhFQVZZX1RBTks6XG4gICAgICAgICAgICAgICAgdGhpcy5ibG9vZCA9IDIwO1xuICAgICAgICAgICAgICAgIHRoaXMuYXJtb3IgPSAwLjc7XG4gICAgICAgICAgICAgICAgdGhpcy5zcGVlZCA9IDE7XG4gICAgICAgICAgICAgICAgdGhpcy5hdHRhY2tJbnRlcnZhbCA9IDYwO1xuICAgICAgICAgICAgICAgIHRoaXMuYnVsbGV0LmRhbWFnZSA9IDc7XG4gICAgICAgICAgICAgICAgdGhpcy5idWxsZXQuc3BlZWQgPSA3O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiVW5leHBlY3RlZCB0YW5rIHR5cGU6IFwiICsgdGhpcy50eXBlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBUYW5rLnByb3RvdHlwZS5iZUF0dGFja2VkID0gZnVuY3Rpb24gKGJ1bGxldCkge1xuICAgICAgICB0aGlzLmJsb29kIC09IGJ1bGxldC5kYW1hZ2UgKiB0aGlzLmFybW9yO1xuICAgICAgICBpZiAodGhpcy5ibG9vZCA8PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmJsb29kID0gMDtcbiAgICAgICAgICAgIHRoaXMuYWxpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0YW50XzEuQVVESU8uZXhwbG9zaW9uLnBsYXkoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVGFuay5wcm90b3R5cGUubW92ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9mZnNldCA9IDI7XG4gICAgICAgIGlmICh0aGlzLm1vdmluZykge1xuICAgICAgICAgICAgdmFyIG92ZXJsYXBwaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgb2JzdGFjbGVzID0gaW5kZXhfMS5HQU1FLnRhbmtzO1xuICAgICAgICAgICAgb2JzdGFjbGVzID0gb2JzdGFjbGVzLmNvbmNhdChpbmRleF8xLkdBTUUuYnVpbGRpbmdzKTtcbiAgICAgICAgICAgIHZhciB4RGVsdGEgPSAwO1xuICAgICAgICAgICAgdmFyIHlEZWx0YSA9IDA7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBjb25zdGFudF8xLkRJUkVDVElPTi5VUDpcbiAgICAgICAgICAgICAgICAgICAgeURlbHRhID0gLXRoaXMuc3BlZWQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgY29uc3RhbnRfMS5ESVJFQ1RJT04uRE9XTjpcbiAgICAgICAgICAgICAgICAgICAgeURlbHRhID0gdGhpcy5zcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBjb25zdGFudF8xLkRJUkVDVElPTi5MRUZUOlxuICAgICAgICAgICAgICAgICAgICB4RGVsdGEgPSAtdGhpcy5zcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBjb25zdGFudF8xLkRJUkVDVElPTi5SSUdIVDpcbiAgICAgICAgICAgICAgICAgICAgeERlbHRhID0gdGhpcy5zcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmNvb3JkaW5hdGUueCArPSB4RGVsdGE7XG4gICAgICAgICAgICB0aGlzLmNvb3JkaW5hdGUueSArPSB5RGVsdGE7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9ic3RhY2xlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChvYnN0YWNsZXNbaV0uY2FuVGFua1Bhc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyh0aGlzLmNvb3JkaW5hdGUueSAtIG9ic3RhY2xlc1tpXS5jb29yZGluYXRlLnkpIDwgdGhpcy5yYWRpdXMgKyBvYnN0YWNsZXNbaV0ucmFkaXVzIC0gb2Zmc2V0XG4gICAgICAgICAgICAgICAgICAgICYmIHRoaXMuY29vcmRpbmF0ZSAhPT0gb2JzdGFjbGVzW2ldLmNvb3JkaW5hdGVcbiAgICAgICAgICAgICAgICAgICAgJiYgTWF0aC5hYnModGhpcy5jb29yZGluYXRlLnggLSBvYnN0YWNsZXNbaV0uY29vcmRpbmF0ZS54KSA8IHRoaXMucmFkaXVzICsgb2JzdGFjbGVzW2ldLnJhZGl1cyAtIG9mZnNldCkge1xuICAgICAgICAgICAgICAgICAgICBvdmVybGFwcGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29vcmRpbmF0ZS54IC09IHhEZWx0YTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb29yZGluYXRlLnkgLT0geURlbHRhO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmNvb3JkaW5hdGUgPSBUYW5rLmJvdW5kKHRoaXMuY29vcmRpbmF0ZSwgdGhpcy5yYWRpdXMpOyAvLyBNYWtlIHRoZSB0YW5rIHVuYWJsZSB0byBjcm9zcyB0aGUgYm9yZGVyXG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRhbmsuYm91bmQgPSBmdW5jdGlvbiAoY29vcmRpbmF0ZSwgcmFkaXVzKSB7XG4gICAgICAgIGlmIChjb29yZGluYXRlLnggPCByYWRpdXMpIHtcbiAgICAgICAgICAgIGNvb3JkaW5hdGUueCA9IHJhZGl1cztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjb29yZGluYXRlLnggKyByYWRpdXMgPiBpbmRleF8xLkNPTlRFWFQuY2FudmFzLndpZHRoKSB7XG4gICAgICAgICAgICBjb29yZGluYXRlLnggPSBpbmRleF8xLkNPTlRFWFQuY2FudmFzLndpZHRoIC0gcmFkaXVzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb29yZGluYXRlLnkgPCByYWRpdXMpIHtcbiAgICAgICAgICAgIGNvb3JkaW5hdGUueSA9IHJhZGl1cztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjb29yZGluYXRlLnkgKyByYWRpdXMgPiBpbmRleF8xLkNPTlRFWFQuY2FudmFzLmhlaWdodCkge1xuICAgICAgICAgICAgY29vcmRpbmF0ZS55ID0gaW5kZXhfMS5DT05URVhULmNhbnZhcy5oZWlnaHQgLSByYWRpdXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvb3JkaW5hdGU7XG4gICAgfTtcbiAgICBUYW5rLnByb3RvdHlwZS5zaG9vdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMubGFzdFNob290Q291bnQgPj0gdGhpcy5zaG9vdEludGVydmFsKSB7XG4gICAgICAgICAgICBpbmRleF8xLkdBTUUuYnVsbGV0cy5wdXNoKG5ldyBCdWxsZXQodGhpcy5jb29yZGluYXRlLCB0aGlzLmRpcmVjdGlvbiwgdGhpcy5idWxsZXQuZGFtYWdlLCB0aGlzLmJ1bGxldC5zcGVlZCkpO1xuICAgICAgICAgICAgdGhpcy5sYXN0U2hvb3RDb3VudCA9IDA7XG4gICAgICAgICAgICBpZiAodGhpcy50eXBlID09PSBjb25zdGFudF8xLlRBTksuUExBWUVSX1RBTkspIHtcbiAgICAgICAgICAgICAgICBjb25zdGFudF8xLkFVRElPLnNob290LnBsYXkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgVGFuay5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRfMS5UQU5LLlBMQVlFUl9UQU5LOlxuICAgICAgICAgICAgICAgIGluZGV4XzEuQ09OVEVYVC5kcmF3SW1hZ2UoY29uc3RhbnRfMS5JTUFHRSwgMzIgKiAodGhpcy5kaXJlY3Rpb24pLCAwLCAzMiwgMzIsIHRoaXMuY29vcmRpbmF0ZS54IC0gMTYsIHRoaXMuY29vcmRpbmF0ZS55IC0gMTYsIDMyLCAzMik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvbnN0YW50XzEuVEFOSy5OT1JNQUxfVEFOSzpcbiAgICAgICAgICAgICAgICBpbmRleF8xLkNPTlRFWFQuZHJhd0ltYWdlKGNvbnN0YW50XzEuSU1BR0UsIDMyICogKHRoaXMuZGlyZWN0aW9uKSwgMzIsIDMyLCAzMiwgdGhpcy5jb29yZGluYXRlLnggLSAxNiwgdGhpcy5jb29yZGluYXRlLnkgLSAxNiwgMzIsIDMyKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRfMS5UQU5LLlNXSUZUX1RBTks6XG4gICAgICAgICAgICAgICAgaW5kZXhfMS5DT05URVhULmRyYXdJbWFnZShjb25zdGFudF8xLklNQUdFLCAzMiAqICg0ICsgdGhpcy5kaXJlY3Rpb24pLCAzMiwgMzIsIDMyLCB0aGlzLmNvb3JkaW5hdGUueCAtIDE2LCB0aGlzLmNvb3JkaW5hdGUueSAtIDE2LCAzMiwgMzIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb25zdGFudF8xLlRBTksuSEVBVllfVEFOSzpcbiAgICAgICAgICAgICAgICBpbmRleF8xLkNPTlRFWFQuZHJhd0ltYWdlKGNvbnN0YW50XzEuSU1BR0UsIDMyICogKDggKyB0aGlzLmRpcmVjdGlvbiksIDMyICogMiwgMzIsIDMyLCB0aGlzLmNvb3JkaW5hdGUueCAtIDE2LCB0aGlzLmNvb3JkaW5hdGUueSAtIDE2LCAzMiwgMzIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFRhbms7XG59KCkpO1xuZXhwb3J0cy5UYW5rID0gVGFuaztcbnZhciBCdWxsZXQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQnVsbGV0KGNvb3JkaW5hdGUsIGRpcmVjdGlvbiwgZGFtYWdlLCBzcGVlZCkge1xuICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IGRpcmVjdGlvbjtcbiAgICAgICAgdmFyIHhPZmZzZXQgPSAwO1xuICAgICAgICB2YXIgeU9mZnNldCA9IDA7XG4gICAgICAgIHN3aXRjaCAodGhpcy5kaXJlY3Rpb24pIHtcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRfMS5ESVJFQ1RJT04uVVA6XG4gICAgICAgICAgICAgICAgeU9mZnNldCA9IC0yMDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRfMS5ESVJFQ1RJT04uRE9XTjpcbiAgICAgICAgICAgICAgICB5T2Zmc2V0ID0gMjA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvbnN0YW50XzEuRElSRUNUSU9OLkxFRlQ6XG4gICAgICAgICAgICAgICAgeE9mZnNldCA9IC0yMDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRfMS5ESVJFQ1RJT04uUklHSFQ6XG4gICAgICAgICAgICAgICAgeE9mZnNldCA9IDIwO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvb3JkaW5hdGUgPSB7XG4gICAgICAgICAgICB4OiBjb29yZGluYXRlLnggKyB4T2Zmc2V0LFxuICAgICAgICAgICAgeTogY29vcmRpbmF0ZS55ICsgeU9mZnNldFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmRhbWFnZSA9IGRhbWFnZTtcbiAgICAgICAgdGhpcy5hbGl2ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuc3BlZWQgPSBzcGVlZDtcbiAgICAgICAgdGhpcy5yYWRpdXMgPSAxO1xuICAgIH1cbiAgICBCdWxsZXQucHJvdG90eXBlLmJlQXR0YWNrZWQgPSBmdW5jdGlvbiAocGFyYW0pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XG4gICAgfTtcbiAgICBCdWxsZXQucHJvdG90eXBlLm1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmFsaXZlKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBjb25zdGFudF8xLkRJUkVDVElPTi5VUDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29vcmRpbmF0ZS55IC0gdGhpcy5zcGVlZCA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvb3JkaW5hdGUueSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmV4cGxvc2lvbigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGVja0FsbE9ic3RhY2xlcygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29vcmRpbmF0ZS55IC09IHRoaXMuc3BlZWQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgY29uc3RhbnRfMS5ESVJFQ1RJT04uRE9XTjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29vcmRpbmF0ZS55ICsgdGhpcy5zcGVlZCA+PSBpbmRleF8xLkNPTlRFWFQuY2FudmFzLmhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb29yZGluYXRlLnkgPSBpbmRleF8xLkNPTlRFWFQuY2FudmFzLmhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXhwbG9zaW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoZWNrQWxsT2JzdGFjbGVzKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb29yZGluYXRlLnkgKz0gdGhpcy5zcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBjb25zdGFudF8xLkRJUkVDVElPTi5MRUZUOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jb29yZGluYXRlLnggLSB0aGlzLnNwZWVkIDw9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29vcmRpbmF0ZS54ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXhwbG9zaW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoZWNrQWxsT2JzdGFjbGVzKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb29yZGluYXRlLnggLT0gdGhpcy5zcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBjb25zdGFudF8xLkRJUkVDVElPTi5SSUdIVDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29vcmRpbmF0ZS54ICsgdGhpcy5zcGVlZCA+PSBpbmRleF8xLkNPTlRFWFQuY2FudmFzLndpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvb3JkaW5hdGUueCA9IGluZGV4XzEuQ09OVEVYVC5jYW52YXMud2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmV4cGxvc2lvbigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGVja0FsbE9ic3RhY2xlcygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29vcmRpbmF0ZS54ICs9IHRoaXMuc3BlZWQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmV4cGVjdGVkIGRpcmVjdGlvblwiKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEJ1bGxldC5wcm90b3R5cGUuZXhwbG9zaW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmFsaXZlID0gZmFsc2U7XG4gICAgICAgIGluZGV4XzEuR0FNRS5leHBsb3Npb25zLnB1c2goe1xuICAgICAgICAgICAgY29vcmRpbmF0ZTogdGhpcy5jb29yZGluYXRlLFxuICAgICAgICAgICAgdHlwZTogY29uc3RhbnRfMS5FWFBMT1NJT04uQlVMTEVUX0VYUExPU0lPTlxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEJ1bGxldC5wcm90b3R5cGUuY2hlY2tBbGxPYnN0YWNsZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvYnN0YWNsZXMgPSBpbmRleF8xLkdBTUUudGFua3M7XG4gICAgICAgIG9ic3RhY2xlcyA9IG9ic3RhY2xlcy5jb25jYXQoaW5kZXhfMS5HQU1FLmJ1aWxkaW5ncyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JzdGFjbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAob2JzdGFjbGVzW2ldLmNhbkJ1bGxldFBhc3MpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChCdWxsZXQuaXNIaXQodGhpcy5jb29yZGluYXRlLCBvYnN0YWNsZXNbaV0uY29vcmRpbmF0ZSwgb2JzdGFjbGVzW2ldLnJhZGl1cykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmV4cGxvc2lvbigpO1xuICAgICAgICAgICAgICAgIG9ic3RhY2xlc1tpXS5iZUF0dGFja2VkKHRoaXMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBCdWxsZXQucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGluZGV4XzEuQ09OVEVYVC5kcmF3SW1hZ2UoY29uc3RhbnRfMS5JTUFHRSwgNiAqICh0aGlzLmRpcmVjdGlvbikgKyA4MCwgOTYsIDYsIDYsIHRoaXMuY29vcmRpbmF0ZS54IC0gMywgdGhpcy5jb29yZGluYXRlLnkgLSAzLCA2LCA2KTtcbiAgICB9O1xuICAgIEJ1bGxldC5pc0hpdCA9IGZ1bmN0aW9uIChidWxsZXRDb29yZGluYXRlLCB0YXJnZXRDb29yZGluYXRlLCB0YXJnZXRSYWRpdXMpIHtcbiAgICAgICAgcmV0dXJuIChidWxsZXRDb29yZGluYXRlLnggPj0gdGFyZ2V0Q29vcmRpbmF0ZS54IC0gdGFyZ2V0UmFkaXVzKVxuICAgICAgICAgICAgJiYgKGJ1bGxldENvb3JkaW5hdGUueCA8PSB0YXJnZXRDb29yZGluYXRlLnggKyB0YXJnZXRSYWRpdXMpXG4gICAgICAgICAgICAmJiAoYnVsbGV0Q29vcmRpbmF0ZS55ID49IHRhcmdldENvb3JkaW5hdGUueSAtIHRhcmdldFJhZGl1cylcbiAgICAgICAgICAgICYmIChidWxsZXRDb29yZGluYXRlLnkgPD0gdGFyZ2V0Q29vcmRpbmF0ZS55ICsgdGFyZ2V0UmFkaXVzKTtcbiAgICB9O1xuICAgIHJldHVybiBCdWxsZXQ7XG59KCkpO1xuZXhwb3J0cy5CdWxsZXQgPSBCdWxsZXQ7XG52YXIgQnVpbGRpbmcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQnVpbGRpbmcoY29vcmRpbmF0ZSwgdHlwZSkge1xuICAgICAgICB0aGlzLmNvb3JkaW5hdGUgPSBjb29yZGluYXRlO1xuICAgICAgICB0aGlzLmFsaXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5yYWRpdXMgPSA4O1xuICAgICAgICBzd2l0Y2ggKHRoaXMudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBjb25zdGFudF8xLkJVSUxESU5HLkJSSUNLOlxuICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveUxpbWl0ID0gMjtcbiAgICAgICAgICAgICAgICB0aGlzLmNhblRhbmtQYXNzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5jYW5CdWxsZXRQYXNzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvbnN0YW50XzEuQlVJTERJTkcuQ0VNRU5UOlxuICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveUxpbWl0ID0gNjtcbiAgICAgICAgICAgICAgICB0aGlzLmNhblRhbmtQYXNzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5jYW5CdWxsZXRQYXNzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvbnN0YW50XzEuQlVJTERJTkcuVFJFRTpcbiAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3lMaW1pdCA9IDE7XG4gICAgICAgICAgICAgICAgdGhpcy5jYW5UYW5rUGFzcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5jYW5CdWxsZXRQYXNzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRfMS5CVUlMRElORy5XQVRFUjpcbiAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3lMaW1pdCA9IDEwMDtcbiAgICAgICAgICAgICAgICB0aGlzLmNhblRhbmtQYXNzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5jYW5CdWxsZXRQYXNzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95TGltaXQgPSAxMDA7XG4gICAgICAgICAgICAgICAgdGhpcy5jYW5UYW5rUGFzcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5jYW5CdWxsZXRQYXNzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBCdWlsZGluZy5wcm90b3R5cGUuYmVBdHRhY2tlZCA9IGZ1bmN0aW9uIChidWxsZXQpIHtcbiAgICAgICAgaWYgKGJ1bGxldC5kYW1hZ2UgPj0gdGhpcy5kZXN0cm95TGltaXQpIHtcbiAgICAgICAgICAgIHRoaXMuYWxpdmUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQnVpbGRpbmcucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmFsaXZlKSB7XG4gICAgICAgICAgICBpbmRleF8xLkNPTlRFWFQuZHJhd0ltYWdlKGNvbnN0YW50XzEuSU1BR0UsIDE2ICogKHRoaXMudHlwZSksIDk2LCAxNiwgMTYsIHRoaXMuY29vcmRpbmF0ZS54IC0gOCwgdGhpcy5jb29yZGluYXRlLnkgLSA4LCAxNiwgMTYpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQnVpbGRpbmc7XG59KCkpO1xuZXhwb3J0cy5CdWlsZGluZyA9IEJ1aWxkaW5nO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==